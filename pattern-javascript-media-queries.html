<section class="row">
    <div class="columns small-12">
        <p class="caption--p__roboto text-center">Pattern: JavaScript Media Queries (jsMQ)</p>
        <hr>
    </div>
</section>
<section class="row">
    <div class="columns small-12 medium-12 large-4">
        <p class="caption--p__roboto text-center">Problem</p>
        <hr>
        <p class="article--p__roboto text-center">We cannot access the browser dimensions at runtime.  Our workaround has been to create redundant elements.  For example; If we have a button that we want to perform one action while Small and a different action while Large, we would create two buttons and have Foundation conditionally hide one.  While this works in simple scenarios, it becomes unmanageable when many inter-dependent elements are involved.</p>
    </div>
    <div class="columns small-12 medium-6 large-4">
        <p class="caption--p__roboto text-center">Solution</p>
        <hr>
        <p class="article--p__roboto text-center">JavaScript Media Query or jsMQ is a function in application_responsive.js.  It is 20 lines of code available to all responsive pages.  jsMQ can tell you what the current state of the browser is (Small, Medium or Large) and notify you if there is a change.</p>
        <ol>
            <li>Decoupled:&nbsp; Compatible with Zurb Foundation 4, 5 and 6
            </li>
            <li>Performance:&nbsp; Page weight is reduced because there is less redundant markup
            </li>
            <li>Encapsulated:&nbsp; The media query breakpoints exist in only one function
            </li>
            <li>Futureproof:&nbsp; If a new device type renders small in portrait and medium in landscape, our logic can react without a page refresh
            </li>
        </ol>
    </div>
    <div class="columns small-12 medium-6 large-4">
        <p class="caption--p__roboto text-center">Reference</p>
        <hr>
        <a href="https://api.jquery.com/jQuery.Callbacks/"
         target="_blank"
        class="button extended hollow">JQuery Callbacks</a>
        <a href="http://zurb.com/university/lessons/source-ordering-comes-to-rows" target="_blank"
        class="button extended hollow">ZF Source Ordering</a>
    </div>
</section>





<section class="row">
	<aside class="columns small-12">
<pre>
<code class="language-js">jsMQcallback = $.Callbacks(), jsMQcurrent = "";
var jsMQ = {
    getVW : function(){
        vw=jQuery(window).width();
        if(vw  &lt;= 480) return "s";
        if((vw &gt;= 480) && (vw &lt;= 748)) return "sl";
        if((vw &gt;= 749) && (vw &lt;= 965)) return "m";
        if(vw  &gt;= 966) return "l"; 
    },
    pubVW : function(){
        vw = jsMQ.getVW(); 
        if(jsMQcurrent != vw){
            jsMQcurrent = vw;
            jsMQcallback.fire(vw);
        }
    },
    isSmall  : function(){ return ( jsMQ.getVW().charAt(0)=="s" ) ? true : false; },
    isMedium : function(){ return ( jsMQ.getVW()=="m" ) ? true : false; },
    isLarge  : function(){ return ( jsMQ.getVW()=="l" ) ? true : false; }
};
setInterval(jsMQ.pubVW, 1800);</code>
</pre>

	</aside>
</section>