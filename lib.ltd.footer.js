(function(r,p,n,v){var t=function(b){var c=b.length;var a=r("head");while(c--){if(a.has("."+b[c]).length===0){a.append('<meta class="'+b[c]+'" />')}}};t(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]);r(function(){if(typeof FastClick!=="undefined"){if(typeof n.body!=="undefined"){FastClick.attach(n.body)}}});var s=function(c,b){if(typeof c==="string"){if(b){var a;if(b.jquery){a=b[0];if(!a){return b}}else{a=b}return r(a.querySelectorAll(c))}return r(n.querySelectorAll(c))}return r(c,b)};var m=function(b){var a=[];if(!b){a.push("data")}if(this.namespace.length>0){a.push(this.namespace)}a.push(this.name);return a.join("-")};var q=function(b){var c=b.split("-"),d=c.length,a=[];while(d--){if(d!==0){a.push(c[d])}else{if(this.namespace.length>0){a.push(this.namespace,c[d])}else{a.push(c[d])}}}return a.reverse().join("-")};var w=function(b,d){var a=this,c=function(){var e=s(this),f=!e.data(a.attr_name(true)+"-init");e.data(a.attr_name(true)+"-init",r.extend({},a.settings,(d||b),a.data_options(e)));if(f){a.events(this)}};if(s(this.scope).is("["+this.attr_name()+"]")){c.call(this.scope)}else{s("["+this.attr_name()+"]",this.scope).each(c)}if(typeof b==="string"){return this[b].call(this,d)}};var u=function(c,b){function a(){b(c[0])}function d(){this.one("load",a);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var e=this.attr("src"),f=e.match(/\?/)?"&":"?";f+="random="+(new Date()).getTime();this.attr("src",e+f)}}if(!c.attr("src")){a();return}if(c[0].complete||c[0].readyState===4){a()}else{d.call(c)}};
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
p.matchMedia||(p.matchMedia=function(){var d=(p.styleMedia||p.media);if(!d){var c=n.createElement("style"),a=n.getElementsByTagName("script")[0],b=null;c.type="text/css";c.id="matchmediajs-test";a.parentNode.insertBefore(c,a);b=("getComputedStyle" in p)&&p.getComputedStyle(c,null)||c.currentStyle;d={matchMedium:function(f){var e="@media "+f+"{ #matchmediajs-test { width: 1px; } }";if(c.styleSheet){c.styleSheet.cssText=e}else{c.textContent=e}return b.width==="1px"}}}return function(e){return{matches:d.matchMedium(e||"all"),media:e||"all"}}}());(function(f){var a,g=0,b=["webkit","moz"],c=p.requestAnimationFrame,d=p.cancelAnimationFrame,h="undefined"!==typeof f.fx;for(;g<b.length&&!c;g++){c=p[b[g]+"RequestAnimationFrame"];d=d||p[b[g]+"CancelAnimationFrame"]||p[b[g]+"CancelRequestAnimationFrame"]}function e(){if(a){c(e);if(h){f.fx.tick()}}}if(c){p.requestAnimationFrame=c;p.cancelAnimationFrame=d;if(h){f.fx.timer=function(j){if(j()&&f.timers.push(j)&&!a){a=true;e()}};f.fx.stop=function(){a=false}}}else{p.requestAnimationFrame=function(j){var y=new Date().getTime(),l=Math.max(0,16-(y-g)),k=p.setTimeout(function(){j(y+l)},l);g=y+l;return k};p.cancelAnimationFrame=function(j){clearTimeout(j)}}}(r));function o(a){if(typeof a==="string"||a instanceof String){a=a.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")}return a}p.Foundation={name:"Foundation",version:"5.5.2",media_queries:{small:s(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"small-only":s(".foundation-mq-small-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:s(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"medium-only":s(".foundation-mq-medium-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:s(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"large-only":s(".foundation-mq-large-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:s(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"xlarge-only":s(".foundation-mq-xlarge-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:s(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:r("<style></style>").appendTo("head")[0].sheet,global:{namespace:v},init:function(e,h,b,f,a){var g=[e,b,f,a],d=[];this.rtl=/rtl/i.test(s("html").attr("dir"));this.scope=e||this.scope;this.set_namespace();if(h&&typeof h==="string"&&!/reflow/i.test(h)){if(this.libs.hasOwnProperty(h)){d.push(this.init_lib(h,g))}}else{for(var c in this.libs){d.push(this.init_lib(c,h))}}s(p).load(function(){s(p).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")});return e},init_lib:function(b,a){if(this.libs.hasOwnProperty(b)){this.patch(this.libs[b]);if(a&&a.hasOwnProperty(b)){if(typeof this.libs[b].settings!=="undefined"){r.extend(true,this.libs[b].settings,a[b])}else{if(typeof this.libs[b].defaults!=="undefined"){r.extend(true,this.libs[b].defaults,a[b])}}return this.libs[b].init.apply(this.libs[b],[this.scope,a[b]])}a=a instanceof Array?a:new Array(a);return this.libs[b].init.apply(this.libs[b],a)}return function(){}},patch:function(a){a.scope=this.scope;a.namespace=this.global.namespace;a.rtl=this.rtl;a.data_options=this.utils.data_options;a.attr_name=m;a.add_namespace=q;a.bindings=w;a.S=this.utils.S},inherit:function(b,d){var a=d.split(" "),c=a.length;while(c--){if(this.utils.hasOwnProperty(a[c])){b[a[c]]=this.utils[a[c]]}}},set_namespace:function(){var a=(this.global.namespace===v)?r(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=(a===v||/false/i.test(a))?"":a},libs:{},utils:{S:s,throttle:function(c,a){var b=null;return function(){var d=this,e=arguments;if(b==null){b=setTimeout(function(){c.apply(d,e);b=null},a)}}},debounce:function(c,d,e){var b,a;return function(){var f=this,g=arguments;var h=function(){b=null;if(!e){a=c.apply(f,g)}};var j=e&&!b;clearTimeout(b);b=setTimeout(h,d);if(j){a=c.apply(f,g)}return a}},data_options:function(c,a){a=a||"options";var e={},h,d,f,j=function(l){var y=Foundation.global.namespace;if(y.length>0){return l.data(y+"-"+a)}return l.data(a)};var k=j(c);if(typeof k==="object"){return k}f=(k||":").split(";");h=f.length;function g(l){return !isNaN(l-0)&&l!==null&&l!==""&&l!==false&&l!==true}function b(l){if(typeof l==="string"){return r.trim(l)}return l}while(h--){d=f[h].split(":");d=[d[0],d.slice(1).join(":")];if(/true/i.test(d[1])){d[1]=true}if(/false/i.test(d[1])){d[1]=false}if(g(d[1])){if(d[1].indexOf(".")===-1){d[1]=parseInt(d[1],10)}else{d[1]=parseFloat(d[1])}}if(d.length===2&&d[0].length>0){e[b(d[0])]=b(d[1])}}return e},register_media:function(b,a){if(Foundation.media_queries[b]===v){r("head").append('<meta class="'+a+'"/>');Foundation.media_queries[b]=o(r("."+a).css("font-family"))}},add_custom_rule:function(b,c){if(c===v&&Foundation.stylesheet){Foundation.stylesheet.insertRule(b,Foundation.stylesheet.cssRules.length)}else{var a=Foundation.media_queries[c];if(a!==v){Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[c]+"{ "+b+" }",Foundation.stylesheet.cssRules.length)}}},image_loaded:function(a,b){var e=this,d=a.length;function c(h){var f=h.length;for(var g=f-1;g>=0;g--){if(h.attr("height")===v){return false}}return true}if(d===0||c(a)){b(a)}a.each(function(){u(e.S(this),function(){d-=1;if(d===0){b(a)}})})},random_str:function(){if(!this.fidx){this.fidx=0}this.prefix=this.prefix||[(this.name||"F"),(+new Date).toString(36)].join("-");return this.prefix+(this.fidx++).toString(36)},match:function(a){return p.matchMedia(a).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return !this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}};r.fn.foundation=function(){var a=Array.prototype.slice.call(arguments,0);return this.each(function(){Foundation.init.apply(Foundation,[this].concat(a));return this})}}(jQuery,window,window.document));(function(h,e,f,g){Foundation.libs.abide={name:"abide",version:"5.5.2",settings:{live_validate:true,validate_on_blur:true,focus_on_invalid:true,error_labels:true,error_class:"error",timeout:1000,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/([-;:&=\+\$,\w]+@{1})?([-A-Za-z0-9\.]+)+:?(\d+)?((\/[-\+~%\/\.\w]+)?\??([-\+=&;%@\.\w]+)?#?([\w]+)?)?/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(l,c,m){var a=f.getElementById(l.getAttribute(this.add_namespace("data-equalto"))).value,b=l.value,d=(a===b);return d}}},timer:null,init:function(b,a,c){this.bindings(a,c)},events:function(c){var k=this,b=k.S(c).attr("novalidate","novalidate"),d=b.data(this.attr_name(true)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid");function a(m,j){clearTimeout(k.timer);k.timer=setTimeout(function(){k.validate([m],j)}.bind(m),d.timeout)}b.off(".abide").on("submit.fndtn.abide",function(j){var m=/ajax/i.test(k.S(this).attr(k.attr_name()));return k.validate(k.S(this).find("input, textarea, select").not(":hidden, [data-abide-ignore]").get(),j,m)}).on("validate.fndtn.abide",function(j){if(d.validate_on==="manual"){k.validate([j.target],j)}}).on("reset",function(j){return k.reset(h(this),j)}).find("input, textarea, select").not(":hidden, [data-abide-ignore]").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(j){if(d.validate_on_blur&&d.validate_on_blur===true){a(this,j)}if(d.validate_on==="change"){a(this,j)}}).on("keydown.fndtn.abide",function(j){if(d.live_validate&&d.live_validate===true&&j.which!=9){a(this,j)}if(d.validate_on==="tab"&&j.which===9){a(this,j)}else{if(d.validate_on==="change"){a(this,j)}}}).on("focus",function(j){if(navigator.userAgent.match(/iPad|iPhone|Android|BlackBerry|Windows Phone|webOS/i)){h("html, body").animate({scrollTop:h(j.target).offset().top},100)}})},reset:function(b,a){var c=this;b.removeAttr(c.invalid_attr);h("["+c.invalid_attr+"]",b).removeAttr(c.invalid_attr);h("."+c.settings.error_class,b).not("small").removeClass(c.settings.error_class);h(":input",b).not(":button, :submit, :reset, :hidden, [data-abide-ignore]").val("").removeAttr(c.invalid_attr)},validate:function(b,r,q){var c=this.parse_patterns(b),d=c.length,a=this.S(b[0]).closest("form"),p=/submit/.test(r.type);for(var o=0;o<d;o++){if(!c[o]&&(p||q)){if(this.settings.focus_on_invalid){b[o].focus()}a.trigger("invalid.fndtn.abide");this.S(b[o]).closest("form").attr(this.invalid_attr,"");return false}}if(p||q){a.trigger("valid.fndtn.abide")}a.removeAttr(this.invalid_attr);if(q){return false}return true},parse_patterns:function(a){var b=a.length,c=[];while(b--){c.push(this.pattern(a[b]))}return this.check_validation_and_apply_styles(c)},pattern:function(c){var d=c.getAttribute("type"),a=typeof c.getAttribute("required")==="string";var b=c.getAttribute("pattern")||"";if(this.settings.patterns.hasOwnProperty(b)&&b.length>0){return[c,this.settings.patterns[b],a]}else{if(b.length>0){return[c,new RegExp(b),a]}}if(this.settings.patterns.hasOwnProperty(d)){return[c,this.settings.patterns[d],a]}b=/.*/;return[c,b,a]},check_validation_and_apply_styles:function(G){var c=G.length,Q=[],S=this.S(G[0][0]).closest("[data-"+this.attr_name(true)+"]"),J=S.data(this.attr_name(true)+"-init")||{};while(c--){var T=G[c][0],F=G[c][2],C=T.value.trim(),b=this.S(T).parent(),N=T.getAttribute(this.add_namespace("data-abide-validator")),U=T.type==="radio",E=T.type==="checkbox",K=this.S('label[for="'+T.getAttribute("id")+'"]'),R=(F)?(T.value.length>0):true,L=[];var I,D;if(T.getAttribute(this.add_namespace("data-equalto"))){N="equalTo"}if(!b.is("label")){I=b}else{I=b.parent()}if(U&&F){L.push(this.valid_radio(T,F))}else{if(E&&F){L.push(this.valid_checkbox(T,F))}else{if(N){var d=N.split(" ");var H=true,M=true;for(var O=0;O<d.length;O++){D=this.settings.validators[d[O]].apply(this,[T,F,I]);L.push(D);M=D&&H;H=D}if(M){this.S(T).removeAttr(this.invalid_attr);I.removeClass("error");if(K.length>0&&this.settings.error_labels){K.removeClass(this.settings.error_class).removeAttr("role")}h(T).triggerHandler("valid")}else{this.S(T).attr(this.invalid_attr,"");I.addClass("error");if(K.length>0&&this.settings.error_labels){K.addClass(this.settings.error_class).attr("role","alert")}h(T).triggerHandler("invalid")}}else{if(G[c][1].test(C)&&R||!F&&T.value.length<1||h(T).attr("disabled")){L.push(true)}else{L.push(false)}L=[L.every(function(j){return j})];if(L[0]){this.S(T).removeAttr(this.invalid_attr);T.setAttribute("aria-invalid","false");T.removeAttribute("aria-describedby");I.removeClass(this.settings.error_class);if(K.length>0&&this.settings.error_labels){K.removeClass(this.settings.error_class).removeAttr("role")}h(T).triggerHandler("valid")}else{this.S(T).attr(this.invalid_attr,"");T.setAttribute("aria-invalid","true");var P=I.find("small."+this.settings.error_class,"span."+this.settings.error_class);var a=P.length>0?P[0].id:"";if(a.length>0){T.setAttribute("aria-describedby",a)}I.addClass(this.settings.error_class);if(K.length>0&&this.settings.error_labels){K.addClass(this.settings.error_class).attr("role","alert")}h(T).triggerHandler("invalid")}}}}Q=Q.concat(L)}return Q},valid_checkbox:function(c,a){var c=this.S(c),b=(c.is(":checked")||!a||c.get(0).getAttribute("disabled"));if(b){c.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class);h(c).triggerHandler("valid")}else{c.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class);h(c).triggerHandler("invalid")}return b},valid_radio:function(n,a){var q=n.getAttribute("name"),b=this.S(n).closest("[data-"+this.attr_name(true)+"]").find("[name='"+q+"']"),c=b.length,d=false,o=false;for(var p=0;p<c;p++){if(b[p].getAttribute("disabled")){o=true;d=true}else{if(b[p].checked){d=true}else{if(o){d=false}}}}for(var p=0;p<c;p++){if(d){this.S(b[p]).removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class);h(b[p]).triggerHandler("valid")}else{this.S(b[p]).attr(this.invalid_attr,"").parent().addClass(this.settings.error_class);h(b[p]).triggerHandler("invalid")}}return d},valid_equal:function(l,c,m){var a=f.getElementById(l.getAttribute(this.add_namespace("data-equalto"))).value,b=l.value,d=(a===b);if(d){this.S(l).removeAttr(this.invalid_attr);m.removeClass(this.settings.error_class);if(label.length>0&&settings.error_labels){label.removeClass(this.settings.error_class)}}else{this.S(l).attr(this.invalid_attr,"");m.addClass(this.settings.error_class);if(label.length>0&&settings.error_labels){label.addClass(this.settings.error_class)}}return d},valid_oneof:function(d,b,m,o){var d=this.S(d),n=this.S("["+this.add_namespace("data-oneof")+"]"),c=n.filter(":checked").length>0;if(c){d.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class)}else{d.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class)}if(!o){var a=this;n.each(function(){a.valid_oneof.call(a,this,null,null,true)})}return c},reflow:function(b,c){var d=this,a=d.S("["+this.attr_name()+"]").attr("novalidate","novalidate");d.S(a).each(function(m,l){d.events(l)})}}}(jQuery,window,window.document));(function(h,e,f,g){Foundation.libs.accordion={name:"accordion",version:"5.5.2",settings:{content_class:"content",active_class:"active",multi_expand:false,toggleable:true,callback:function(){}},init:function(b,a,c){this.bindings(a,c)},events:function(c){var b=this;var a=this.S;b.create(this.S(c));a(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > dd > a, ["+this.attr_name()+"] > li > a",function(v){var t=a(this).closest("["+b.attr_name()+"]"),s=b.attr_name()+"="+t.attr(b.attr_name()),q=t.data(b.attr_name(true)+"-init")||b.settings,w=a("#"+this.href.split("#")[1]),d=h("> dd, > li",t),u=d.children("."+q.content_class),r=u.filter("."+q.active_class);v.preventDefault();if(t.attr(b.attr_name())){u=u.add("["+s+"] dd > ."+q.content_class+", ["+s+"] li > ."+q.content_class);d=d.add("["+s+"] dd, ["+s+"] li")}if(q.toggleable&&w.is(r)){w.parent("dd, li").toggleClass(q.active_class,false);w.toggleClass(q.active_class,false);a(this).attr("aria-expanded",function(j,k){return k==="true"?"false":"true"});q.callback(w);w.triggerHandler("toggled",[t]);t.triggerHandler("toggled",[w]);return}if(!q.multi_expand){u.removeClass(q.active_class);d.removeClass(q.active_class);d.children("a").attr("aria-expanded","false")}w.addClass(q.active_class).parent().addClass(q.active_class);q.callback(w);w.triggerHandler("toggled",[t]);t.triggerHandler("toggled",[w]);a(this).attr("aria-expanded","true")})},create:function(a){var d=this,k=a,b=h("> .accordion-navigation",k),c=k.data(d.attr_name(true)+"-init")||d.settings;b.children("a").attr("aria-expanded","false");b.has("."+c.content_class+"."+c.active_class).children("a").attr("aria-expanded","true");if(c.multi_expand){a.attr("aria-multiselectable","true")}},off:function(){},reflow:function(){}}}(jQuery,window,window.document));(function(h,e,f,g){Foundation.libs.alert={name:"alert",version:"5.5.2",settings:{callback:function(){}},init:function(b,a,c){this.bindings(a,c)},events:function(){var b=this,a=this.S;h(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] .close",function(c){var k=a(this).closest("["+b.attr_name()+"]"),d=k.data(b.attr_name(true)+"-init")||b.settings;c.preventDefault();if(Modernizr.csstransitions){k.addClass("alert-close");k.on("transitionend webkitTransitionEnd oTransitionEnd",function(j){a(this).trigger("close.fndtn.alert").remove();d.callback()})}else{k.fadeOut(300,function(){a(this).trigger("close.fndtn.alert").remove();d.callback()})}})},reflow:function(){}}}(jQuery,window,window.document));(function(h,e,f,g){Foundation.libs.clearing={name:"clearing",version:"5.5.2",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div><img class="clearing-preload-next" style="display: none" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><img class="clearing-preload-prev" style="display: none" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" />'},close_selectors:".clearing-close, div.clearing-blackout",open_selectors:"",skip_selector:"",touch_label:"",init:false,locked:false},init:function(b,a,c){var d=this;Foundation.inherit(this,"throttle image_loaded");this.bindings(a,c);if(d.S(this.scope).is("["+this.attr_name()+"]")){this.assemble(d.S("li",this.scope))}else{d.S("["+this.attr_name()+"]",this.scope).each(function(){d.assemble(d.S("li",this))})}},events:function(b){var d=this,c=d.S,a=h(".scroll-container");if(a.length>0){this.scope=a}c(this.scope).off(".clearing").on("click.fndtn.clearing","ul["+this.attr_name()+"] li "+this.settings.open_selectors,function(t,u,p){var u=u||c(this),p=p||u,r=u.next("li"),s=u.closest("["+d.attr_name()+"]").data(d.attr_name(true)+"-init"),q=c(t.target);t.preventDefault();if(!s){d.init();s=u.closest("["+d.attr_name()+"]").data(d.attr_name(true)+"-init")}if(p.hasClass("visible")&&u[0]===p[0]&&r.length>0&&d.is_open(u)){p=r;q=c("img",p)}d.open(q,u,p);d.update_paddles(p)}).on("click.fndtn.clearing",".clearing-main-next",function(k){d.nav(k,"next")}).on("click.fndtn.clearing",".clearing-main-prev",function(k){d.nav(k,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(k){Foundation.libs.clearing.close(k,this)});h(f).on("keydown.fndtn.clearing",function(k){d.keydown(k)});c(e).off(".clearing").on("resize.fndtn.clearing",function(){d.resize()});this.swipe_events(b)},swipe_events:function(a){var c=this,b=c.S;b(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(d){if(!d.touches){d=d.originalEvent}var k={start_page_x:d.touches[0].pageX,start_page_y:d.touches[0].pageY,start_time:(new Date()).getTime(),delta_x:0,is_scrolling:g};b(this).data("swipe-transition",k);d.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(d){if(!d.touches){d=d.originalEvent}if(d.touches.length>1||d.scale&&d.scale!==1){return}var m=b(this).data("swipe-transition");if(typeof m==="undefined"){m={}}m.delta_x=d.touches[0].pageX-m.start_page_x;if(Foundation.rtl){m.delta_x=-m.delta_x}if(typeof m.is_scrolling==="undefined"){m.is_scrolling=!!(m.is_scrolling||Math.abs(m.delta_x)<Math.abs(d.touches[0].pageY-m.start_page_y))}if(!m.is_scrolling&&!m.active){d.preventDefault();var l=(m.delta_x<0)?"next":"prev";m.active=true;c.nav(d,l)}}).on("touchend.fndtn.clearing",".visible-img",function(d){b(this).data("swipe-transition",{});d.stopPropagation()})},assemble:function(d){var a=d.parent();if(a.parent().hasClass("carousel")){return}a.after('<div id="foundationClearingHolder"></div>');var s=a.detach(),b="";if(s[0]==null){return}else{b=s[0].outerHTML}var c=this.S("#foundationClearingHolder"),p=a.data(this.attr_name(true)+"-init"),o={grid:'<div class="carousel">'+b+"</div>",viewing:p.templates.viewing},r='<div class="clearing-assembled"><div>'+o.viewing+o.grid+"</div></div>",q=this.settings.touch_label;if(Modernizr.touch){r=h(r).find(".clearing-touch-label").html(q).end()}c.after(r).remove()},open:function(A,u,t){var C=this,v=h(f.body),c=t.closest(".clearing-assembled"),B=C.S("div",c).first(),w=C.S(".visible-img",B),y=C.S("img",w).not(A),a=C.S(".clearing-touch-label",B),d=false,x={};h("body").on("touchmove",function(j){j.preventDefault()});y.error(function(){d=true});function b(){setTimeout(function(){this.image_loaded(y,function(){if(y.outerWidth()===1&&!d){b.call(this)}else{z.call(this,y)}}.bind(this))}.bind(this),100)}function z(j){var k=h(j);k.css("visibility","visible");k.trigger("imageVisible");v.css("overflow","hidden");c.addClass("clearing-blackout");B.addClass("clearing-container");w.show();this.fix_height(t).caption(C.S(".clearing-caption",w),C.S("img",t)).center_and_label(j,a).shift(u,t,function(){t.closest("li").siblings().removeClass("visible");t.closest("li").addClass("visible")});w.trigger("opened.fndtn.clearing")}if(!this.locked()){w.trigger("open.fndtn.clearing");x=this.load(A);if(x.interchange){y.attr("data-interchange",x.interchange).foundation("interchange","reflow")}else{y.attr("src",x.src).attr("data-interchange","")}y.css("visibility","hidden");b.call(this)}},close:function(a,b){a.preventDefault();var d=(function(j){if(/blackout/.test(j.selector)){return j}else{return j.closest(".clearing-blackout")}}(h(b))),n=h(f.body),m,c;if(b===a.target&&d){n.css("overflow","");m=h("div",d).first();c=h(".visible-img",m);c.trigger("close.fndtn.clearing");this.settings.prev_index=0;h("ul["+this.attr_name()+"]",d).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout");m.removeClass("clearing-container");c.hide();c.trigger("closed.fndtn.clearing")}h("body").off("touchmove");return false},is_open:function(a){return a.parent().prop("style").length>0},keydown:function(a){var b=h(".clearing-blackout ul["+this.attr_name()+"]"),c=this.rtl?37:39,d=this.rtl?39:37,l=27;if(a.which===c){this.go(b,"next")}if(a.which===d){this.go(b,"prev")}if(a.which===l){this.S("a.clearing-close").trigger("click.fndtn.clearing")}},nav:function(a,b){var c=h("ul["+this.attr_name()+"]",".clearing-blackout");a.preventDefault();this.go(c,b)},resize:function(){var a=h("img",".clearing-blackout .visible-img"),b=h(".clearing-touch-label",".clearing-blackout");if(a.length){this.center_and_label(a,b);a.trigger("resized.fndtn.clearing")}},fix_height:function(a){var b=a.parent().children(),c=this;b.each(function(){var k=c.S(this),d=k.find("img");if(k.height()>d.outerHeight()){k.addClass("fix-height")}}).closest("ul").width(b.length*100+"%");return this},update_paddles:function(a){a=a.closest("li");var b=a.closest(".carousel").siblings(".visible-img");if(a.next().length>0){this.S(".clearing-main-next",b).removeClass("disabled")}else{this.S(".clearing-main-next",b).addClass("disabled")}if(a.prev().length>0){this.S(".clearing-main-prev",b).removeClass("disabled")}else{this.S(".clearing-main-prev",b).addClass("disabled")}},center_and_label:function(a,b){if(!this.rtl&&b.length>0){b.css({marginLeft:-(b.outerWidth()/2),marginTop:-(a.outerHeight()/2)-b.outerHeight()-10})}else{b.css({marginRight:-(b.outerWidth()/2),marginTop:-(a.outerHeight()/2)-b.outerHeight()-10,left:"auto",right:"50%"})}return this},load:function(a){var d,b,c;if(a[0].nodeName==="A"){d=a.attr("href");b=a.data("clearing-interchange")}else{c=a.closest("a");d=c.attr("href");b=c.data("clearing-interchange")}this.preload(a);return{src:d?d:a.attr("src"),interchange:d?b:a.data("clearing-interchange")}},preload:function(a){this.img(a.closest("li").next(),"next").img(a.closest("li").prev(),"prev")},img:function(m,n){if(m.length){var o=h(".clearing-preload-"+n),c=this.S("a",m),a,d,b;if(c.length){a=c.attr("href");d=c.data("clearing-interchange")}else{b=this.S("img",m);a=b.attr("src");d=b.data("clearing-interchange")}if(d){o.attr("data-interchange",d)}else{o.attr("src",a);o.attr("data-interchange","")}}return this},caption:function(c,a){var b=a.attr("data-caption");if(b){c.html(b).show()}else{c.text("").hide()}return this},go:function(d,a){var b=this.S(".visible",d),c=b[a]();if(this.settings.skip_selector&&c.find(this.settings.skip_selector).length!=0){c=c[a]()}if(c.length){this.S("img",c).trigger("click.fndtn.clearing",[b,c]).trigger("change.fndtn.clearing")}},shift:function(r,q,a){var d=q.parent(),s=this.settings.prev_index||q.index(),c=this.direction(d,r,q),t=this.rtl?"right":"left",u=parseInt(d.css("left"),10),v=q.outerWidth(),b;var w={};if(q.index()!==s&&!/skip/.test(c)){if(/left/.test(c)){this.lock();w[t]=u+v;d.animate(w,300,this.unlock())}else{if(/right/.test(c)){this.lock();w[t]=u-v;d.animate(w,300,this.unlock())}}}else{if(/skip/.test(c)){b=q.index()-this.settings.up_count;this.lock();if(b>0){w[t]=-(b*v);d.animate(w,300,this.unlock())}else{w[t]=0;d.animate(w,300,this.unlock())}}}a()},direction:function(n,c,d){var o=this.S("li",n),p=o.outerWidth()+(o.outerWidth()/4),b=Math.floor(this.S(".clearing-container").outerWidth()/p)-1,a=o.index(d),q;this.settings.up_count=b;if(this.adjacent(this.settings.prev_index,a)){if((a>b)&&a>this.settings.prev_index){q="right"}else{if((a>b-1)&&a<=this.settings.prev_index){q="left"}else{q=false}}}else{q="skip"}this.settings.prev_index=a;return q},adjacent:function(a,b){for(var c=b+1;c>=b-1;c--){if(c===a){return true}}return false},lock:function(){this.settings.locked=true},unlock:function(){this.settings.locked=false},locked:function(){return this.settings.locked},off:function(){this.S(this.scope).off(".fndtn.clearing");this.S(e).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,window,window.document));(function(h,e,f,g){Foundation.libs.dropdown={name:"dropdown",version:"5.5.2",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:false,hover_timeout:150,opened:function(){},closed:function(){}},init:function(b,a,c){Foundation.inherit(this,"throttle");h.extend(true,this.settings,a,c);this.bindings(a,c)},events:function(a){var c=this,b=c.S;b(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(d){var k=b(this).data(c.attr_name(true)+"-init")||c.settings;if(!k.is_hover||Modernizr.touch){d.preventDefault();if(b(this).parent("[data-reveal-id]").length){d.stopPropagation()}c.toggle(h(this))}}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(n){var o=b(this),d,p;clearTimeout(c.timeout);if(o.data(c.data_attr())){d=b("#"+o.data(c.data_attr()));p=o}else{d=o;p=b("["+c.attr_name()+'="'+d.attr("id")+'"]')}var q=p.data(c.attr_name(true)+"-init")||c.settings;if(b(n.currentTarget).data(c.data_attr())&&q.is_hover){c.closeall.call(c)}if(q.is_hover){c.open.apply(c,[d,p])}}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(d){var m=b(this);var o;if(m.data(c.data_attr())){o=m.data(c.data_attr(true)+"-init")||c.settings}else{var n=b("["+c.attr_name()+'="'+b(this).attr("id")+'"]'),o=n.data(c.attr_name(true)+"-init")||c.settings}c.timeout=setTimeout(function(){if(m.data(c.data_attr())){if(o.is_hover){c.close.call(c,b("#"+m.data(c.data_attr())))}}else{if(o.is_hover){c.close.call(c,m)}}}.bind(this),o.hover_timeout)}).on("click.fndtn.dropdown",function(d){var l=b(d.target).closest("["+c.attr_name()+"-content]");var m=l.find("a");if(m.length>0&&l.attr("aria-autoclose")!=="false"){c.close.call(c,b("["+c.attr_name()+"-content]"))}if(d.target!==f&&!h.contains(f.documentElement,d.target)){return}if(b(d.target).closest("["+c.attr_name()+"]").length>0){return}if(!(b(d.target).data("revealId"))&&(l.length>0&&(b(d.target).is("["+c.attr_name()+"-content]")||h.contains(l.first()[0],d.target)))){d.stopPropagation();return}c.close.call(c,b("["+c.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+c.attr_name()+"-content]",function(){c.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+c.attr_name()+"-content]",function(){c.settings.closed.call(this)});b(e).off(".dropdown").on("resize.fndtn.dropdown",c.throttle(function(){c.resize.call(c)},50));this.resize()},close:function(a){var b=this;a.each(function(d){var c=h("["+b.attr_name()+"="+a[d].id+"]")||h("aria-controls="+a[d].id+"]");c.attr("aria-expanded","false");if(b.S(this).hasClass(b.settings.active_class)){b.S(this).css(Foundation.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(b.settings.active_class).prev("["+b.attr_name()+"]").removeClass(b.settings.active_class).removeData("target");b.S(this).trigger("closed.fndtn.dropdown",[a])}});a.removeClass("f-open-"+this.attr_name(true))},closeall:function(){var a=this;h.each(a.S(".f-open-"+this.attr_name(true)),function(){a.close.call(a,a.S(this))})},open:function(a,b){this.css(a.addClass(this.settings.active_class),b);a.prev("["+this.attr_name()+"]").addClass(this.settings.active_class);a.data("target",b.get(0)).trigger("opened.fndtn.dropdown",[a,b]);a.attr("aria-hidden","false");b.attr("aria-expanded","true");a.focus();a.addClass("f-open-"+this.attr_name(true))},data_attr:function(){if(this.namespace.length>0){return this.namespace+"-"+this.name}return this.name},toggle:function(b){if(b.hasClass(this.settings.disabled_class)){return}var a=this.S("#"+b.data(this.data_attr()));if(a.length===0){return}this.close.call(this,this.S("["+this.attr_name()+"-content]").not(a));if(a.hasClass(this.settings.active_class)){this.close.call(this,a);if(a.data("target")!==b.get(0)){this.open.call(this,a,b)}}else{this.open.call(this,a,b)}},resize:function(){var a=this.S("["+this.attr_name()+"-content].open");var b=h(a.data("target"));if(a.length&&b.length){this.css(a,b)}},css:function(a,c){var o=Math.max((c.width()-a.width())/2,8),n=c.data(this.attr_name(true)+"-init")||this.settings,d=a.parent().css("overflow-y")||a.parent().css("overflow");this.clear_idx();if(this.small()){var m=this.dirs.bottom.call(a,c,n);a.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:m.top});a.css(Foundation.rtl?"right":"left",o)}else{if(d!=="visible"){var b=c[0].offsetTop+c[0].offsetHeight;a.attr("style","").css({position:"absolute",top:b});a.css(Foundation.rtl?"right":"left",o)}else{this.style(a,c,n)}}return a},style:function(a,b,c){var d=h.extend({position:"absolute"},this.dirs[c.align].call(a,b,c));a.attr("style","").css(d)},dirs:{_base:function(m){var c=this.offsetParent(),a=c.offset(),b=m.offset();b.top-=a.top;b.left-=a.left;b.missRight=false;b.missTop=false;b.missLeft=false;b.leftRightFlag=false;var n;if(f.getElementsByClassName("row")[0]){n=f.getElementsByClassName("row")[0].clientWidth}else{n=e.innerWidth}var o=(e.innerWidth-n)/2;var d=n;if(!this.hasClass("mega")){if(m.offset().top<=this.outerHeight()){b.missTop=true;d=e.innerWidth-o;b.leftRightFlag=true}if(m.offset().left+this.outerWidth()>m.offset().left+o&&m.offset().left-o>this.outerWidth()){b.missRight=true;b.missLeft=false}if(m.offset().left-this.outerWidth()<=0){b.missLeft=true;b.missRight=false}}return b},top:function(c,b){var d=Foundation.libs.dropdown,a=d.dirs._base.call(this,c);this.addClass("drop-top");if(a.missTop==true){a.top=a.top+c.outerHeight()+this.outerHeight();this.removeClass("drop-top")}if(a.missRight==true){a.left=a.left-this.outerWidth()+c.outerWidth()}if(c.outerWidth()<this.outerWidth()||d.small()||this.hasClass(b.mega_menu)){d.adjust_pip(this,c,b,a)}if(Foundation.rtl){return{left:a.left-this.outerWidth()+c.outerWidth(),top:a.top-this.outerHeight()}}return{left:a.left,top:a.top-this.outerHeight()}},bottom:function(c,b){var d=Foundation.libs.dropdown,a=d.dirs._base.call(this,c);if(a.missRight==true){a.left=a.left-this.outerWidth()+c.outerWidth()}if(c.outerWidth()<this.outerWidth()||d.small()||this.hasClass(b.mega_menu)){d.adjust_pip(this,c,b,a)}if(d.rtl){return{left:a.left-this.outerWidth()+c.outerWidth(),top:a.top+c.outerHeight()}}return{left:a.left,top:a.top+c.outerHeight()}},left:function(c,b){var a=Foundation.libs.dropdown.dirs._base.call(this,c);this.addClass("drop-left");if(a.missLeft==true){a.left=a.left+this.outerWidth();a.top=a.top+c.outerHeight();this.removeClass("drop-left")}return{left:a.left-this.outerWidth(),top:a.top}},right:function(c,b){var a=Foundation.libs.dropdown.dirs._base.call(this,c);this.addClass("drop-right");if(a.missRight==true){a.left=a.left-this.outerWidth();a.top=a.top+c.outerHeight();this.removeClass("drop-right")}else{a.triggeredRight=true}var d=Foundation.libs.dropdown;if(c.outerWidth()<this.outerWidth()||d.small()||this.hasClass(b.mega_menu)){d.adjust_pip(this,c,b,a)}return{left:a.left+c.outerWidth(),top:a.top}}},adjust_pip:function(a,q,t,s){var p=Foundation.stylesheet,b=8;if(a.hasClass(t.mega_class)){b=s.left+(q.outerWidth()/2)-8}else{if(this.small()){b+=s.left-8}}this.rule_idx=p.cssRules.length;var c=".f-dropdown.open:before",r=".f-dropdown.open:after",u="left: "+b+"px;",d="left: "+(b-1)+"px;";if(s.missRight==true){b=a.outerWidth()-23;c=".f-dropdown.open:before",r=".f-dropdown.open:after",u="left: "+b+"px;",d="left: "+(b-1)+"px;"}if(s.triggeredRight==true){c=".f-dropdown.open:before",r=".f-dropdown.open:after",u="left:-12px;",d="left:-14px;"}if(p.insertRule){p.insertRule([c,"{",u,"}"].join(" "),this.rule_idx);p.insertRule([r,"{",d,"}"].join(" "),this.rule_idx+1)}else{p.addRule(c,u,this.rule_idx);p.addRule(r,d,this.rule_idx+1)}},clear_idx:function(){var a=Foundation.stylesheet;if(typeof this.rule_idx!=="undefined"){a.deleteRule(this.rule_idx);a.deleteRule(this.rule_idx);delete this.rule_idx}},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown");this.S("html, body").off(".fndtn.dropdown");this.S(e).off(".fndtn.dropdown");this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document));(function(h,e,f,g){Foundation.libs.equalizer={name:"equalizer",version:"5.5.2",settings:{use_tallest:true,before_height_change:h.noop,after_height_change:h.noop,equalize_on_stack:false,act_on_hidden_el:false},init:function(b,a,c){Foundation.inherit(this,"image_loaded");this.bindings(a,c);this.reflow()},events:function(){this.S(e).off(".equalizer").on("resize.fndtn.equalizer",function(a){this.reflow()}.bind(this))},equalize:function(q){var b=false,a=q.data("equalizer"),r=q.data(this.attr_name(true)+"-init")||this.settings,d,s;if(r.act_on_hidden_el){d=a?q.find("["+this.attr_name()+'-watch="'+a+'"]'):q.find("["+this.attr_name()+"-watch]")}else{d=a?q.find("["+this.attr_name()+'-watch="'+a+'"]:visible'):q.find("["+this.attr_name()+"-watch]:visible")}if(d.length===0){return}r.before_height_change();q.trigger("before-height-change.fndth.equalizer");d.height("inherit");if(r.equalize_on_stack===false){s=d.first().offset().top;d.each(function(){if(h(this).offset().top!==s){b=true;return false}});if(b){return}}var o=d.map(function(){return h(this).outerHeight(false)}).get();if(r.use_tallest){var c=Math.max.apply(null,o);d.css("height",c)}else{var p=Math.min.apply(null,o);d.css("height",p)}r.after_height_change();q.trigger("after-height-change.fndtn.equalizer")},reflow:function(){var a=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var c=h(this),b=c.data("equalizer-mq"),d=true;if(b){b="is_"+b.replace(/-/g,"_");if(Foundation.utils.hasOwnProperty(b)){d=false}}a.image_loaded(a.S("img",this),function(){if(d||Foundation.utils[b]()){a.equalize(c)}else{var k=c.find("["+a.attr_name()+"-watch]:visible");k.css("height","auto")}})})}}})(jQuery,window,window.document);(function(h,e,f,g){Foundation.libs.interchange={name:"interchange",version:"5.5.2",cache:{},images_loaded:false,nodes_loaded:false,settings:{load_attr:"interchange",named_queries:{"default":"only screen",small:Foundation.media_queries.small,"small-only":Foundation.media_queries["small-only"],medium:Foundation.media_queries.medium,"medium-only":Foundation.media_queries["medium-only"],large:Foundation.media_queries.large,"large-only":Foundation.media_queries["large-only"],xlarge:Foundation.media_queries.xlarge,"xlarge-only":Foundation.media_queries["xlarge-only"],xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(c,a,l){if(c!==null&&/IMG/.test(c[0].nodeName)){var d=c[0].src;if(new RegExp(a,"i").test(d)){return}c.attr("src",a);return l(c[0].src)}var b=c.data(this.data_attr+"-last-path"),m=this;if(b==a){return}if(/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(a)){h(c).css("background-image","url("+a+")");c.data("interchange-last-path",a);return l(a)}return h.get(a,function(j){c.html(j);c.data(m.data_attr+"-last-path",a);l()})}}},init:function(b,a,c){Foundation.inherit(this,"throttle random_str");this.data_attr=this.set_data_attr();h.extend(true,this.settings,a,c);this.bindings(a,c);this.reflow()},get_media_hash:function(){var b="";for(var a in this.settings.named_queries){b+=matchMedia(this.settings.named_queries[a]).matches.toString()}return b},events:function(){var a=this,b;h(e).off(".interchange").on("resize.fndtn.interchange",a.throttle(function(){var c=a.get_media_hash();if(c!==b){a.resize()}b=c},50));return this},resize:function(){var c=this.cache;if(!this.images_loaded||!this.nodes_loaded){setTimeout(h.proxy(this.resize,this),50);return}for(var b in c){if(c.hasOwnProperty(b)){var a=this.results(b,c[b]);if(a){this.settings.directives[a.scenario[1]].call(this,a.el,a.scenario[0],(function(d){if(arguments[0] instanceof Array){var k=arguments[0]}else{var k=Array.prototype.slice.call(arguments,0)}return function(){d.el.trigger(d.scenario[1],k)}}(a)))}}}},results:function(d,a){var c=a.length;if(c>0){var l=this.S("["+this.add_namespace("data-uuid")+'="'+d+'"]');while(c--){var m,b=a[c][2];if(this.settings.named_queries.hasOwnProperty(b)){m=matchMedia(this.settings.named_queries[b])}else{m=matchMedia(b)}if(m.matches){return{el:l,scenario:a[c]}}}}return false},load:function(a,b){if(typeof this["cached_"+a]==="undefined"||b){this["update_"+a]()}return this["cached_"+a]},update_images:function(){var m=this.S("img["+this.data_attr+"]"),b=m.length,c=b,d=0,l=this.data_attr;this.cache={};this.cached_images=[];this.images_loaded=(b===0);while(c--){d++;if(m[c]){var a=m[c].getAttribute(l)||"";if(a.length>0){this.cached_images.push(m[c])}}if(d===b){this.images_loaded=true;this.enhance("images")}}return this},update_nodes:function(){var m=this.S("["+this.data_attr+"]").not("img"),b=m.length,c=b,d=0,l=this.data_attr;this.cached_nodes=[];this.nodes_loaded=(b===0);while(c--){d++;var a=m[c].getAttribute(l)||"";if(a.length>0){this.cached_nodes.push(m[c])}if(d===b){this.nodes_loaded=true;this.enhance("nodes")}}return this},enhance:function(a){var b=this["cached_"+a].length;while(b--){this.object(h(this["cached_"+a][b]))}return h(e).trigger("resize.fndtn.interchange")},convert_directive:function(a){var b=this.trim(a);if(b.length>0){return b}return"replace"},parse_scenario:function(d){var m=d[0].match(/(.+),\s*(\w+)\s*$/),a=d[1].match(/(.*)\)/);if(m){var c=m[1],b=m[2]}else{var l=d[0].split(/,\s*$/),c=l[0],b=""}return[this.trim(c),this.convert_directive(b),this.trim(a[1])]},object:function(d){var c=this.parse_data_attr(d),a=[],m=c.length;if(m>0){while(m--){var l=c[m].split(/,\s?\(/);if(l.length>1){var b=this.parse_scenario(l);a.push(b)}}}return this.store(d,a)},store:function(c,a){var d=this.random_str(),b=c.data(this.add_namespace("uuid",true));if(this.cache[b]){return this.cache[b]}c.attr(this.add_namespace("data-uuid"),d);return this.cache[d]=a},trim:function(a){if(typeof a==="string"){return h.trim(a)}return a},set_data_attr:function(a){if(a){if(this.namespace.length>0){return this.namespace+"-"+this.settings.load_attr}return this.settings.load_attr}if(this.namespace.length>0){return"data-"+this.namespace+"-"+this.settings.load_attr}return"data-"+this.settings.load_attr},parse_data_attr:function(a){var c=a.attr(this.attr_name()).split(/\[(.*?)\]/),b=c.length,d=[];while(b--){if(c[b].replace(/[\W\d]+/,"").length>4){d.push(c[b])}}return d},reflow:function(){this.load("images",true);this.load("nodes",true)}}}(jQuery,window,window.document));(function(k,f,g,h){var j=j||false;Foundation.libs.joyride={name:"joyride",version:"5.5.2",defaults:{expose:false,modal:true,keyboard:true,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:true,start_offset:0,next_button:true,prev_button:true,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:false,cookie_name:"joyride",cookie_domain:false,cookie_expires:365,tip_container:"body",abort_on_close:true,tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',prev_button:'<a href="#" class="small button joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(b,a,c){Foundation.inherit(this,"throttle random_str");this.settings=this.settings||k.extend({},this.defaults,(c||a));this.bindings(a,c)},go_next:function(){if(this.settings.$li.next().length<1){this.end()}else{if(this.settings.timer>0){clearTimeout(this.settings.automate);this.hide();this.show();this.startTimer()}else{this.hide();this.show()}}},go_prev:function(){if(this.settings.$li.prev().length<1){}else{if(this.settings.timer>0){clearTimeout(this.settings.automate);this.hide();this.show(null,true);this.startTimer()}else{this.hide();this.show(null,true)}}},events:function(){var a=this;k(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(b){b.preventDefault();this.go_next()}.bind(this)).on("click.fndtn.joyride",".joyride-prev-tip",function(b){b.preventDefault();this.go_prev()}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(b){b.preventDefault();this.end(this.settings.abort_on_close)}.bind(this)).on("keyup.fndtn.joyride",function(b){if(!this.settings.keyboard||!this.settings.riding){return}switch(b.which){case 39:b.preventDefault();this.go_next();break;case 37:b.preventDefault();this.go_prev();break;case 27:b.preventDefault();this.end(this.settings.abort_on_close)}}.bind(this));k(f).off(".joyride").on("resize.fndtn.joyride",a.throttle(function(){if(k("["+a.attr_name()+"]").length>0&&a.settings.$next_tip&&a.settings.riding){if(a.settings.exposed.length>0){var b=k(a.settings.exposed);b.each(function(){var c=k(this);a.un_expose(c);a.expose(c)})}if(a.is_phone()){a.pos_phone()}else{a.pos_default(false)}}},100))},start:function(){var c=this,a=k("["+this.attr_name()+"]",this.scope),d=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],b=d.length;if(!a.length>0){return}if(!this.settings.init){this.events()}this.settings=a.data(this.attr_name(true)+"-init");this.settings.$content_el=a;this.settings.$body=k(this.settings.tip_container);this.settings.body_offset=k(this.settings.tip_container).position();this.settings.$tip_content=this.settings.$content_el.find("> li");this.settings.paused=false;this.settings.attempts=0;this.settings.riding=true;if(typeof k.cookie!=="function"){this.settings.cookie_monster=false}if(!this.settings.cookie_monster||this.settings.cookie_monster&&!k.cookie(this.settings.cookie_name)){this.settings.$tip_content.each(function(o){var e=k(this);this.settings=k.extend({},c.defaults,c.data_options(e));var n=b;while(n--){c.settings[d[n]]=parseInt(c.settings[d[n]],10)}c.create({$li:e,index:o})});if(!this.settings.start_timer_on_click&&this.settings.timer>0){this.show("init");this.startTimer()}else{this.show("init")}}},resume:function(){this.set_li();this.show()},tip_template:function(b){var a,c;b.tip_class=b.tip_class||"";a=k(this.settings.template.tip).addClass(b.tip_class);c=k.trim(k(b.li).html())+this.prev_button_text(b.prev_button_text,b.index)+this.button_text(b.button_text)+this.settings.template.link+this.timer_instance(b.index);a.append(k(this.settings.template.wrapper));a.first().attr(this.add_namespace("data-index"),b.index);k(".joyride-content-wrapper",a).append(c);return a[0]},timer_instance:function(a){var b;if((a===0&&this.settings.start_timer_on_click&&this.settings.timer>0)||this.settings.timer===0){b=""}else{b=k(this.settings.template.timer)[0].outerHTML}return b},button_text:function(a){if(this.settings.tip_settings.next_button){a=k.trim(a)||"Next";a=k(this.settings.template.button).append(a)[0].outerHTML}else{a=""}return a},prev_button_text:function(a,b){if(this.settings.tip_settings.prev_button){a=k.trim(a)||"Previous";if(b==0){a=k(this.settings.template.prev_button).append(a).addClass("disabled")[0].outerHTML}else{a=k(this.settings.template.prev_button).append(a)[0].outerHTML}}else{a=""}return a},create:function(b){this.settings.tip_settings=k.extend({},this.settings,this.data_options(b.$li));var c=b.$li.attr(this.add_namespace("data-button"))||b.$li.attr(this.add_namespace("data-text")),d=b.$li.attr(this.add_namespace("data-button-prev"))||b.$li.attr(this.add_namespace("data-prev-text")),e=b.$li.attr("class"),a=k(this.tip_template({tip_class:e,index:b.index,button_text:c,prev_button_text:d,li:b.$li}));k(this.settings.tip_container).append(a)},show:function(a,d){var b=null;if(this.settings.$li===h||(k.inArray(this.settings.$li.index(),this.settings.pause_after)===-1)){if(this.settings.paused){this.settings.paused=false}else{this.set_li(a,d)}this.settings.attempts=0;if(this.settings.$li.length&&this.settings.$target.length>0){if(a){this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip);if(this.settings.modal){this.show_modal()}}this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip);if(this.settings.modal&&this.settings.expose){this.expose()}this.settings.tip_settings=k.extend({},this.settings,this.data_options(this.settings.$li));this.settings.timer=parseInt(this.settings.timer,10);this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location];if(!/body/i.test(this.settings.$target.selector)){var c=k(".joyride-modal-bg");if(/pop/i.test(this.settings.tipAnimation)){c.hide()}else{c.fadeOut(this.settings.tipAnimationFadeSpeed)}this.scroll_to()}if(this.is_phone()){this.pos_phone(true)}else{this.pos_default(true)}b=this.settings.$next_tip.find(".joyride-timer-indicator");if(/pop/i.test(this.settings.tip_animation)){b.width(0);if(this.settings.timer>0){this.settings.$next_tip.show();setTimeout(function(){b.animate({width:b.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)}else{this.settings.$next_tip.show()}}else{if(/fade/i.test(this.settings.tip_animation)){b.width(0);if(this.settings.timer>0){this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show();setTimeout(function(){b.animate({width:b.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)}else{this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)}}}this.settings.$current_tip=this.settings.$next_tip}else{if(this.settings.$li&&this.settings.$target.length<1){this.show(a,d)}else{this.end()}}}else{this.settings.paused=true}},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){if(this.settings.modal&&this.settings.expose){this.un_expose()}if(!this.settings.modal){k(".joyride-modal-bg").hide()}this.settings.$current_tip.css("visibility","hidden");setTimeout(k.proxy(function(){this.hide();this.css("visibility","visible")},this.settings.$current_tip),0);this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(a,b){if(a){this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset);this.set_next_tip();this.settings.$current_tip=this.settings.$next_tip}else{if(b){this.settings.$li=this.settings.$li.prev()}else{this.settings.$li=this.settings.$li.next()}this.set_next_tip()}this.set_target()},set_next_tip:function(){this.settings.$next_tip=k(".joyride-tip-guide").eq(this.settings.$li.index());this.settings.$next_tip.data("closed","")},set_target:function(){var c=this.settings.$li.attr(this.add_namespace("data-class")),a=this.settings.$li.attr(this.add_namespace("data-id")),b=function(){if(a){return k(g.getElementById(a))}else{if(c){return k("."+c).first()}else{return k("body")}}};this.settings.$target=b()},scroll_to:function(){var a,b;a=k(f).height()/2;b=Math.ceil(this.settings.$target.offset().top-a+this.settings.$next_tip.outerHeight());if(b!=0){k("html, body").stop().animate({scrollTop:b},this.settings.scroll_speed,"swing")}},paused:function(){return(k.inArray((this.settings.$li.index()+1),this.settings.pause_after)===-1)},restart:function(){this.hide();this.settings.$li=h;this.show("init")},pos_default:function(b){var c=this.settings.$next_tip.find(".joyride-nub"),d=Math.ceil(c.outerWidth()/2),a=Math.ceil(c.outerHeight()/2),o=b||false;if(o){this.settings.$next_tip.css("visibility","hidden");this.settings.$next_tip.show()}if(!/body/i.test(this.settings.$target.selector)){var n=this.settings.tip_settings.tipAdjustmentY?parseInt(this.settings.tip_settings.tipAdjustmentY):0,e=this.settings.tip_settings.tipAdjustmentX?parseInt(this.settings.tip_settings.tipAdjustmentX):0;if(this.bottom()){if(this.rtl){this.settings.$next_tip.css({top:(this.settings.$target.offset().top+a+this.settings.$target.outerHeight()+n),left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()+e})}else{this.settings.$next_tip.css({top:(this.settings.$target.offset().top+a+this.settings.$target.outerHeight()+n),left:this.settings.$target.offset().left+e})}this.nub_position(c,this.settings.tip_settings.nub_position,"top")}else{if(this.top()){if(this.rtl){this.settings.$next_tip.css({top:(this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-a+n),left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()})}else{this.settings.$next_tip.css({top:(this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-a+n),left:this.settings.$target.offset().left+e})}this.nub_position(c,this.settings.tip_settings.nub_position,"bottom")}else{if(this.right()){this.settings.$next_tip.css({top:this.settings.$target.offset().top+n,left:(this.settings.$target.outerWidth()+this.settings.$target.offset().left+d+e)});this.nub_position(c,this.settings.tip_settings.nub_position,"left")}else{if(this.left()){this.settings.$next_tip.css({top:this.settings.$target.offset().top+n,left:(this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-d+e)});this.nub_position(c,this.settings.tip_settings.nub_position,"right")}}}}if(!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length){c.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left");this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts];this.settings.attempts++;this.pos_default()}}else{if(this.settings.$li.length){this.pos_modal(c)}}if(o){this.settings.$next_tip.hide();this.settings.$next_tip.css("visibility","visible")}},pos_phone:function(b){var c=this.settings.$next_tip.outerHeight(),d=this.settings.$next_tip.offset(),e=this.settings.$target.outerHeight(),n=k(".joyride-nub",this.settings.$next_tip),a=Math.ceil(n.outerHeight()/2),o=b||false;n.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left");if(o){this.settings.$next_tip.css("visibility","hidden");this.settings.$next_tip.show()}if(!/body/i.test(this.settings.$target.selector)){if(this.top()){this.settings.$next_tip.offset({top:this.settings.$target.offset().top-c-a});n.addClass("bottom")}else{this.settings.$next_tip.offset({top:this.settings.$target.offset().top+e+a});n.addClass("top")}}else{if(this.settings.$li.length){this.pos_modal(n)}}if(o){this.settings.$next_tip.hide();this.settings.$next_tip.css("visibility","visible")}},pos_modal:function(a){this.center();a.hide();this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var a=k(".joyride-modal-bg");if(a.length<1){var a=k(this.settings.template.modal);a.appendTo("body")}if(/pop/i.test(this.settings.tip_animation)){a.show()}else{a.fadeIn(this.settings.tip_animation_fade_speed)}}},expose:function(){var e,b,c,a,m,d="expose-"+this.random_str(6);if(arguments.length>0&&arguments[0] instanceof k){c=arguments[0]}else{if(this.settings.$target&&!/body/i.test(this.settings.$target.selector)){c=this.settings.$target}else{return false}}if(c.length<1){if(f.console){console.error("element not valid",c)}return false}e=k(this.settings.template.expose);this.settings.$body.append(e);e.css({top:c.offset().top,left:c.offset().left,width:c.outerWidth(true),height:c.outerHeight(true)});b=k(this.settings.template.expose_cover);a={zIndex:c.css("z-index"),position:c.css("position")};m=c.attr("class")==null?"":c.attr("class");c.css("z-index",parseInt(e.css("z-index"))+1);if(a.position=="static"){c.css("position","relative")}c.data("expose-css",a);c.data("orig-class",m);c.attr("class",m+" "+this.settings.expose_add_class);b.css({top:c.offset().top,left:c.offset().left,width:c.outerWidth(true),height:c.outerHeight(true)});if(this.settings.modal){this.show_modal()}this.settings.$body.append(b);e.addClass(d);b.addClass(d);c.data("expose",d);this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,c);this.add_exposed(c)},un_expose:function(){var m,b,d,a,e,c=false;if(arguments.length>0&&arguments[0] instanceof k){b=arguments[0]}else{if(this.settings.$target&&!/body/i.test(this.settings.$target.selector)){b=this.settings.$target}else{return false}}if(b.length<1){if(f.console){console.error("element not valid",b)}return false}m=b.data("expose");d=k("."+m);if(arguments.length>1){c=arguments[1]}if(c===true){k(".joyride-expose-wrapper,.joyride-expose-cover").remove()}else{d.remove()}a=b.data("expose-css");if(a.zIndex=="auto"){b.css("z-index","")}else{b.css("z-index",a.zIndex)}if(a.position!=b.css("position")){if(a.position=="static"){b.css("position","")}else{b.css("position",a.position)}}e=b.data("orig-class");b.attr("class",e);b.removeData("orig-classes");b.removeData("expose");b.removeData("expose-z-index");this.remove_exposed(b)},add_exposed:function(a){this.settings.exposed=this.settings.exposed||[];if(a instanceof k||typeof a==="object"){this.settings.exposed.push(a[0])}else{if(typeof a=="string"){this.settings.exposed.push(a)}}},remove_exposed:function(a){var b,c;if(a instanceof k){b=a[0]}else{if(typeof a=="string"){b=a}}this.settings.exposed=this.settings.exposed||[];c=this.settings.exposed.length;while(c--){if(this.settings.exposed[c]==b){this.settings.exposed.splice(c,1);return}}},center:function(){var a=k(f);this.settings.$next_tip.css({top:(((a.height()-this.settings.$next_tip.outerHeight())/2)+a.scrollTop()),left:(((a.width()-this.settings.$next_tip.outerWidth())/2)+a.scrollLeft())});return true},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(c){var p=k(f),q=p.height()/2,b=Math.ceil(this.settings.$target.offset().top-q+this.settings.$next_tip.outerHeight()),d=p.width()+p.scrollLeft(),e=p.height()+b,o=p.height()+p.scrollTop(),a=p.scrollTop();if(b<a){if(b<0){a=0}else{a=b}}if(e>o){o=e}return[c.offset().top<a,d<c.offset().left+c.outerWidth(),o<c.offset().top+c.outerHeight(),p.scrollLeft()>c.offset().left]},visible:function(b){var a=b.length;while(a--){if(b[a]){return false}}return true},nub_position:function(c,a,b){if(a==="auto"){c.addClass(b)}else{c.addClass(a)}},startTimer:function(){if(this.settings.$li.length){this.settings.automate=setTimeout(function(){this.hide();this.show();this.startTimer()}.bind(this),this.settings.timer)}else{clearTimeout(this.settings.automate)}},end:function(a){if(this.settings.cookie_monster){k.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain})}if(this.settings.timer>0){clearTimeout(this.settings.automate)}if(this.settings.modal&&this.settings.expose){this.un_expose()}k(this.scope).off("keyup.joyride");this.settings.$next_tip.data("closed",true);this.settings.riding=false;k(".joyride-modal-bg").hide();this.settings.$current_tip.hide();if(typeof a==="undefined"||a===false){this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip);this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip)}k(".joyride-tip-guide").remove()},off:function(){k(this.scope).off(".joyride");k(f).off(".joyride");k(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride");k(".joyride-tip-guide, .joyride-modal-bg").remove();clearTimeout(this.settings.automate);this.settings={}},reflow:function(){}}}(jQuery,window,window.document));(function(h,e,f,g){Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.5.2",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30,fixed_top:0,offset_by_height:true,duration:700,easing:"swing"},init:function(b,a,c){Foundation.inherit(this,"throttle");this.bindings(a,c)},events:function(){var c=this,b=c.S,a=c.settings;c.set_expedition_position();b(c.scope).off(".magellan").on("click.fndtn.magellan","["+c.add_namespace("data-magellan-arrival")+"] a[href*=#]",function(w){var t=((this.hostname===location.hostname)||!this.hostname),s=c.filterPathname(location.pathname)===c.filterPathname(this.pathname),d=this.hash.replace(/(:|\.|\/)/g,"\\$1"),y=this;if(t&&s&&d){w.preventDefault();var u=h(this).closest("["+c.attr_name()+"]"),A=u.data("magellan-expedition-init"),z=this.hash.split("#").join(""),x=h('a[name="'+z+'"]');if(x.length===0){x=h("#"+z)}var v=x.offset().top-A.destination_threshold+1;if(A.offset_by_height){v=v-u.outerHeight()}h("html, body").stop().animate({scrollTop:v},A.duration,A.easing,function(){if(history.pushState){history.pushState(null,null,y.pathname+"#"+z)}else{location.hash=y.pathname+"#"+z}})}}).on("scroll.fndtn.magellan",c.throttle(this.check_for_arrivals.bind(this),a.throttle_delay))},check_for_arrivals:function(){var a=this;a.update_arrivals();a.update_expedition_positions()},set_expedition_position:function(){var a=this;h("["+this.attr_name()+"=fixed]",a.scope).each(function(q,d){var b=h(this),n=b.data("magellan-expedition-init"),c=b.attr("styles"),p,o;b.attr("style","");p=b.offset().top+n.threshold;o=parseInt(b.data("magellan-fixed-top"));if(!isNaN(o)){a.settings.fixed_top=o}b.data(a.data_attr("magellan-top-offset"),p);b.attr("style",c)})},update_expedition_positions:function(){var a=this,b=h(e).scrollTop();h("["+this.attr_name()+"=fixed]",a.scope).each(function(){var d=h(this),n=d.data("magellan-expedition-init"),m=d.attr("style"),o=d.data("magellan-top-offset");if(b+a.settings.fixed_top>=o){var c=d.prev("["+a.add_namespace("data-magellan-expedition-clone")+"]");if(c.length===0){c=d.clone();c.removeAttr(a.attr_name());c.attr(a.add_namespace("data-magellan-expedition-clone"),"");d.before(c)}d.css({position:"fixed",top:n.fixed_top}).addClass("fixed")}else{d.prev("["+a.add_namespace("data-magellan-expedition-clone")+"]").remove();d.attr("style",m).css("position","").css("top","").removeClass("fixed")}})},update_arrivals:function(){var a=this,b=h(e).scrollTop();h("["+this.attr_name()+"]",a.scope).each(function(){var c=h(this),o=c.data(a.attr_name(true)+"-init"),m=a.offsets(c,b),d=c.find("["+a.add_namespace("data-magellan-arrival")+"]"),n=false;m.each(function(j,l){if(l.viewport_offset>=l.top_offset){var k=c.find("["+a.add_namespace("data-magellan-arrival")+"]");k.not(l.arrival).removeClass(o.active_class);l.arrival.addClass(o.active_class);n=true;return true}});if(!n){d.removeClass(o.active_class)}})},offsets:function(a,k){var d=this,c=a.data(d.attr_name(true)+"-init"),b=k;return a.find("["+d.add_namespace("data-magellan-arrival")+"]").map(function(q,r){var s=h(this).data(d.data_attr("magellan-arrival")),j=h("["+d.add_namespace("data-magellan-destination")+"="+s+"]");if(j.length>0){var p=j.offset().top-c.destination_threshold;if(c.offset_by_height){p=p-a.outerHeight()}p=Math.floor(p);return{destination:j,arrival:h(this),top_offset:p,viewport_offset:b}}}).sort(function(j,m){if(j.top_offset<m.top_offset){return -1}if(j.top_offset>m.top_offset){return 1}return 0})},data_attr:function(a){if(this.namespace.length>0){return this.namespace+"-"+a}return a},off:function(){this.S(this.scope).off(".magellan");this.S(e).off(".magellan")},filterPathname:function(a){a=a||"";return a.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},reflow:function(){var a=this;h("["+a.add_namespace("data-magellan-expedition-clone")+"]",a.scope).remove()}}}(jQuery,window,window.document));(function(q,n,m,r){var k=function(){};var s=function(c,b){if(c.hasClass(b.slides_container_class)){return this}var x=this,g,h=c,j,y,d,z=0,e,f,a=false,A=false;x.slides=function(){return h.children(b.slide_selector)};x.slides().first().addClass(b.active_slide_class);x.update_slide_number=function(t){if(b.slide_number){j.find("span:first").text(parseInt(t)+1);j.find("span:last").text(x.slides().length)}if(b.bullets){y.children().removeClass(b.bullets_active_class);q(y.children().get(t)).addClass(b.bullets_active_class)}};x.update_active_link=function(t){var u=q('[data-orbit-link="'+x.slides().eq(t).attr("data-orbit-slide")+'"]');u.siblings().removeClass(b.bullets_active_class);u.addClass(b.bullets_active_class)};x.build_markup=function(){h.wrap('<div class="'+b.container_class+'"></div>');g=h.parent();h.addClass(b.slides_container_class);if(b.stack_on_small){g.addClass(b.stack_on_small_class)}if(b.navigation_arrows){g.append(q('<a href="#"><span></span></a>').addClass(b.prev_class));g.append(q('<a href="#"><span></span></a>').addClass(b.next_class))}if(b.timer){d=q("<div>").addClass(b.timer_container_class);d.append("<span>");d.append(q("<div>").addClass(b.timer_progress_class));d.addClass(b.timer_paused_class);g.append(d)}if(b.slide_number){j=q("<div>").addClass(b.slide_number_class);j.append("<span></span> "+b.slide_number_text+" <span></span>");g.append(j)}if(b.bullets){y=q("<ol>").addClass(b.bullets_container_class);g.append(y);y.wrap('<div class="orbit-bullets-container"></div>');x.slides().each(function(t,u){var v=q("<li>").attr("data-orbit-slide",t).on("click",x.link_bullet);y.append(v)})}};x._goto=function(w,G){if(w===z){return false}if(typeof f==="object"){f.restart()}var u=x.slides();var I="next";a=true;if(w<z){I="prev"}if(w>=u.length){if(!b.circular){return false}w=0}else{if(w<0){if(!b.circular){return false}w=u.length-1}}var H=q(u.get(z));var F=q(u.get(w));H.css("zIndex",2);H.removeClass(b.active_slide_class);F.css("zIndex",4).addClass(b.active_slide_class);h.trigger("before-slide-change.fndtn.orbit");b.before_slide_change();x.update_active_link(w);var v=function(){var B=function(){z=w;a=false;if(G===true){f=x.create_timer();f.start()}x.update_slide_number(z);h.trigger("after-slide-change.fndtn.orbit",[{slide_number:z,total_slides:u.length}]);b.after_slide_change(z,u.length)};if(h.outerHeight()!=F.outerHeight()&&b.variable_height){h.animate({height:F.outerHeight()},250,"linear",B)}else{B()}};if(u.length===1){v();return false}var t=function(){if(I==="next"){e.next(H,F,v)}if(I==="prev"){e.prev(H,F,v)}};if(F.outerHeight()>h.outerHeight()&&b.variable_height){h.animate({height:F.outerHeight()},250,"linear",t)}else{t()}};x.next=function(t){t.stopImmediatePropagation();t.preventDefault();x._goto(z+1)};x.prev=function(t){t.stopImmediatePropagation();t.preventDefault();x._goto(z-1)};x.link_custom=function(u){u.preventDefault();var v=q(this).attr("data-orbit-link");if((typeof v==="string")&&(v=q.trim(v))!=""){var t=g.find("[data-orbit-slide="+v+"]");if(t.index()!=-1){x._goto(t.index())}}};x.link_bullet=function(u){var v=q(this).attr("data-orbit-slide");if((typeof v==="string")&&(v=q.trim(v))!=""){if(isNaN(parseInt(v))){var t=g.find("[data-orbit-slide="+v+"]");if(t.index()!=-1){x._goto(t.index()+1)}}else{x._goto(parseInt(v))}}};x.timer_callback=function(){x._goto(z+1,true)};x.compute_dimensions=function(){var u=q(x.slides().get(z));var t=u.outerHeight();if(!b.variable_height){x.slides().each(function(){if(q(this).outerHeight()>t){t=q(this).outerHeight()}})}h.height(t)};x.create_timer=function(){var t=new l(g.find("."+b.timer_container_class),b,x.timer_callback);return t};x.stop_timer=function(){if(typeof f==="object"){f.stop()}};x.toggle_timer=function(){var t=g.find("."+b.timer_container_class);if(t.hasClass(b.timer_paused_class)){if(typeof f==="undefined"){f=x.create_timer()}f.start()}else{if(typeof f==="object"){f.stop()}}};x.init=function(){x.build_markup();if(b.timer){f=x.create_timer();Foundation.utils.image_loaded(this.slides().children("img"),f.start)}e=new o(b,h);if(b.animation==="slide"){e=new p(b,h)}g.on("click","."+b.next_class,x.next);g.on("click","."+b.prev_class,x.prev);if(b.next_on_click){g.on("click","."+b.slides_container_class+" [data-orbit-slide]",x.link_bullet)}g.on("click",x.toggle_timer);if(b.swipe){g.on("touchstart.fndtn.orbit",function(u){if(!u.touches){u=u.originalEvent}var t={start_page_x:u.touches[0].pageX,start_page_y:u.touches[0].pageY,start_time:(new Date()).getTime(),delta_x:0,is_scrolling:r};g.data("swipe-transition",t);u.stopPropagation()}).on("touchmove.fndtn.orbit",function(u){if(!u.touches){u=u.originalEvent}if(u.touches.length>1||u.scale&&u.scale!==1){return}var t=g.data("swipe-transition");if(typeof t==="undefined"){t={}}t.delta_x=u.touches[0].pageX-t.start_page_x;if(typeof t.is_scrolling==="undefined"){t.is_scrolling=!!(t.is_scrolling||Math.abs(t.delta_x)<Math.abs(u.touches[0].pageY-t.start_page_y))}if(!t.is_scrolling&&!t.active){u.preventDefault();var v=(t.delta_x<0)?(z+1):(z-1);t.active=true;x._goto(v)}}).on("touchend.fndtn.orbit",function(t){g.data("swipe-transition",{});t.stopPropagation()})}g.on("mouseenter.fndtn.orbit",function(t){if(b.timer&&b.pause_on_hover){x.stop_timer()}}).on("mouseleave.fndtn.orbit",function(t){if(b.timer&&b.resume_on_mouseout){f.start()}});q(m).on("click","[data-orbit-link]",x.link_custom);q(n).on("load resize",x.compute_dimensions);Foundation.utils.image_loaded(this.slides().children("img"),x.compute_dimensions);Foundation.utils.image_loaded(this.slides().children("img"),function(){g.prev("."+b.preloader_class).css("display","none");x.update_slide_number(0);x.update_active_link(0);h.trigger("ready.fndtn.orbit")})};x.init()};var l=function(f,d,a){var j=this,c=d.timer_speed,h=f.find("."+d.timer_progress_class),g,b,e=-1;this.update_progress=function(w){var v=h.clone();v.attr("style","");v.css("width",w+"%");h.replaceWith(v);h=v};this.restart=function(){clearTimeout(b);f.addClass(d.timer_paused_class);e=-1;j.update_progress(0)};this.start=function(){if(!f.hasClass(d.timer_paused_class)){return true}e=(e===-1)?c:e;f.removeClass(d.timer_paused_class);g=new Date().getTime();h.animate({width:"100%"},e,"linear");b=setTimeout(function(){j.restart();a()},e);f.trigger("timer-started.fndtn.orbit")};this.stop=function(){if(f.hasClass(d.timer_paused_class)){return true}clearTimeout(b);f.addClass(d.timer_paused_class);var v=new Date().getTime();e=e-(v-g);var w=100-((e/c)*100);j.update_progress(w);f.trigger("timer-stopped.fndtn.orbit")}};var p=function(f,c){var d=f.animation_speed;var a=(q("html[dir=rtl]").length===1);var e=a?"marginRight":"marginLeft";var b={};b[e]="0%";this.next=function(h,j,g){h.animate({marginLeft:"-100%"},d);j.animate(b,d,function(){h.css(e,"100%");g()})};this.prev=function(h,j,g){h.animate({marginLeft:"100%"},d);j.css(e,"-100%");j.animate(b,d,function(){h.css(e,"100%");g()})}};var o=function(a,c){var d=a.animation_speed;var b=(q("html[dir=rtl]").length===1);var e=b?"marginRight":"marginLeft";this.next=function(g,h,f){h.css({margin:"0%",opacity:"0.01"});h.animate({opacity:"1"},d,"linear",function(){g.css("margin","100%");f()})};this.prev=function(g,h,f){h.css({margin:"0%",opacity:"0.01"});h.animate({opacity:"1"},d,"linear",function(){g.css("margin","100%");f()})}};Foundation.libs=Foundation.libs||{};Foundation.libs.orbit={name:"orbit",version:"5.5.2",settings:{animation:"slide",timer_speed:10000,pause_on_hover:true,resume_on_mouseout:false,next_on_click:true,animation_speed:500,stack_on_small:false,navigation_arrows:true,slide_number:true,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",preloader_class:"preloader",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:true,circular:true,timer:true,variable_height:false,swipe:true,before_slide_change:k,after_slide_change:k},init:function(a,d,b){var c=this;this.bindings(d,b)},events:function(b){var a=new s(this.S(b),this.S(b).data("orbit-init"));this.S(b).data(this.name+"-instance",a)},reflow:function(){var b=this;if(b.S(b.scope).is("[data-orbit]")){var a=b.S(b.scope);var c=a.data(b.name+"-instance");c.compute_dimensions()}else{b.S("[data-orbit]",b.scope).each(function(g,e){var f=b.S(e);var d=b.data_options(f);var h=f.data(b.name+"-instance");h.compute_dimensions()})}}}}(jQuery,window,window.document));(function(j,k,g,h){Foundation.libs.reveal={name:"reveal",version:"5.5.2",locked:false,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:true,close_on_esc:true,dismiss_modal_class:"close-reveal-modal",multiple_opened:false,bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},on_ajax_error:j.noop,bg:j(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(b,a,c){j.extend(true,this.settings,a,c);this.bindings(a,c)},events:function(a){var c=this,b=c.S;b(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(d){d.preventDefault();if(!c.locked){var o=b(this),e=o.data(c.data_attr("reveal-ajax")),q=o.data(c.data_attr("reveal-replace-content"));c.locked=true;if(typeof e==="undefined"){c.open.call(c,o)}else{var p=e===true?o.attr("href"):e;c.open.call(c,o,{url:p},{replaceContentSel:q})}}});b(g).on("click.fndtn.reveal",this.close_targets(),function(e){e.preventDefault();if(!c.locked){var m=b("["+c.attr_name()+"].open").data(c.attr_name(true)+"-init")||c.settings,d=b(e.target)[0]===b("."+m.bg_class)[0];if(d){if(m.close_on_background_click){e.stopPropagation()}else{return}}c.locked=true;c.close.call(c,d?b("["+c.attr_name()+"].open:not(.toback)"):b(this).closest("["+c.attr_name()+"]"))}});if(b("["+c.attr_name()+"]",this.scope).length>0){b(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video)}else{b(this.scope).on("open.fndtn.reveal","["+c.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+c.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+c.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+c.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+c.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+c.attr_name()+"]",this.close_video)}return true},key_up_on:function(a){var b=this;b.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(c){var e=b.S("["+b.attr_name()+"].open"),d=e.data(b.attr_name(true)+"-init")||b.settings;if(d&&c.which===27&&d.close_on_esc&&!b.locked){b.close.call(b,e)}});return true},key_up_off:function(a){this.S("body").off("keyup.fndtn.reveal");return true},open:function(c,b){var n=this,d;if(c){if(typeof c.selector!=="undefined"){d=n.S("#"+c.data(n.data_attr("reveal-id"))).first()}else{d=n.S(this.scope);b=c}}else{d=n.S(this.scope)}var e=d.data(n.attr_name(true)+"-init");e=e||this.settings;if(d.hasClass("open")&&c.attr("data-reveal-id")==d.attr("id")){return n.close(d)}if(!d.hasClass("open")){var o=n.S("["+n.attr_name()+"].open");if(typeof d.data("css-top")==="undefined"){d.data("css-top",parseInt(d.css("top"),10)).data("offset",this.cache_offset(d))}d.attr("tabindex","0").attr("aria-hidden","false");this.key_up_on(d);d.on("open.fndtn.reveal",function(l){if(l.namespace!=="fndtn.reveal"){return}});d.on("open.fndtn.reveal").trigger("open.fndtn.reveal");if(o.length<1){this.toggle_bg(d,true)}if(typeof b==="string"){b={url:b}}if(typeof b==="undefined"||!b.url){if(o.length>0){if(e.multiple_opened){n.to_back(o)}else{n.hide(o,e.css.close)}}this.show(d,e.css.open)}else{var a=typeof b.success!=="undefined"?b.success:null;j.extend(b,{success:function(m,l,r){if(j.isFunction(a)){var s=a(m,l,r);if(typeof s=="string"){m=s}}if(typeof options!=="undefined"&&typeof options.replaceContentSel!=="undefined"){d.find(options.replaceContentSel).html(m)}else{d.html(m)}n.S(d).foundation("section","reflow");n.S(d).children().foundation();if(o.length>0){if(e.multiple_opened){n.to_back(o)}else{n.hide(o,e.css.close)}}n.show(d,e.css.open)}});if(e.on_ajax_error!==j.noop){j.extend(b,{error:e.on_ajax_error})}j.ajax(b)}}n.S(k).trigger("resize")},close:function(a){var a=a&&a.length?a:this.S(this.scope),b=this.S("["+this.attr_name()+"].open"),c=a.data(this.attr_name(true)+"-init")||this.settings,d=this;if(b.length>0){a.removeAttr("tabindex","0").attr("aria-hidden","true");this.locked=true;this.key_up_off(a);a.trigger("close.fndtn.reveal");if((c.multiple_opened&&b.length===1)||!c.multiple_opened||a.length>1){d.toggle_bg(a,false);d.to_front(a)}if(c.multiple_opened){d.hide(a,c.css.close,c);d.to_front(j(j.makeArray(b).reverse()[1]))}else{d.hide(b,c.css.close,c)}}},close_targets:function(){var a="."+this.settings.dismiss_modal_class;if(this.settings.close_on_background_click){return a+", ."+this.settings.bg_class}return a},toggle_bg:function(c,b){if(this.S("."+this.settings.bg_class).length===0){this.settings.bg=j("<div />",{"class":this.settings.bg_class}).appendTo("body").hide()}var a=this.settings.bg.filter(":visible").length>0;if(b!=a){if(b==h?a:!b){this.hide(this.settings.bg)}else{this.show(this.settings.bg)}}},show:function(a,c){if(c){var b=a.data(this.attr_name(true)+"-init")||this.settings,d=b.root_element,e=this;if(a.parent(d).length===0){var q=a.wrap('<div style="display: none;" />').parent();a.on("closed.fndtn.reveal.wrapped",function(){a.detach().appendTo(q);a.unwrap().unbind("closed.fndtn.reveal.wrapped")});a.detach().appendTo(d)}var o=f(b.animation);if(!o.animate){this.locked=false}if(o.pop){c.top=j(k).scrollTop()-a.data("offset")+"px";var p={top:j(k).scrollTop()+a.data("css-top")+"px",opacity:1};return setTimeout(function(){return a.css(c).animate(p,b.animation_speed,"linear",function(){e.locked=false;a.trigger("opened.fndtn.reveal")}).addClass("open")},b.animation_speed/2)}if(o.fade){c.top=j(k).scrollTop()+a.data("css-top")+"px";var p={opacity:1};return setTimeout(function(){return a.css(c).animate(p,b.animation_speed,"linear",function(){e.locked=false;a.trigger("opened.fndtn.reveal")}).addClass("open")},b.animation_speed/2)}return a.css(c).show().css({opacity:1}).addClass("open").trigger("opened.fndtn.reveal")}var b=this.settings;if(f(b.animation).fade){return a.fadeIn(b.animation_speed/2)}this.locked=false;return a.show()},to_back:function(a){a.addClass("toback")},to_front:function(a){a.removeClass("toback")},hide:function(a,c){if(c){var b=a.data(this.attr_name(true)+"-init"),d=this;b=b||this.settings;var e=f(b.animation);if(!e.animate){this.locked=false}if(e.pop){var m={top:-j(k).scrollTop()-a.data("offset")+"px",opacity:0};return setTimeout(function(){return a.animate(m,b.animation_speed,"linear",function(){d.locked=false;a.css(c).trigger("closed.fndtn.reveal")}).removeClass("open")},b.animation_speed/2)}if(e.fade){var m={opacity:0};return setTimeout(function(){return a.animate(m,b.animation_speed,"linear",function(){d.locked=false;a.css(c).trigger("closed.fndtn.reveal")}).removeClass("open")},b.animation_speed/2)}return a.hide().css(c).removeClass("open").trigger("closed.fndtn.reveal")}var b=this.settings;if(f(b.animation).fade){return a.fadeOut(b.animation_speed/2)}return a.hide()},close_video:function(a){var b=j(".flex-video",a.target),c=j("iframe",b);if(c.length>0){c.attr("data-src",c[0].src);c.attr("src",c.attr("src"));b.hide()}},open_video:function(c){var d=j(".flex-video",c.target),e=d.find("iframe");if(e.length>0){var a=e.attr("data-src");if(typeof a==="string"){e[0].src=e.attr("data-src")}else{var b=e[0].src;e[0].src=h;e[0].src=b}d.show()}},data_attr:function(a){if(this.namespace.length>0){return this.namespace+"-"+a}return a},cache_offset:function(b){var a=b.show().height()+parseInt(b.css("top"),10)+b.scrollY;b.hide();return a},off:function(){j(this.scope).off(".fndtn.reveal")},reflow:function(){}};function f(a){var b=/fade/i.test(a);var c=/pop/i.test(a);return{animate:b||c,pop:c,fade:b}}}(jQuery,window,window.document));(function(h,e,f,g){Foundation.libs.slider={name:"slider",version:"5.5.2",settings:{start:0,end:100,step:1,precision:null,initial:null,display_selector:"",vertical:false,trigger_input_change:false,on_change:function(){}},cache:{},init:function(b,a,c){Foundation.inherit(this,"throttle");this.bindings(a,c);this.reflow()},events:function(){var a=this;h(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+a.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(b){if(!a.cache.active){b.preventDefault();a.set_active_slider(h(b.target))}}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(b){if(!!a.cache.active){b.preventDefault();if(h.data(a.cache.active[0],"settings").vertical){var c=0;if(!b.pageY){c=e.scrollY}a.calculate_position(a.cache.active,a.get_cursor_position(b,"y")+c)}else{a.calculate_position(a.cache.active,a.get_cursor_position(b,"x"))}}}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(b){a.remove_active_slider()}).on("change.fndtn.slider",function(b){a.settings.on_change()});a.S(e).on("resize.fndtn.slider",a.throttle(function(b){a.reflow()},300));this.S("["+this.attr_name()+"]").each(function(){var c=h(this),b=c.children(".range-slider-handle")[0],d=a.initialize_settings(b);if(d.display_selector!=""){h(d.display_selector).each(function(){if(this.hasOwnProperty("value")){h(this).change(function(){c.foundation("slider","set_value",h(this).val())})}})}})},get_cursor_position:function(b,c){var a="page"+c.toUpperCase(),d="client"+c.toUpperCase(),l;if(typeof b[a]!=="undefined"){l=b[a]}else{if(typeof b.originalEvent[d]!=="undefined"){l=b.originalEvent[d]}else{if(b.originalEvent.touches&&b.originalEvent.touches[0]&&typeof b.originalEvent.touches[0][d]!=="undefined"){l=b.originalEvent.touches[0][d]}else{if(b.currentPoint&&typeof b.currentPoint[c]!=="undefined"){l=b.currentPoint[c]}}}}return l},set_active_slider:function(a){this.cache.active=a},remove_active_slider:function(){this.cache.active=null},calculate_position:function(a,c){var p=this,n=h.data(a[0],"settings"),o=h.data(a[0],"handle_l"),q=h.data(a[0],"handle_o"),b=h.data(a[0],"bar_l"),d=h.data(a[0],"bar_o");requestAnimationFrame(function(){var j;if(Foundation.rtl&&!n.vertical){j=p.limit_to(((d+b-c)/b),0,1)}else{j=p.limit_to(((c-d)/b),0,1)}j=n.vertical?1-j:j;var k=p.normalized_value(j,n.start,n.end,n.step,n.precision);p.set_ui(a,k)})},set_ui:function(t,b){var q=h.data(t[0],"settings"),s=h.data(t[0],"handle_l"),r=h.data(t[0],"bar_l"),a=this.normalized_percentage(b,q.start,q.end),c=a*(r-s)-1,p=a*100,u=t.parent(),d=t.parent().children("input[type=hidden]");if(Foundation.rtl&&!q.vertical){c=-c}c=q.vertical?-c+r-s+1:c;this.set_translate(t,c,q.vertical);if(q.vertical){t.siblings(".range-slider-active-segment").css("height",p+"%")}else{t.siblings(".range-slider-active-segment").css("width",p+"%")}u.attr(this.attr_name(),b).trigger("change.fndtn.slider");d.val(b);if(q.trigger_input_change){d.trigger("change.fndtn.slider")}if(!t[0].hasAttribute("aria-valuemin")){t.attr({"aria-valuemin":q.start,"aria-valuemax":q.end})}t.attr("aria-valuenow",b);if(q.display_selector!=""){h(q.display_selector).each(function(){if(this.hasAttribute("value")){h(this).val(b)}else{h(this).text(b)}})}},normalized_percentage:function(b,a,c){return Math.min(1,(b-a)/(c-a))},normalized_value:function(t,u,r,s,p){var q=r-u,c=t*q,d=(c-(c%s))/s,b=c%s,a=(b>=s*0.5?s:0);return((d*s+a)+u).toFixed(p)},set_translate:function(b,a,c){if(c){h(b).css("-webkit-transform","translateY("+a+"px)").css("-moz-transform","translateY("+a+"px)").css("-ms-transform","translateY("+a+"px)").css("-o-transform","translateY("+a+"px)").css("transform","translateY("+a+"px)")}else{h(b).css("-webkit-transform","translateX("+a+"px)").css("-moz-transform","translateX("+a+"px)").css("-ms-transform","translateX("+a+"px)").css("-o-transform","translateX("+a+"px)").css("transform","translateX("+a+"px)")}},limit_to:function(a,b,c){return Math.min(Math.max(a,b),c)},initialize_settings:function(a){var b=h.extend({},this.settings,this.data_options(h(a).parent())),c;if(b.precision===null){c=(""+b.step).match(/\.([\d]*)/);b.precision=c&&c[1]?c[1].length:0}if(b.vertical){h.data(a,"bar_o",h(a).parent().offset().top);h.data(a,"bar_l",h(a).parent().outerHeight());h.data(a,"handle_o",h(a).offset().top);h.data(a,"handle_l",h(a).outerHeight())}else{h.data(a,"bar_o",h(a).parent().offset().left);h.data(a,"bar_l",h(a).parent().outerWidth());h.data(a,"handle_o",h(a).offset().left);h.data(a,"handle_l",h(a).outerWidth())}h.data(a,"bar",h(a).parent());return h.data(a,"settings",b)},set_initial_position:function(b){var c=h.data(b.children(".range-slider-handle")[0],"settings"),d=((typeof c.initial=="number"&&!isNaN(c.initial))?c.initial:Math.floor((c.end-c.start)*0.5/c.step)*c.step+c.start),a=b.children(".range-slider-handle");this.set_ui(a,d)},set_value:function(a){var b=this;h("["+b.attr_name()+"]",this.scope).each(function(){h(this).attr(b.attr_name(),a)});if(!!h(this.scope).attr(b.attr_name())){h(this.scope).attr(b.attr_name(),a)}b.reflow()},reflow:function(){var a=this;a.S("["+this.attr_name()+"]").each(function(){var c=h(this).children(".range-slider-handle")[0],b=h(this).attr(a.attr_name());a.initialize_settings(c);if(b){a.set_ui(h(c),parseFloat(b))}else{a.set_initial_position(h(this))}})}}}(jQuery,window,window.document));(function(h,e,f,g){Foundation.libs.tab={name:"tab",version:"5.5.2",settings:{active_class:"active",callback:function(){},deep_linking:false,scroll_to_content:true,is_hover:false},default_tab_hashes:[],init:function(b,a,d){var k=this,c=this.S;c("["+this.attr_name()+"] > .active > a",this.scope).each(function(){k.default_tab_hashes.push(this.hash)});k.entry_location=e.location.href;this.bindings(a,d);this.handle_location_hash_change()},events:function(){var b=this,a=this.S;var c=function(d,l){var m=a(l).closest("["+b.attr_name()+"]").data(b.attr_name(true)+"-init");if(!m.is_hover||Modernizr.touch){d.preventDefault();d.stopPropagation();b.toggle_active_tab(a(l).parent())}};a(this.scope).off(".tab").on("keydown.fndtn.tab","["+this.attr_name()+"] > * > a",function(d){var m=this;var l=d.keyCode||d.which;if(l==9){d.preventDefault();c(d,m)}}).on("click.fndtn.tab","["+this.attr_name()+"] > * > a",function(d){var k=this;c(d,k)}).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(d){var k=a(this).closest("["+b.attr_name()+"]").data(b.attr_name(true)+"-init");if(k.is_hover){b.toggle_active_tab(a(this).parent())}});a(e).on("hashchange.fndtn.tab",function(d){d.preventDefault();b.handle_location_hash_change()})},handle_location_hash_change:function(){var b=this,a=this.S;a("["+this.attr_name()+"]",this.scope).each(function(){var m=a(this).data(b.attr_name(true)+"-init");if(m.deep_linking){var c;if(m.scroll_to_content){c=b.scope.location.hash}else{c=b.scope.location.hash.replace("fndtn-","")}if(c!=""){var n=a(c);if(n.hasClass("content")&&n.parent().hasClass("tabs-content")){b.toggle_active_tab(h("["+b.attr_name()+"] > * > a[href="+c+"]").parent())}else{var o=n.closest(".content").attr("id");if(o!=g){b.toggle_active_tab(h("["+b.attr_name()+"] > * > a[href=#"+o+"]").parent(),c)}}}else{for(var d=0;d<b.default_tab_hashes.length;d++){b.toggle_active_tab(h("["+b.attr_name()+"] > * > a[href="+b.default_tab_hashes[d]+"]").parent())}}}})},toggle_active_tab:function(z,t){var b=this,v=b.S,d=z.closest("["+this.attr_name()+"]"),x=z.find("a"),u=z.children("a").first(),a="#"+u.attr("href").split("#")[1],s=v(a),c=z.siblings(),y=d.data(this.attr_name(true)+"-init"),A=function(j){var k=h(this);var l=h(this).parents("li").prev().children('[role="tab"]');var m=h(this).parents("li").next().children('[role="tab"]');var n;switch(j.keyCode){case 37:n=l;break;case 39:n=m;break;default:n=false;break}if(n.length){k.attr({tabindex:"-1","aria-selected":null});n.attr({tabindex:"0","aria-selected":true}).focus()}h('[role="tabpanel"]').attr("aria-hidden","true");h("#"+h(f.activeElement).attr("href").substring(1)).attr("aria-hidden",null)},w=function(j){var l=e.location.href===b.entry_location,k=y.scroll_to_content?b.default_tab_hashes[0]:l?e.location.hash:"fndtn-"+b.default_tab_hashes[0].replace("#","");if(!(l&&j===k)){e.location.hash=j}};if(u.data("tab-content")){a="#"+u.data("tab-content").split("#")[1];s=v(a)}if(y.deep_linking){if(y.scroll_to_content){w(t||a);if(t==g||t==a){z.parent()[0].scrollIntoView()}else{v(a)[0].scrollIntoView()}}else{if(t!=g){w("fndtn-"+t.replace("#",""))}else{w("fndtn-"+a.replace("#",""))}}}z.addClass(y.active_class).triggerHandler("opened");x.attr({"aria-selected":"true",tabindex:0});c.removeClass(y.active_class);c.find("a").attr({"aria-selected":"false",tabindex:-1});s.siblings().removeClass(y.active_class).attr({"aria-hidden":"true",tabindex:-1});s.addClass(y.active_class).attr("aria-hidden","false").removeAttr("tabindex");y.callback(z);s.triggerHandler("toggled",[s]);d.triggerHandler("toggled",[z]);x.off("keydown").on("keydown",A)},data_attr:function(a){if(this.namespace.length>0){return this.namespace+"-"+a}return a},off:function(){},reflow:function(){}}}(jQuery,window,window.document));(function(h,e,f,g){Foundation.libs.tooltip={name:"tooltip",version:"5.5.2",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:false,hover_delay:200,show_on:"all",tip_template:function(b,a){return'<span data-selector="'+b+'" id="'+b+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+a+'<span class="nub"></span></span>'}},cache:{},init:function(b,a,c){Foundation.inherit(this,"random_str");this.bindings(a,c)},should_show:function(a,b){var c=h.extend({},this.settings,this.data_options(a));if(c.show_on==="all"){return true}else{if(this.small()&&c.show_on==="small"){return true}else{if(this.medium()&&c.show_on==="medium"){return true}else{if(this.large()&&c.show_on==="large"){return true}}}}return false},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(k){var c=this,b=c.S;c.create(this.S(k));function a(n,j,o){if(n.timer){return}if(o){n.timer=null;c.showTip(j)}else{n.timer=setTimeout(function(){n.timer=null;c.showTip(j)}.bind(n),c.settings.hover_delay)}}function d(m,j){if(m.timer){clearTimeout(m.timer);m.timer=null}c.hide(j)}h(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(s){var j=b(this),p=h.extend({},c.settings,c.data_options(j)),q=false;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(s.type)&&b(s.target).is("a")){return false}if(/mouse/i.test(s.type)&&c.ie_touch(s)){return false}if(j.hasClass("open")){if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(s.type)){s.preventDefault()}c.hide(j)}else{if(p.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(s.type)){return}else{if(!p.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(s.type)){s.preventDefault();b(p.tooltip_class+".open").hide();q=true;if(h(".open["+c.attr_name()+"]").length>0){var r=b(h(".open["+c.attr_name()+"]")[0]);c.hide(r)}}}if(/enter|over/i.test(s.type)){a(this,j)}else{if(s.type==="mouseout"||s.type==="mouseleave"){d(this,j)}else{a(this,j,true)}}}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(j){if(/mouse/i.test(j.type)&&c.ie_touch(j)){return false}if(h(this).data("tooltip-open-event-type")=="touch"&&j.type=="mouseleave"){return}else{if(h(this).data("tooltip-open-event-type")=="mouse"&&/MSPointerDown|touchstart/i.test(j.type)){c.convert_to_touch(h(this))}else{d(this,h(this))}}}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(j){d(this,b(this))})},ie_touch:function(a){return false},showTip:function(b){var a=this.getTip(b);if(this.should_show(b,a)){return this.show(b)}return},getTip:function(c){var d=this.selector(c),b=h.extend({},this.settings,this.data_options(c)),a=null;if(d){a=this.S('span[data-selector="'+d+'"]'+b.tooltip_class)}return(typeof a==="object")?a:false},selector:function(b){var a=b.attr(this.attr_name())||b.attr("data-selector");if(typeof a!="string"){a=this.random_str(6);b.attr("data-selector",a).attr("aria-describedby",a)}return a},create:function(m){var d=this,b=h.extend({},this.settings,this.data_options(m)),l=this.settings.tip_template;if(typeof b.tip_template==="string"&&e.hasOwnProperty(b.tip_template)){l=e[b.tip_template]}var a=h(l(this.selector(m),h("<div></div>").html(m.attr("title")).html())),c=this.inheritable_classes(m);a.addClass(c).appendTo(b.append_to);if(Modernizr.touch){a.append('<span class="tap-to-close">'+b.touch_close_text+"</span>");a.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(j){d.hide(m)})}m.removeAttr("title").attr("title","")},reposition:function(p,b,r){var u,a,c,q,s,d;b.css("visibility","hidden").show();u=p.data("width");a=b.children(".nub");c=a.outerHeight();q=a.outerHeight();if(this.small()){b.css({width:"100%"})}else{b.css({width:(u)?u:"auto"})}d=function(j,k,n,o,l,m){return j.css({top:(k)?k:"auto",bottom:(o)?o:"auto",left:(l)?l:"auto",right:(n)?n:"auto"}).end()};d(b,(p.offset().top+p.outerHeight()+10),"auto","auto",p.offset().left);if(this.small()){d(b,(p.offset().top+p.outerHeight()+10),"auto","auto",12.5,h(this.scope).width());b.addClass("tip-override");d(a,-c,"auto","auto",p.offset().left)}else{var t=p.offset().left;if(Foundation.rtl){a.addClass("rtl");t=p.offset().left+p.outerWidth()-b.outerWidth()}d(b,(p.offset().top+p.outerHeight()+10),"auto","auto",t);if(a.attr("style")){a.removeAttr("style")}b.removeClass("tip-override");if(r&&r.indexOf("tip-top")>-1){if(Foundation.rtl){a.addClass("rtl")}d(b,(p.offset().top-b.outerHeight()),"auto","auto",t).removeClass("tip-override")}else{if(r&&r.indexOf("tip-left")>-1){d(b,(p.offset().top+(p.outerHeight()/2)-(b.outerHeight()/2)),"auto","auto",(p.offset().left-b.outerWidth()-c)).removeClass("tip-override");a.removeClass("rtl")}else{if(r&&r.indexOf("tip-right")>-1){d(b,(p.offset().top+(p.outerHeight()/2)-(b.outerHeight()/2)),"auto","auto",(p.offset().left+p.outerWidth()+c)).removeClass("tip-override");a.removeClass("rtl")}}}}b.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(k){var b=h.extend({},this.settings,this.data_options(k)),a=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(b.additional_inheritable_classes),c=k.attr("class"),d=c?h.map(c.split(" "),function(j,m){if(h.inArray(j,a)!==-1){return j}}).join(" "):"";return h.trim(d)},convert_to_touch:function(d){var c=this,a=c.getTip(d),b=h.extend({},c.settings,c.data_options(d));if(a.find(".tap-to-close").length===0){a.append('<span class="tap-to-close">'+b.touch_close_text+"</span>");a.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(k){c.hide(d)})}d.data("tooltip-open-event-type","touch")},show:function(b){var a=this.getTip(b);if(b.data("tooltip-open-event-type")=="touch"){this.convert_to_touch(b)}this.reposition(b,a,b.attr("class"));b.addClass("open");a.fadeIn(150)},hide:function(b){var a=this.getTip(b);a.fadeOut(150,function(){a.find(".tap-to-close").remove();a.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose");b.removeClass("open")})},off:function(){var a=this;this.S(this.scope).off(".fndtn.tooltip");this.S(this.settings.tooltip_class).each(function(b){h("["+a.attr_name()+"]").eq(b).attr("title",h(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document));(function(h,e,f,g){Foundation.libs.topbar={name:"topbar",version:"5.5.2",settings:{index:0,start_offset:0,sticky_class:"sticky",custom_back_text:true,back_text:"Back",mobile_show_parent_link:true,is_hover:true,scrolltop:true,sticky_on:"all",dropdown_autoclose:true},init:function(b,a,c){Foundation.inherit(this,"add_custom_rule register_media throttle");var d=this;d.register_media("topbar","foundation-mq-topbar");this.bindings(a,c);d.S("["+this.attr_name()+"]",this.scope).each(function(){var q=h(this),p=q.data(d.attr_name(true)+"-init"),n=d.S("section, .top-bar-section",this);q.data("index",0);var o=q.parent();if(o.hasClass("fixed")||d.is_sticky(q,o,p)){d.settings.sticky_class=p.sticky_class;d.settings.sticky_topbar=q;q.data("height",o.outerHeight());q.data("stickyoffset",o.offset().top)}else{q.data("height",q.outerHeight())}if(!p.assembled){d.assemble(q)}if(p.is_hover){d.S(".has-dropdown",q).addClass("not-click")}else{d.S(".has-dropdown",q).removeClass("not-click")}d.add_custom_rule(".f-topbar-fixed { padding-top: "+q.data("height")+"px }");if(o.hasClass("fixed")){d.S("body").addClass("f-topbar-fixed")}})},is_sticky:function(n,b,c){var a=b.hasClass(c.sticky_class);var d=matchMedia(Foundation.media_queries.small).matches;var o=matchMedia(Foundation.media_queries.medium).matches;var m=matchMedia(Foundation.media_queries.large).matches;if(a&&c.sticky_on==="all"){return true}if(a&&this.small()&&c.sticky_on.indexOf("small")!==-1){if(d&&!o&&!m){return true}}if(a&&this.medium()&&c.sticky_on.indexOf("medium")!==-1){if(d&&o&&!m){return true}}if(a&&this.large()&&c.sticky_on.indexOf("large")!==-1){if(d&&o&&m){return true}}return false},toggle:function(k){var c=this,d;if(k){d=c.S(k).closest("["+this.attr_name()+"]")}else{d=c.S("["+this.attr_name()+"]")}var b=d.data(this.attr_name(true)+"-init");var a=c.S("section, .top-bar-section",d);if(c.breakpoint()){if(!c.rtl){a.css({left:"0%"});h(">.name",a).css({left:"100%"})}else{a.css({right:"0%"});h(">.name",a).css({right:"100%"})}c.S("li.moved",a).removeClass("moved");d.data("index",0);d.toggleClass("expanded").css("height","")}if(b.scrolltop){if(!d.hasClass("expanded")){if(d.hasClass("fixed")){d.parent().addClass("fixed");d.removeClass("fixed");c.S("body").addClass("f-topbar-fixed")}}else{if(d.parent().hasClass("fixed")){if(b.scrolltop){d.parent().removeClass("fixed");d.addClass("fixed");c.S("body").removeClass("f-topbar-fixed");e.scrollTo(0,0)}else{d.parent().removeClass("expanded")}}}}else{if(c.is_sticky(d,d.parent(),b)){d.parent().addClass("fixed")}if(d.parent().hasClass("fixed")){if(!d.hasClass("expanded")){d.removeClass("fixed");d.parent().removeClass("expanded");c.update_sticky_positioning()}else{d.addClass("fixed");d.parent().addClass("expanded");c.S("body").addClass("f-topbar-fixed")}}}},timer:null,events:function(a){var c=this,b=this.S;b(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(d){d.preventDefault();c.toggle(this)}).on("click.fndtn.topbar contextmenu.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(d){var q=h(this).closest("li"),p=q.closest("["+c.attr_name()+"]"),n=p.data(c.attr_name(true)+"-init");if(n.dropdown_autoclose&&n.is_hover){var o=h(this).closest(".hover");o.removeClass("hover")}if(c.breakpoint()&&!q.hasClass("back")&&!q.hasClass("has-dropdown")){c.toggle()}}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(d){var q=b(this),n=b(d.target),p=q.closest("["+c.attr_name()+"]"),o=p.data(c.attr_name(true)+"-init");if(n.data("revealId")){c.toggle();return}if(c.breakpoint()){return}if(o.is_hover&&!Modernizr.touch){return}d.stopImmediatePropagation();if(q.hasClass("hover")){q.removeClass("hover").find("li").removeClass("hover");q.parents("li.hover").removeClass("hover")}else{q.addClass("hover");h(q).siblings().removeClass("hover");if(n[0].nodeName==="A"&&n.parent().hasClass("has-dropdown")){d.preventDefault()}}}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(s){if(c.breakpoint()){s.preventDefault();var d=b(this),q=d.closest("["+c.attr_name()+"]"),o=q.find("section, .top-bar-section"),p=d.next(".dropdown").outerHeight(),r=d.closest("li");q.data("index",q.data("index")+1);r.addClass("moved");if(!c.rtl){o.css({left:-(100*q.data("index"))+"%"});o.find(">.name").css({left:100*q.data("index")+"%"})}else{o.css({right:-(100*q.data("index"))+"%"});o.find(">.name").css({right:100*q.data("index")+"%"})}q.css("height",d.siblings("ul").outerHeight(true)+q.data("height"))}});b(e).off(".topbar").on("resize.fndtn.topbar",c.throttle(function(){c.resize.call(c)},50)).trigger("resize.fndtn.topbar").load(function(){b(this).trigger("resize.fndtn.topbar")});b("body").off(".topbar").on("click.fndtn.topbar",function(d){var k=b(d.target).closest("li").closest("li.hover");if(k.length>0){return}b("["+c.attr_name()+"] li.hover").removeClass("hover")});b(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(t){t.preventDefault();var u=b(this),r=u.closest("["+c.attr_name()+"]"),d=r.find("section, .top-bar-section"),p=r.data(c.attr_name(true)+"-init"),q=u.closest("li.moved"),s=q.parent();r.data("index",r.data("index")-1);if(!c.rtl){d.css({left:-(100*r.data("index"))+"%"});d.find(">.name").css({left:100*r.data("index")+"%"})}else{d.css({right:-(100*r.data("index"))+"%"});d.find(">.name").css({right:100*r.data("index")+"%"})}if(r.data("index")===0){r.css("height","")}else{r.css("height",s.outerHeight(true)+r.data("height"))}setTimeout(function(){q.removeClass("moved")},300)});b(this.scope).find(".dropdown a").focus(function(){h(this).parents(".has-dropdown").addClass("hover")}).blur(function(){h(this).parents(".has-dropdown").removeClass("hover")})},resize:function(){var a=this;a.S("["+this.attr_name()+"]").each(function(){var l=a.S(this),c=l.data(a.attr_name(true)+"-init");var d=l.parent("."+a.settings.sticky_class);var b;if(!a.breakpoint()){var m=l.hasClass("expanded");l.css("height","").removeClass("expanded").find("li").removeClass("hover");if(m){a.toggle(l)}}if(a.is_sticky(l,d,c)){if(d.hasClass("fixed")){d.removeClass("fixed");b=d.offset().top;if(a.S(f.body).hasClass("f-topbar-fixed")){b-=l.data("height")}l.data("stickyoffset",b);d.addClass("fixed")}else{b=d.offset().top;l.data("stickyoffset",b)}}})},breakpoint:function(){return !matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(c){var d=this,b=c.data(this.attr_name(true)+"-init"),a=d.S("section, .top-bar-section",c);a.detach();d.S(".has-dropdown>a",a).each(function(){var q=d.S(this),n=q.siblings(".dropdown"),p=q.attr("href"),o;if(!n.find(".title.back").length){if(b.mobile_show_parent_link==true&&p){o=h('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link hide-for-medium-up"><a class="parent-link js-generated" href="'+p+'">'+q.html()+"</a></li>")}else{o=h('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>')}if(b.custom_back_text==true){h("h5>a",o).html(b.back_text)}else{h("h5>a",o).html("&laquo; "+q.html())}n.prepend(o)}});a.appendTo(c);this.sticky();this.assembled(c)},assembled:function(a){a.data(this.attr_name(true),h.extend({},a.data(this.attr_name(true)),{assembled:true}))},height:function(b){var a=0,c=this;h("> li",b).each(function(){a+=c.S(this).outerHeight(true)});return a},sticky:function(){var a=this;this.S(e).on("scroll",function(){a.update_sticky_positioning()})},update_sticky_positioning:function(){var d="."+this.settings.sticky_class,b=this.S(e),c=this;if(c.settings.sticky_topbar&&c.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var a=this.settings.sticky_topbar.data("stickyoffset")+this.settings.start_offset;if(!c.S(d).hasClass("expanded")){if(b.scrollTop()>(a)){if(!c.S(d).hasClass("fixed")){c.S(d).addClass("fixed");c.S("body").addClass("f-topbar-fixed")}}else{if(b.scrollTop()<=a){if(c.S(d).hasClass("fixed")){c.S(d).removeClass("fixed");c.S("body").removeClass("f-topbar-fixed")}}}}}},off:function(){this.S(this.scope).off(".fndtn.topbar");this.S(e).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,window,window.document));$(document).foundation();(function(d){var f=function(a,b){this.$element=d(a);this.options=d.extend({},d.fn.collapse.defaults,b);if(this.options.parent){this.$parent=d(this.options.parent)}this.options.toggle&&this.toggle()};f.prototype={constructor:f,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var a,h,b,c;if(this.transitioning||this.$element.hasClass("in")){return}a=this.dimension();h=d.camelCase(["scroll",a].join("-"));b=this.$parent&&this.$parent.find("> .accordion-group > .in");if(b&&b.length){c=b.data("collapse");if(c&&c.transitioning){return}b.collapse("hide");c||b.data("collapse",null)}this.$element[a](0);this.transition("addClass",d.Event("show"),"shown");d.support.transition&&this.$element[a](this.$element[0][h])},hide:function(){var a;if(this.transitioning||!this.$element.hasClass("in")){return}a=this.dimension();this.reset(this.$element[a]());this.transition("removeClass",d.Event("hide"),"hidden");this.$element[a](0)},reset:function(b){var a=this.dimension();this.$element.removeClass("collapse")[a](b||"auto")[0].offsetWidth;this.$element[b!==null?"addClass":"removeClass"]("collapse");return this},transition:function(a,j,c){var b=this,k=function(){if(j.type=="show"){b.reset()}b.transitioning=0;b.$element.trigger(c)};this.$element.trigger(j);if(j.isDefaultPrevented()){return}this.transitioning=1;this.$element[a]("in");d.support.transition&&this.$element.hasClass("collapse")?this.$element.one(d.support.transition.end,k):k()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var e=d.fn.collapse;d.fn.collapse=function(a){return this.each(function(){var b=d(this),c=b.data("collapse"),h=d.extend({},d.fn.collapse.defaults,b.data(),typeof a=="object"&&a);if(!c){b.data("collapse",(c=new f(this,h)))}if(typeof a=="string"){c[a]()}})};d.fn.collapse.defaults={toggle:true};d.fn.collapse.Constructor=f;d.fn.collapse.noConflict=function(){d.fn.collapse=e;return this};d(document).on("click.collapse.data-api","[data-toggle=collapse]",function(a){var b=d(this),l,c=b.attr("data-target")||a.preventDefault()||(l=b.attr("href"))&&l.replace(/.*(?=#[^\s]+$)/,""),k=d(c).data("collapse")?"toggle":b.data();b[d(c).hasClass("in")?"addClass":"removeClass"]("collapsed");d(c).collapse(k)})})(window.jQuery);(function(n,l,o){var p=o("#topMenu"),k="click.fndtn";if(p.length>0){p.css("margin-top",p.height()*-1)}var q=o("#sidebarButton");if(q.length>0){o("#sidebarButton").on(k,function(a){a.preventDefault();o("body").toggleClass("active");var b=o("#categoryId").val();if(b!=""){o(".browse-nav.show-for-medium-down li#"+b+".sub-cat a").first().addClass("selected")}})}var m=o("#sidebarFButton");if(m.length>0){o("#sidebarFButton").on(k,function(a){a.preventDefault();o("body").toggleClass("active");o("html, body").animate({scrollTop:0},"300")})}var r=o("#menuButton");if(r.length>0){o("#menuButton").on(k,function(a){a.preventDefault();o("body").toggleClass("active-menu")})}var s=o("#switchPanels");if(s.length>0){o("#switchPanels dd").on(k,function(b){b.preventDefault();var a=o(this).children("a").attr("href"),c=o(a).index();o(this).toggleClass("active").siblings().removeClass("active");o(a).parent().css("left",(c*(-100)+"%"))})}o("#nav li a").on(k,function(a){a.preventDefault();var b=o(this).attr("href"),c=o(b);o("html, body").animate({scrollTop:c.offset().top},300)});o("a.exit-off-canvas").on(k,function(a){a.preventDefault();o("body").toggleClass("active")})}(this,document,jQuery));(function(b){b.fn.rwdImageMaps=function(){var d=this;var a=function(){d.each(function(){if(typeof(b(this).attr("usemap"))=="undefined"){return}var c=this,f=b(c);b("<img />").load(function(){var m=f.width(),l=774,o=m/l,n=f.attr("usemap").replace("#",""),e="coords";b('map[name="'+n+'"]').find("area").each(function(){var j=b(this);if(!j.data(e)){j.data(e,j.attr(e))}var k=j.data(e).split(","),g=new Array(k.length);for(var h=0;h<g.length;++h){g[h]=parseInt(k[h]*o)}j.attr(e,g.toString())})}).attr("src",f.attr("src"))})};b(window).resize(a).trigger("resize");return this}})(jQuery);function showModal(j){if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}var k=$("#footerModal"),h=$(j).attr("href"),g=$(h),f=window.location.origin+"/content/modal_FAQs.jsp";if(h=="#cc_security_code_modal"||h=="#order_source_code_modal"||h=="#sales_tax_info_modal"){$(document).on("opened.fndtn.reveal","#footerModal",function(){var b=$("#footerModal img").width(),a=-b/2;k.width(b)})}else{if(h=="#emailModal"){$(document).on("opened.fndtn.reveal","#footerModal",function(){var b=465,a=-b/2;k.width(b)})}else{if(h=="#invoiceReprintModal"){$(document).on("opened.fndtn.reveal","#footerModal",function(){var b=700,a=-b/2;k.width(b)})}else{if(h=="#confirmationModal"||h=="#confirmationModalConfirm"){$(document).on("opened.fndtn.reveal","#footerModal",function(){var b=720,a=-b/2;k.width(b)})}}}}if(h=="#modalFaqs"){k.foundation("reveal","open",{url:f})}else{k.append(g.clone());k.foundation("reveal","open")}$(document).on("closed.fndtn.reveal","#footerModal",function(){k.html('<a class="close-reveal-modal">&#215;</a>')})}$(function(){$("#tabs a").click(function(){if($(this).parent().hasClass("selected")){return false}$("#tabs li").each(function(){$(this).removeClass("selected")});$(this).parent().addClass("selected");$("#mainContent .tab").each(function(){$(this).hide()});var a="#tab_"+$(this).attr("id");$(a).show();return false});$("div#mainContent .contentBlock a.buttonLinkLTD").click(function(a){if($(this).hasClass("hideFAQs")){if($("#secondaryContent").hasClass("hidden")){$("#secondaryContent").removeClass("hidden");$(".hideFAQs img").attr("src",CONTEXT_ROOT+"media/ltd/images/buttons/hide-faqs.gif");$(".hideFAQs img").attr("alt","Hide FAQs")}else{$("#secondaryContent").addClass("hidden");$(".hideFAQs img").attr("src",CONTEXT_ROOT+"media/ltd/images/buttons/view-all-faqs.gif");$(".hideFAQs img").attr("alt","Show All FAQs")}return}if($("#secondaryContent").hasClass("hidden")){$(".hideFAQs img").click()}});$("div#mainContent .contentBlock a.buttonLinkLS").click(function(a){if($(this).hasClass("hideFAQs")){if($("#secondaryContent").hasClass("hidden")){$("#secondaryContent").show();$(".hideFAQs img").attr("src",CONTEXT_ROOT+"media/lakeside/images/buttons/hide-faqs.gif");$(".hideFAQs img").attr("alt","Hide FAQs")}else{$("#secondaryContent").hide();$(".hideFAQs img").attr("src",CONTEXT_ROOT+"media/lakeside/images/buttons/view-all-faqs.gif");$(".hideFAQs img").attr("alt","Show All FAQs")}return}if($("#secondaryContent").hasClass("hidden")){$(".hideFAQs img").click()}});window.tabClickEvent=function(e){e.preventDefault();e.stopPropagation();var j=$(this),h=$(j.find("a").attr("href")),k="selected",a="active";j.siblings("."+k).removeClass(k).end().addClass(k);h.siblings("."+a).removeClass(a).end().addClass(a)};$(".tabbedContent .tabs li").click(window.tabClickEvent);var b=$("#quickView").length?$("#quickView"):$("#quickView1");b.delegate(".tabbedContent .tabs li","click",window.tabClickEvent);$("#topNav li").each(function(){$(this).hover(function(){$(this).toggleClass("selected")})});$("#topNav li a#moreDepartmentsLink").click(function(a){a.preventDefault();$(this).parent().siblings().removeClass("selected");$(this).parent().toggleClass("selected");$("ul#shopCatalogs").hide();$("ul#child").hide();$("ul#moreDepartments").toggle()});$("#quickSearch-query").result(function(a,e,f){if(e){$(this).parent().next().find("input").val(e[1])}});$("#quickSearch-query").click(function(){if($(this).val()=="Search item# or keyword"){$(this).val("")}});$("#quickSearch-query").blur(function(){if($(this).val()==""){$(this).val("Search item# or keyword")}});$("#productNav a.toggle").each(function(){$(this).siblings("ul.hidden").hide().removeClass("hidden");$(this).click(function(){if($(this).parent().hasClass("selected")){$(this).siblings("ul").hide(0,function(){$(this).parent().removeClass("selected")})}else{$(this).parent().addClass("selected");$(this).siblings("ul").show()}return false})});$(".customerService dt").each(function(){$(this).siblings("dd").hide();$(this).click(function(){$(this).toggleClass("selected");$(this).siblings("dd").toggle()})});$("#splitCardOne label.inputCheckbox.selectToggle input").live("click",function(){$("#splitCardTwo").toggle();$("#payWithBillMeLater").toggle();$("#orderTotalTextBox").toggle();$("#continueWithCCButton").toggle()});$("#accountUpdate label.inputCheckbox.selectToggle input").each(function(){$(this).click(function(){$(".toggleContent").toggle()})});$("#accountCreation label.inputCheckbox.selectToggle input").each(function(){$(this).click(function(){$(".toggleContent").toggle()})});$(".updatQtyField").keypress(function(a){handleUpdateQuantityKeyPress(a)});$("#applyCouponInput").keypress(function(a){handleApplyCouponKeyPress(a)});$("#billingAddress label.inputCheckbox.selectToggle input").each(function(){$(this).click(function(){if($("#sameAsShippingCheckbox").is(":checked")){$("#billingSameAsShipping").val("true");$("#billingAddress .toggleContent").hide()}else{$("#billingSameAsShipping").val("false");$("#billingAddress .toggleContent").show()}})});$("#shippingAddress label.inputRadio input:not(:hidden):not(:last)").click(function(){$("#shippingAddress .toggleContent").hide()});$("#billingAddress label.inputRadio input:not(#billingAddress label.inputRadio.selectToggle.subToggle input)").click(function(){$("#billingAddress .toggleContent.subToggle").hide()});$("#billingAddress label.inputRadio.selectToggle.subToggle input").change(function(){if($("#billingAddress label.inputRadio.selectToggle.subToggle input:checked")){$("#billingAddress .toggleContent.subToggle").show()}});$(".account #content #secondaryContent h2").each(function(){$(this).click(function(){$(".account #content #secondaryContent h2:not(this)").removeClass("selected").next(".contentBlock").removeClass("selected");$(this).toggleClass("selected").next(".contentBlock").toggleClass("selected")})});$(".forgotPassword").click(function(){$(".signin #content form #signIn fieldset div.modified").toggle();return false});$(".hideFAQs").click(function(){$(".customerService dd").hide()});$(".a-img-swap").click(function(){var j=this.id;j=j.substring(1);if($("#2"+j).hasClass("in")){document.getElementById("2"+j).style.display="none";$("#1"+j).removeClass("minus");$("#1"+j).addClass("plus");$target2=$("#sidebar #"+j);$target2.children("ul").removeClass("in");$target2.children("ul").children("li").children("ul").removeClass("in");var a=$target2.children("ul").children("li").find(".has-image");for(var q=0;q<a.length;q++){var m=a[q].id;$("#"+m).removeClass("minus");$("#"+m).addClass("plus")}}else{if($("#2"+j).hasClass("top-level")){$target=$("#mobile");var u=$target.children("li");for(var q=0;q<u.length;q++){var m=u[q].id;if(j!=m){if($("#1"+m).hasClass("minus")||$("#1"+m).hasClass("plus")){$("#1"+m).removeClass("minus");$("#1"+m).addClass("plus");$("#2"+m).removeClass("in");document.getElementById("2"+m).style.display="none"}var s=$("#2"+m).children("li");for(var r=0;r<s.length;r++){var o=s[r].id;if($("#1"+o).hasClass("minus")||$("#1"+o).hasClass("plus")){$("#1"+o).removeClass("minus");$("#1"+o).addClass("plus");$("#2"+o).removeClass("in")}}}}}if($("#2"+j).hasClass("second-level")){var p=$("#sidebar #"+j).siblings().children("ul");for(var t=0;t<p.length;t++){var o=p[t].id.substring(1);$("#1"+o).removeClass("minus");$("#1"+o).addClass("plus");$("#2"+o).removeClass("in")}}$("#2"+j).addClass("in");$("#1"+j).removeClass("plus");$("#1"+j).addClass("minus");document.getElementById("2"+j).style.display="block"}});$(".img-swap").click(function(){var a=this.id;a=a.substring(1);if($("#2"+a).hasClass("in")){document.getElementById("2"+a).style.display="none";$("#1"+a).attr("src","/images/plus-icon.png");$target2=$("#sidebar #"+a);$target2.children("ul").removeClass("in");$target2.children("ul").children("li").children("ul").removeClass("in");var g=$target2.children("ul").children("li").find("img");for(var h=0;h<g.length;h++){var f=g[h].id;if($("#"+f).hasClass("has-image")){g[h].src="/images/plus-icon.png"}}}else{$("#2"+a).addClass("in");$("#1"+a).attr("src","/images/minus-icon.png");document.getElementById("2"+a).style.display="block"}});$("#shippingAddress label.inputRadio input").change(function(){if($("#shippingAddress label.inputRadio input:checked")){$("#shippingAddress label.inputRadio input:not(this)").next("span").removeClass("selected");$(this).next("span").addClass("selected")}});$("#billingAddress label.inputRadio input").change(function(){if($("#billingAddress label.inputRadio input:checked")){$("#billingAddress label.inputRadio input:not(this)").next("span").removeClass("selected");$(this).next("span").addClass("selected")}});$("#comment").keyup(function(){limitChars("comment",110,"label.textareaBox")});$("#cart-comment").keyup(function(){limitChars("cart-comment",110,"label.textareaBox")});$("#drop1-selector-cancel").click(function(){location.replace(location.href)});$(".popUp2").click(function(){if($(this).hasClass("email")){$(".tellAFriendPopup").removeClass("hidden");return false}else{if($(this).hasClass("videoBtn")){$(".videoPopup").removeClass("hidden");return false}}$("div#popUpWindow2").removeClass("hidden");return false});$("a#closePopUp").click(function(){$("div#popUpWindow").addClass("hidden");$("div#popUpWindow2").addClass("hidden");$("div.popUpWindow2").addClass("hidden");$("div#popUpWindow3").addClass("hidden");$("div#quickView").addClass("hidden");$("div#quickCartPopup").addClass("displayNone");return false});$("body").click(function(){$("div#popUpWindow").addClass("hidden");$("div#popUpWindow2").addClass("hidden");$("div.popUpWindow2").addClass("hidden");$("div#popUpWindow3").addClass("hidden");$("div.videoPopup").addClass("hidden")});$("#johnMyAccountInput").keyup(function(){if(this.value.match(/[^a-zA-Z/' ]/g)){this.value=this.value.replace(/[^a-zA-Z/' ]/g,"")}});$("#cartShippingStateSelect").on("change",updateOrderShipping);$("a.closeButton").click(function(){$("div#popUpWindow").addClass("hidden");$("div#popUpWindow2").addClass("hidden");$("div.popUpWindow2").addClass("hidden");$("div#popUpWindow3").addClass("hidden");$("div#quickView").addClass("hidden");$("div#quickCartPopup").addClass("displayNone");$("a.quickViewHover").addClass("hidden");return false});$("div#popUpWindow").click(function(a){a.stopPropagation()});$("div#popUpWindow2").click(function(a){a.stopPropagation()});$("div.popUpWindow2").click(function(a){a.stopPropagation()});$("div#quickView").click(function(a){a.stopPropagation()});$("div.videoPopup").click(function(a){a.stopPropagation()});$(".popUp").click(function(){if($(".infoImg").length&&$(".zoomImg").length){LargeImagesDisplay("start")}$("div#popUpWindow").removeClass("hidden");return false});window.personalizationModalDisplay=function(h){h.preventDefault();h.stopPropagation();var a=$(".personalPopup").eq(0),j=$(this).closest("#quickView, #quickView1").length?true:false,k=($(window).scrollTop()+100)+"px",e=$("#quickView").length?$("#quickView"):$("#quickView1");if(j){a.detach().insertAfter(e);k=(parseInt(e.css("top"),10)+10)+"px";a.css({left:e.css("left"),"margin-left":e.css("margin-left")});e.addClass("hidden")}a.removeClass("hidden").css("top",k).find("#closePopUp").click(function(c){a.addClass("hidden");e.removeClass("hidden");$(this).unbind();return false})};$(".galleryNav a.personalization").click(window.personalizationModalDisplay);$("#persistentCart a.view").click(function(){$("div#quickCartPopup").removeClass("displayNone");setTimeout(function(){$("div#quickCartPopup").addClass("displayNone")},3500);return false});$("#showFlyOut").click(function(){$("div#quickCartPopup").removeClass("displayNone");setTimeout(function(){$("div#quickCartPopup").addClass("displayNone")},3500);return false});$("a#closeViewLarger").click(function(){$("div#viewLarger").addClass("hidden");$("div#previewPage").removeClass("hidden");$("div#sizeChartPage").addClass("hidden");return false});$("a#largerViewBtn").click(function(){$("div#viewLarger").removeClass("hidden");$("div#previewPage").addClass("hidden");$("div#sizeChartPage").addClass("hidden");return false});$("a#sizeChartBtn").click(function(){$("div#viewLarger").addClass("hidden");$("div#previewPage").addClass("hidden");$("div#sizeChartPage").removeClass("hidden");return false});$("#add-cc1").live("change",function(){updateSelectedCreditCardForCheckout("#add-cc1")});$("#add-cc2").live("change",function(){updateSelectedCreditCardForCheckout("#add-cc2")});$("div.item a").mouseenter(function(a){$(this).next("a.quickViewHover").removeClass("hidden")});$("div.item a").mouseleave(function(a){$(this).next("a.quickViewHover").addClass("hidden")});$("a.quickViewHover").hover(function(a){$(this).removeClass("hidden")});$("#closeViewLarger").click(function(){$("div#previewPage").removeClass("hidden");$("div#viewLarger").addClass("hidden");$("div#sizeChartPage").addClass("hidden");return false});$(".closeViewLarger").click(function(){$("div#sizeChartPage").addClass("hidden");$("div#previewPage").removeClass("hidden");$("div#viewLarger").addClass("hidden");return false});$("a#previewPage").click(function(){$("div#viewLarger").removeClass("hidden");$("div#previewPage").addClass("hidden");$("div#sizeChartPage").addClass("hidden");return false});$("#homeSubscribe-form").submit(function(){var a=$("#homeSubscribe-email").val();var d=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;if(a==""){$("#homeSubscribe-email").val("Please Enter Your Email");return false}else{if(!d.test(a)){$("#homeSubscribe-email").add().css("color","#990000");$("#homeSubscribe-email").val("Please Enter a Valid Email");return false}}});$("#homeSubscribe-email").focus(function(){$("#homeSubscribe-email").add().css("color","#999");$("#homeemail").replaceWith("<span id='homeemail'>We will never sell your email address. To learn more read our </span>");document.getElementById("homeemail1").style.visibility="visible";return false});$("#emailSubscribeAddress").focus(function(){$("#emailSubscribeAddress").add().css("color","#999");return false});$("#footerSubscribe-form").submit(function(){var a=$("#footerSubscribe-email").val();var d=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;if(a==""){$("#footerSubscribe-email").val("Please enter the email address");return false}else{if(!d.test(a)){$("#footerSubscribe-email").add().css("color","#990000");$("#footerSubscribe-email").val("Please enter a valid email address");return false}}});$("#footerSubscribe-email").focus(function(){$("#footerSubscribe-email").add().css("color","#999");$("#footer1").replaceWith("<em id='footer1'>Sign-Up for Exclusive</em>");$("#footer2").replaceWith("<span id='footer2'>Offers and Previews</span>");return false});$(".addAllButton").live("click",function(){$("#addAllItemsToOrderButton2").click()});$("#quickSearch-query").keypress(function(a){if(a.keyCode=="13"){$("#quickSearch-submit").click();return false}});$("ul.nav a.toggle").each(function(){if($(this).nextAll("ul").children().size()==0){$(this).addClass("displayNone")}})});function homePromoCarouselMove(e){var g=0;$("#homePromoCarousel .jcarousel-control > li").each(function(){g=g+1;if($(this).attr("class")==e){$(this).addClass("selected")}else{$(this).removeClass("selected")}});var h=$("#homePromoCarousel .carousel > li").size();if(e==1){$("#homePromoCarousel li.prev").addClass("hidden")}else{$("#homePromoCarousel li.prev").removeClass("hidden")}if(e==h){$("#homePromoCarousel li.next").addClass("hidden")}else{$("#homePromoCarousel li.next").removeClass("hidden")}var f=0;$("#homePromoCarousel .carousel > li").each(function(){f=f+1;if(f==e){$(this).fadeIn("slow")}else{$(this).hide()}})}function closeQuickView(){$("div#quickView").addClass("hidden");$("a.quickViewHover").addClass("hidden");$("div#quickView").empty();return false}function updateRemovalFromGiftlist(b){$("#removalGiftListInput").val(b);submitFormUpdateGiftlist()}function submitFormUpdateGiftlist(){$("#updateWishlistButton").click()}function updatePostOrderForm1(h){var f=$("#promoEmail").val();$("#createPerAccount-promoEmail").val(f);var j=$("#CreateB2BAccount").val();$("#createPerAccount-createBusinessAccount").val(j);var k=$("#state").val();$("#createPerAccount-state").val(k);var g=$("#heardFrom").val();$("#createPerAccount-heardFrom").val(g);$(h).find('input[name^="createPerAccount-"]').each(function(a){var c=$(this).attr("name");var b=$(this).val();$("#"+c).val(b)})}function updatePostOrderForm(b){$(b).find('input[name^="createPerAccount-"]').each(function(e){var a=$(this).attr("name");var f=$(this).val();$("#"+a).val(f)})}function updateAddToCartFromWishlistFormFields(b){}function validatePickerSelection(g){var j=false;var k=false;$("#firstPicker > li > a").each(function(){if($("#firstPicker a.blue").length!=0){j=true}});if(g){if($("#quickView #secondPicker").length==0){k=true}if($("#quickView #firstPicker").length==0){j=true}}if(!document.getElementById("secondPicker")){k=true}if(!document.getElementById("firstPicker")){j=true}$("#secondPicker > li > a").each(function(){if($("#secondPicker a.blue").length!=0){k=true}});if(!j||!k){var l=$("#personalizationErrors"),m=$(".product-error"),h="<ul id='personalizationErrors'><li>! Please select your choice before adding to cart.</li></ul>";if(g){l=$("#quickView #personalizationErrors");m=$("#quickView .product-error")}l.remove();m.prepend(h);return false}else{return true}}$.fn.validatePersonalized=function(J,U){var W=$(this),C=W.find("label"),F=C.length,B=y(),Q={display:false,messages:{}};$.webpurify.init();$("small").remove(".resp_error");for(var G=0;G<F;G++){var X=C.eq(G),N=X.closest(".fieldContainer"),H=X.attr("class")?X.attr("class").split(" "):"",M=H.length,S=true;for(var P=0;P<M;P++){var T=$.trim(H[P]),K=true;if(B[T]){var O=X.find("input").length?X.find("input"):X.next("input, select"),I=O.val()===O.attr("placeholder")?"":$.trim(O.val());if(I||T==="required"){K=B[T].method(O)}if(!K){Q.display=true;S=false;S?N.removeClass("error"):N.after('<small class="resp_error">'+B[T].message+"</small>")}}}}var D=C.filter(".profanity");var R=D.length;for(var G=0;G<R;G++){var X=D.eq(G);var N=X.closest(".fieldContainer");L(X,V)}function L(b,a){var c=[],e="";var d=$(b);c.push(d.next("input").val().toLowerCase());$.webpurify.returnProfanity(c.join("::"),function(g){var f=true;if(g){f=false;if(!$.isArray(g)){var h=g;g=[h]}if(Y(d,g)){d.closest(".fieldContainer").after('<small class="resp_error">! We\'re sorry, but profanity cannot be applied to personalized items</small>')}else{d.closest(".fieldContainer").removeClass("error")}}})}E(C.filter(".profanity"),V);function V(){var b=$("#personalizationErrors"),e=".product-error",d=".itemInfo";if(J){b=$("#quickView #personalizationErrors"),e="#quickView .product-error",d="#quickView .itemInfo"}b.remove();if(Q.display){var a=$('<ul id="personalizationErrors"></ul>');for(var c in Q.messages){$("<li />",{text:Q.messages[c]}).appendTo(a)}if($(e).length>0){a.prependTo(e)}else{a.prependTo(d)}U&&U(false)}else{U&&U(true)}}function E(d,a){var b=[],c="";d.each(function(g,e){var f=$(e);b.push(f.next("input").val())});$.webpurify.returnProfanity(b.join("::"),function(f){var e=true;if(f){e=false;if(!$.isArray(f)){var g=f;f=[g]}d.each(function(k,h){var j=$(h);if(Y(j,f)){}else{j.closest(".fieldContainer").removeClass("error")}})}if(!e){Q.display=true}a()})}function Y(b,a){var e=a.length,d=false;for(var c=0;c<e;c++){if(b.next("input").val().toLowerCase().indexOf(a[c])>=0){d=true}}return d}function y(){return{required:{method:function(b){var a=b.val()===b.attr("placeholder")?"":$.trim(b.val());if(!a){return false}else{return true}},message:"! Please select ALL Personalization Options before adding to cart."},dateFormat:{method:function(e){var a=$.trim(e.attr("placeholder").toLowerCase()),b=a.split("month").join("(\\w+)").split("d").join("\\d").split("m").join("\\d").split("y").join("\\d").split(".").join("."),c=new RegExp("^"+b+"$","g"),d=c.test(e.val());return d},message:"! Please enter a valid date format"},specialChar:{method:function(c){var a=/^[\w, \-, \,, ;, :, \', \", #, \., \!, \?, \&]+$/g,b=a.test($.trim(c.val()));return b},message:"! You have used non-allowed characters"},confirmation:{method:function(a){if(a[0].checked){return true}else{return false}},message:"! Please confirm your information is correct"}}}};function addToCartFromWishlistSuccess(b){$("#includeSavedFavoritesDiv").load(CONTEXT_ROOT+"checkout/includes/shopping_cart/inc_saved_favorites.jsp");showMiniCartUpdate(b)}function updateRemoval(m,k,h,n){$("#removalInput").val(h);submitFormUpdate(m,"R",n);var j=$("#xxx"+m).val();var o=j;var l=o.match(/-/g);if(l!=null&&l.length>1){o=o.replace(o.substring(o.lastIndexOf("-")),"")}else{if(l==null){o=o.slice(0,-3)}}fireTealiumEvent({e_remove_cart:"t",product_child_sku:j,product_parent_sku:o,event_flag:"remove from cart"})}function initializeAddToCartForm(){var b={dataType:"json",success:showMiniCartUpdate,error:showMiniCartUpdate,beforeSubmit:function(){return $("#personalized").validatePersonalized(false,function(){})}};$("#addToCart").ajaxForm(b)}var subscribeOffCanvasOptions={beforeSubmit:function(){var d=$("#sidebar .subscribe-email").val(),c=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;if(d==""){$("#sidebar .subscribe-email").val("Please Enter Your Email");return false}else{if(!c.test(d)){$("#sidebar .subscribe-email").css("color","#900");$("#sidebar .subscribe-email").val("Please Enter a Valid Email");return false}}},success:function(){fireTealiumEvent({e_leftnav_email_p:"t",lead_type:"email leftnavp signup"});$("#sidebar .subscribe-email").val("Enter Your Email Here").css("color","#999");$("#sidebar .subscribe-message").html($("#sidebar .subscribe-confirmation").val())},error:function(){console.log("subscribeOffCanvas error: ",data)}},subscribeLeftColOptions={beforeSubmit:function(){var d=$(".large-2 .subscribe-email").val(),c=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;if(d==""){$(".large-2 .subscribe-email").val("Please Enter Your Email");return false}else{if(!c.test(d)){$(".large-2 .subscribe-email").css("color","#900");$(".large-2 .subscribe-email").val("Please Enter a Valid Email");return false}}},success:function(){fireTealiumEvent({e_leftnav_email:"t",lead_type:"email leftnav signup"});$(".large-2 .subscribe-email").val("Enter Your Email Here").css("color","#999");$(".large-2 .subscribe-message").html($(".large-2 .subscribe-confirmation").val())},error:function(){console.log("subscribeLeftCol error: ",data)}},subscribeRightColOptions={beforeSubmit:function(){var d=$(".large-8 .subscribe-email").val(),c=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;if(d==""){$(".large-8 .subscribe-email").val("Please Enter Your Email");return false}else{if(!c.test(d)){$(".large-8 .subscribe-email").css("color","#900");$(".large-8 .subscribe-email").val("Please Enter a Valid Email");return false}}},success:function(){if($("html").hasClass("small-screen")){fireTealiumEvent({e_rightnav_email_p:"t",lead_type:"email rightnavp signup"})}else{fireTealiumEvent({e_rightnav_email:"t",lead_type:"email rightnav signup"})}$(".large-8 .subscribe-email").val("Enter Your Email Here").css("color","#999");$(".large-8 .subscribe-message").html($(".large-8 .subscribe-confirmation").val())},error:function(){console.log("subscribeRightCol error: ",data)}};$("#sidebar #homeSubscribe-form_new").ajaxForm(subscribeOffCanvasOptions);$(".large-2 #homeSubscribe-form_new").ajaxForm(subscribeLeftColOptions);$(".large-8 #homeSubscribe-form_new").ajaxForm(subscribeRightColOptions);function initializefooterSubscribe(){var b={success:footerSubscribeConfirm,error:footerSubscribeConfirm};$("#footerSubscribe-form").ajaxForm(b)}function footerSubscribeConfirm(b){if(b.success!=undefined){$("#footerSubscribe-email").val("Enter Your Email Here");$("#footer1").replaceWith("<em id='footer1'>Thank you!</em>");$("#footer2").replaceWith("<span id='footer2'>You will receive email confirmation shortly.</span>");return}else{if(b.error!=undefined){}}}initializefooterSubscribe();function submitEditInCartForm(){var b={};updateEditInCartForm();$("#editInCartForm").submit();return false}function submitEditGiftlistInCartForm(){var b={};updateEditInCartGiftlistForm();$("#editInCartGiftlistForm").submit();return false}function updateEditInCartForm(){var g=$("#skuToUpdate").val();var h=$("#"+g+"-qty").val();var f=$("#productId").val();var e=$("#originalSkuId").val();$("#originalSkuIdFormField").val(e);$("#productIdFormField").val(f);$("#skuIdFormField").val(g);$("#qtyFormField").attr("name",g);$("#qtyFormField").val(h)}function updateEditInCartGiftlistForm(){var g=$("#gl-giftlistItemToUpdate").val();var h=$("#gl-skuToUpdate").val();var j=$("#"+h+"-qty").val();var f=$("#gl-productId").val();var k=$("#gl-originalSkuId").val();$("#gl-giftlistItemToUpdateFormField").attr("name",g);$("#gl-giftlistItemToUpdateFormField").val(j);$("#gl-originalSkuIdFormField").val(k);$("#gl-productIdFormField").val(f);$("#gl-skuIdFormField").val(h);$("#gl-qtyFormField").attr("name",h);$("#gl-qtyFormField").val(j)}function closeNotesForm(){$("#shoppingcartnotes").foundation("reveal","close")}function editNotes(g,e){var h=$("#shoppingcartnotes");var f="itemNotes.jsp?itemID="+g+"&successURL="+e;h.load(f,function(){$("#shoppingcartnotes").foundation("reveal","open")})}function editGiftNotes(b){$("#popUpWindow2").load("giftItemNotes.jsp?itemID="+b);$("div#popUpWindow2").removeClass("hidden")}function initializeProductNav(){var g=$("#productNav li.selected ");if(g.length==0){g=$("#selected")}var k=$(g).children().first();if(k.hasClass("toggle")){k.click()}var k=$(g).children();var f=0;while(f<k.length){var h=k[f];var j=$(h).first();if(j.hasClass("toggle")){j.click()}f=f+1}}$.fn.clearDefaultValue=function(){return this.focus(function(){if(this.value==this.defaultValue){this.value=""}if(this.type=="password"&&this.value==""){$(this).removeClass("password-field")}}).blur(function(){if(!this.value.length){this.value=this.defaultValue}if(this.type=="password"&&this.value==""){$(this).addClass("password-field")}})};function limitChars(j,g,f){var h=$("#"+j).val();var k=h.length;if(k>g){if(j=="cart-comment"){$(f).children("em").html('<em class="required" style="clear: both; font-weight: normal; white-space: nowrap;">Character limit is '+g+"</em>")}else{$(f).children("em").html('<em class="required" style="clear: both; font-weight: normal; white-space: nowrap;">Character limit is '+g+"</em><br />")}$("#"+j).val(h.substr(0,g));return false}else{if(j=="cart-comment"){$(f).children("em").html((g-k)+" /110")}else{$(f).children("span").html("Gift Message<br /><span> "+(g-k)+" /110</span>")}return true}}function showVideoModal(d){var e=document.getElementById("videoModalShell");e.style.display="block";showVideo(d);var f=e.getElementsByTagName("h5")[0];f.className=d}function closeModal(f){var e=document.getElementById(f);var h=e.getElementsByTagName("p");var g=e.getElementsByTagName("h5")[0];for(i=0;i<h.length;i++){h[i].innerHTML="&nbsp;"}g.innerHTML="&nbsp;";e.style.display="none"}function validateNumericInput(f){var g=f||window.event;var e=g.keyCode||g.which;e=String.fromCharCode(e);var h=/[0-9]|\./;if(!h.test(e)){g.returnValue=false;g.preventDefault()}}function stateValue(){}function showAddressEditModal(v,z,s,u,t,D,E,A,F,G,r,y,w,C,x,B){$("#editSavedAddressModal #department-field").val(z);$("#editSavedAddressModal #companyName-field").val(s);$("#editSavedAddressModal #firstName-field").val(u);$("#editSavedAddressModal #lastName-field").val(t);$("#editSavedAddressModal #address1-field").val(D);$("#editSavedAddressModal #address2-field").val(E);$("#editSavedAddressModal #city-field").val(A);$("#editSavedAddressModal #state-field").val(F);$("#editSavedAddressModal #state-field2").val(F);$("#editSavedAddressModal #postalCode-field").val(G);$("#editSavedAddressModal #phoneNumber-field").val(r);$("#editSavedAddressModal #addressNickname-field").val(y);$("#editSavedAddressModal #type-field").val(w);$("#editSavedAddressModal-modal #department-field").val(z);$("#editSavedAddressModal-modal #companyName-field").val(escape(s));$("#editSavedAddressModal-modal #firstName-field").val(u);$("#editSavedAddressModal-modal #lastName-field").val(t);$("#editSavedAddressModal-modal #address1-field").val(D);$("#editSavedAddressModal-modal #address2-field").val(E);$("#editSavedAddressModal-modal #city-field").val(A);$("#editSavedAddressModal-modal #state-field").val(F);$("#editSavedAddressModal-modal #postalCode-field").val(G);$("#editSavedAddressModal-modal #phoneNumber-field").val(r);$("#editSavedAddressModal-modal #addressNickname-field").val(y);$("#editSavedAddressModal-modal #type-field").val(w);if(x=="Shipping"){if(C){$(".isDefaultAddressInput").val(true);$("#editSavedAddressModal #updatePrimaryAddress").show();$("#editSavedAddressModal #updateSecondaryAddress").hide();$("#editSavedAddressModal #updatePrimaryBillingAddress").hide();$("#editSavedAddressModal #companyNameRequired").addClass("hidden")}else{$("#editSavedAddressModal #updatePrimaryAddress").hide();$("#editSavedAddressModal #updateSecondaryAddress").show();$("#editSavedAddressModal #updatePrimaryBillingAddress").hide();$("#editSavedAddressModal #companyNameRequired").addClass("hidden")}}else{if(C){$("#editSavedAddressModal #updatePrimaryAddress").hide();$("#editSavedAddressModal #updateSecondaryAddress").hide();$("#editSavedAddressModal #updatePrimaryBillingAddress").show();$("#editSavedAddressModal #companyNameRequired").addClass("hidden")}else{$("#editSavedAddressModal #updatePrimaryAddress").hide();$("#editSavedAddressModal #updateSecondaryAddress").show();$("#editSavedAddressModal #updatePrimaryBillingAddress").hide();$("#editSavedAddressModal #companyNameRequired").addClass("hidden")}}showModal(v)}function showModalWithError(d,f,e){if(f){$(".isDefaultAddressInput").val(true);$("#editSavedAddressModal #updateSecondaryAddress").hide();$("#editSavedAddressModal #updatePrimaryAddress").show();$("#editSavedAddressModal #updatePrimaryBillingAddress").hide()}else{if(e){$("#editSavedAddressModal #updatePrimaryAddress").hide();$("#editSavedAddressModal #updateSecondaryAddress").hide();$("#editSavedAddressModal #updatePrimaryBillingAddress").show()}else{$("#editSavedAddressModal #updatePrimaryAddress").hide();$("#editSavedAddressModal #updateSecondaryAddress").show();$("#editSavedAddressModal #updatePrimaryBillingAddress").hide()}}showModal(d)}function closeAddressEditModal(){$("div").remove(".modalwindow");$("div").remove(".modalwindowCheckout");$("div").remove(".modalbackground")}function hidePopups(){$("div#popUpWindow").addClass("hidden");$("div#popUpWindow2").addClass("hidden");$("div.popUpWindow2").addClass("hidden");$("div#quickView").addClass("hidden");$("div#quickCartPopup").addClass("displayNone");return false}function updateCartPage(m,l,k,o){var j=m.split(",");if(typeof j!=="undefined"&&j.length==2&&j[0]=="session_expired"){console.log("Session expired");var n=j[1];window.location=n}var h=$("#originalState").val();$.ajax({url:CONTEXT_ROOT+"checkout/includes/shopping_cart/inc_cart_subtotals.jsp?originalState="+h,success:function(a){$("#cart-subtotals").html(a);$("#shipchart-subtotals-prices").load(CONTEXT_ROOT+"checkout/includes/shopping_cart/inc_shipping_chart_subtotal_prices.jsp")},cache:false});isFormSubmitting=false}function showRequest(h,e,f){var g=$.param(h);alert("URL = "+f.url);alert("About to submit: \n\n"+g);return true}function showResponse(e,h,g,f){}var calculateShippingFormOptions={url:CONTEXT_ROOT+"checkout/includes/shopping_cart/inc_shipping_chart.jsp",target:"#shippingChart",type:"post",success:updateCartPage,cache:false};$(document).ready(function(){addAndroidMaxLength();$("ul.catalogs li.selected").each(function(){$(this).parent().parent().addClass("selected");$(this).parent().show()});$("#add-cc2").change(function(){updateSelectedCreditCardForCheckout($(this).val(),"cc2")});$("#add-cc1").change(function(){updateSelectedCreditCardForCheckout($(this).val(),"cc1")});if(Encoder.hasEncoded($("#quickSearch-query").val())){$("#quickSearch-query").val(Encoder.htmlDecode($("#quickSearch-query").val()))}});function updateSelectedCreditCardForCheckout(d,c){if(d=="#add-cc1"){return}if(d=="#add-cc2"){return}if(c=="cc1"){if(d==""){$("#cardholderName-field").val("");$("#creditCardNumber-field").val("");$("#creditCardExpirationDate-Month").val("");$("#creditCardExpirationDate-Year").val("");$("#creditCardType-field").val("");$("#creditCardSavedToken-field").val("");$("#creditCardNumberHidden-field").val("");$("#creditCardNickNameHidden-field").val("");$("#creditCardIdHidden-field").val("")}else{$("#cardholderName-field").val($("#"+d+" span#creditCardHolderName"+d).html());$("#creditCardNumber-field").val($("#"+d+" span#creditCardNumber"+d).html());$("#creditCardNumberHidden-field").val($("#"+d+" span#creditCardNumber"+d).html());$("#creditCardExpirationDate-Month").val($("#"+d+" span#expirationMonth"+d).html());$("#creditCardExpirationDate-Year").val($("#"+d+" span#expirationYear"+d).html());$("#creditCardType-field").val($("#"+d+" span#creditCardType"+d).html());$("#creditCardSavedToken-field").val($("#"+d+" span#creditCardToken"+d).html());$("#creditCardNickNameHidden-field").val($("#"+d+" span#creditCardNicknameNew"+d).html());$("#creditCardIdHidden-field").val($("#"+d+" span#creditCardIdNew"+d).html())}}else{if(c=="cc2"){if(d==""){$("#cardholderName-field2").val("");$("#creditCardNumber-field2").val("");$("#creditCardExpirationDate-Month2").val("");$("#creditCardExpirationDate-Year2").val("");$("#creditCardType-field2").val("");$("#creditCardSavedToken-field2").val("")}else{$("#cardholderName-field2").val($("#"+d+" span#creditCardHolderName"+d).html());$("#creditCardNumber-field2").val($("#"+d+" span#creditCardNumber"+d).html());$("#creditCardExpirationDate-Month2").val($("#"+d+" span#expirationMonth"+d).html());$("#creditCardExpirationDate-Year2").val($("#"+d+" span#expirationYear"+d).html());$("#creditCardType-field2").val($("#"+d+" span#creditCardType"+d).html());$("#creditCardSavedToken-field2").val($("#"+d+" span#creditCardToken"+d).html());$("#creditCardNickNameHidden-field").val($("#"+d+" span#creditCardNickNameHidden"+d).html());$("#creditCardIdHidden-field").val($("#"+d+" span#creditCardIdHidden"+d).html())}}}}function gotoFavoritesView(c){if(c.success!=undefined){var d=c.goTo;window.location.href=d;trackAddToFavorites()}else{if(c.error!=undefined){$("#personalizationErrors").remove();$(".itemInfo").prepend('<ul id="personalizationErrors"><li>'+c.error+"</li></ul>")}}}function gotoFavoritesViewQV(c){if(c.success!=undefined){var d=c.goTo;window.location.href=d;trackAddToFavorites()}else{if(c.error!=undefined){$("#quickView #personalizationErrors").remove();$("#quickView .itemInfo").prepend('<ul id="personalizationErrors"><li>'+c.error+"</li></ul>")}}}function updateFavoriteFormQty(c,d){$("#addToFavoritesFormQty_"+d).val($(c).val())}function updateFavoriteFormQtyQuick(c,d){$("#quickView #addToFavoritesFormQty_"+d).val($(c).val())}function AddToCartQuick(){$("div#quickView").addClass("hidden")}function AddToCart(k,g,f,j,h){if(h==""||h=="undefined"){h="browse"}if(h=="brhist"){h="browsing history"}}function AddToCartNew(w,p,t,m,n){if(t==null||t==""){t="N"}if(m==null||m==""){m="N"}if(n==null||n==""){n=""}if(t=="Y"){n="catalog quick order"}if(typeof RefreshShoppingCart=="undefined"||typeof RefreshShoppingCart==null){}else{if(RefreshShoppingCart==true){n="upsell quickview"}}if(n==""){n=$("#findMethod").val()}var u=$("#currentSite").val();var r=$("#sessionId").val();var v=$("#totalqty").val();if(n==""||n=="undefined"||n=="leftnav"||n=="topnav"){n="browse"}if(n=="brhist"){n="browsing history"}if(n=="emailprod"){n="email"}var o;var s;var q=p.pinCodes;if(t=="Y"||m=="Y"){}if(typeof RefreshShoppingCart=="undefined"||typeof RefreshShoppingCart==null){}else{if(RefreshShoppingCart==true){window.location=CONTEXT_ROOT+"checkout/shopping_cart.jsp"}}}function GetSiteCatalystAccount(b){if(b=="LTD"){return"ltdcomltd2dev"}else{if(b=="ABC"){return"ltdcomabc2dev"}else{if(b=="LS"){return"ltdcomlake2dev"}else{return"ltdcomltd2dev"}}}}function AddToCartMultiple(e,f,h,g){if(g==""){g="browse"}if(g=="brhist"){g="browsing history"}$("input[name*='PinNumber']").each(function(){var l=$(this).val();var c=".PinNumber"+l;var m=".xxx"+l;var d=0;var b="";var a=$(m).val();d=$(c).val();if(e=="LTD"||e=="ABC"){b=a.substring(0,11)}else{b=a.substring(0,6)}})}function LargeImagesDisplay(q,p){var l=$(".infoImg").attr("src");if(q=="start"){var j=l.replace("_mn","_zm");$(".zoomImg").attr("src",j)}var n=$(".zoomImg").attr("src");var o=$(".galleryNav > li").size();var m=new Array();$(".galleryNav > li").each(function(){var a=$(this).attr("title");if(a){a=a.replace("_alt","_zm")}m.push(a)});var k=jQuery.inArray(n,m);if(q=="next"&&k<o-1){k=k+1}else{if(q=="prev"&&k>0){k=k-1}}if(k>=o-1){k=o-1;$("#popUpWindow .productZoom .paging li.next a").removeClass("active")}else{$("#popUpWindow .productZoom .paging li.next a").addClass("active")}if(k<=0){$("#popUpWindow .productZoom .paging li.prev a").removeClass("active");k=0}else{$("#popUpWindow .productZoom .paging li.prev a").addClass("active")}$(".zoomImg").attr("src",m[k]);return false}function quickViewLargeImage(){$("#quickView div.closeContainer").addClass("hidden");$("#quickView div.info").addClass("hidden");$("#quickView div.rightCol").addClass("hidden");$("#quickView div.bottomLinks").addClass("hidden");$("#quickView div.itemInfo").addClass("hidden");$("#quickView a.quickViewLarger").addClass("hidden");$("#quickView div.thumbnailRegion").addClass("thumbnailRegionLarge");$("#quickView div.thumbnailRegion").removeClass("thumbnailRegion");$("#quickView div.leftCol").addClass("leftColLarge");$("#quickView div.leftCol").removeClass("leftCol");$("#quickView div.quantity").addClass("hidden");$("#quickView #popUpWindowLarge").removeClass("hidden");return false}function closePopUpLarge(){$("#quickView div.closeContainer").removeClass("hidden");$("#quickView div.info").removeClass("hidden");$("#quickView div.rightCol").removeClass("hidden");$("#quickView div.bottomLinks").removeClass("hidden");$("#quickView div.itemInfo").removeClass("hidden");$("#quickView a.quickViewLarger").removeClass("hidden");$("#quickView div.quantity").removeClass("hidden");$("#quickView div.thumbnailRegionLarge").addClass("thumbnailRegion");$("#quickView div.thumbnailRegionLarge").removeClass("thumbnailRegionLarge");$("#quickView div.leftColLarge").addClass("leftCol");$("#quickView div.leftColLarge").removeClass("leftColLarge");$("#quickView #popUpWindowLarge").addClass("hidden");return false}function editItemModal(o,n,q,k,p,r,m,l){var s=(p==="quickorder")?"/catalog/personal_form_modal_quick_order.jsp":"/catalog/personal_form_modal_cart.jsp";$.ajax({url:s,data:{skuId:o,lineNumber:k,commerceId:n,giftId:q,pincode:m,itemName:l,defaultValues:r},success:function(a){$("#quickView1").html(a);$("#quickView1").foundation("reveal","open")},error:function(a,c,b){if(window.console&&console.log){console.log("Ajax error:",a.status,b)}}})}$(document).ready(function(){var f=$("#quickView1");if(!f.length){$('<div id="quickView1"></div>').appendTo("body");f=$("#quickView1")}if($("body").hasClass("shoppingCart")){$(".editPersonalizedLink").click(function(m){m.preventDefault();m.stopPropagation();var n=$(this),a=n.attr("data-sku"),o=n.attr("data-commerceId"),p=n.attr("data-giftid"),b=n.attr("data-defaultValues"),c=$(this).closest("div").attr("data-row-index");editItemModal(a,o,p,c,"cart",b,"","")});f.delegate("#closeAndCancel","click",d)}if($("body").hasClass("products")){$("body").delegate(".cartBtn","click",function(){if(!validatePickerSelection()){console.log("PDP selection not valid");return false}var a=$("#personalization"),b={dataType:"json",success:function(c){tagAddToCart();showMiniCartUpdate(c)},error:showMiniCartUpdate,beforeSerialize:function(c,h){$("<input />",{name:"/atg/commerce/order/purchase/CartModifierFormHandler.addItemToOrder",value:"Add To Cart",type:"hidden"}).add($("<input />",{name:"/atg/commerce/order/purchase/CartModifierFormHandler.addItemToOrder.x",value:"1",type:"hidden"})).add($("<input />",{name:"/atg/commerce/order/purchase/CartModifierFormHandler.addItemToOrder.y",value:"1",type:"hidden"})).appendTo(c)}};if(a.length){a.validatePersonalized(false,function(c){if(c){addToCartDS();$("#addToCart").ajaxSubmit(b)}})}else{console.log("valid non-personalized PDP");$("#addToCart").ajaxSubmit(b)}return false});$("body").delegate(".favoritesBtn","click",function(){if(!validatePickerSelection()){return false}var a=$("#personalization"),b={dataType:"json",success:function(c){gotoFavoritesView(c)},beforeSerialize:function(c,h){$("<input />",{name:"/atg/commerce/gifts/GiftlistFormHandler.addItemToGiftlist",value:"Add To Cart",type:"hidden"}).add($("<input />",{name:"/atg/commerce/gifts/GiftlistFormHandler.addItemToGiftlist.x",value:"1",type:"hidden"})).add($("<input />",{name:"/atg/commerce/gifts/GiftlistFormHandler.addItemToGiftlist.y",value:"1",type:"hidden"})).appendTo(c)}};if(a.length){a.validatePersonalized(false,function(c){if(c){addToFavoritesDS();$("#addToFavorites").ajaxSubmit(b)}})}else{addToFavoritesDS();$("#addToFavorites").ajaxSubmit(b)}return false})}function d(){f.foundation("reveal","close");return false}function e(b){var c=b.not(':hidden, [type="checkbox"]');len=c.length,details=($("<ul/>",{style:"width: 216px;float: right;list-style-type: none; margin: 0; padding: 0;","class":"personalizationDetails"})),liTemplate=$("<li />",{style:"margin: 0; font-size: .9em; color: #090C10;"});liTemplate.clone().css("font-weight","bold").text("Personalization Details:").append($("<a />",{href:"#","class":"editPersonalizedLink",text:"Edit",style:"margin-left: 10px; font-size: .9em;"})).appendTo(details);for(var k=0;k<len;k++){var j=c.eq(k),a=j.val()!==j.attr("placeholder")?j.val():"";if(a){liTemplate.clone().text(j.prev("label").text()+": "+a).appendTo(details)}}return details}});function trackAddToFavorites(){fireTealiumEvent({e_save_favorites:"t"})}function submitSearch(){$("#quickSearch-resubmit").click();return false}function submitFacetSearch(b){$("#quickSearch-facetTrail").val(b);$("#quickSearch-facetSearchRequest").val(true);$("#quickSearch-resubmit").click();return false}function changeSortOrder(){var b=$("#quickSearch-sorting option:selected").val().split(":");$("#quickSearch-docSort").val(b[0]);$("#quickSearch-docSortOrder").val(b[1]);$("#quickSearch-docSortProp").val(b[2]);$("#quickSearch-docSortPropDefault").val(b[3]);$("#quickSearch-docSortPropVal").val(b[4]);$("#quickSearch-docSortCase").val(b[5]);$("#quickSearch-resubmit").click();return false}function nextPage(b){document.searchForm.goToPage.value=b;$("#quickSearch-resubmit").click();return false}function cancelEditWishlistInCart(){$("#editInCartGiftlist").closest("tr").addClass("hidden");$("#editInCartGiftlist").addClass("hidden")}function cancelEditInCart(){$("#editInCart").closest("tr").addClass("hidden");$("#editInCart").addClass("hidden")}function editInCartGiftlistWithSku(l,h,j,k,m){var g="productId="+l+"&skuId="+h+"&quantity="+j+"&originalSkuId="+k+"&giftlistItemToUpdate="+m;url=CONTEXT_ROOT+"checkout/includes/shopping_cart/inc_edit_product_giftlist.jsp?"+g;$("#editInCartGiftlist").load(url);$("#editInCartGiftlist").removeClass("hidden");$("#editInCartGiftlist").closest("tr").removeClass("hidden")}function editInCartGiftlistWithoutSku(p,l,o,q,m,n){var k="";var r="";if(l=="picker1"){k=o;r=$(".picker2.select a").text()}else{if(l=="picker2"){r=o;k=$(".picker1.select a").text()}}k=k.replace("/","%2F");r=r.replace("/","%2F");var s="productId="+p+"&picker1Value="+k+"&drivingField="+l+"&picker2Value="+r+"&quantity="+q+"&originalSkuId="+m+"&giftlistItemToUpdate="+n;url=CONTEXT_ROOT+"checkout/includes/shopping_cart/inc_edit_product_giftlist.jsp?"+(s);$("#editInCartGiftlist").load(url);$("#editInCartGiftlist").removeClass("hidden");$("#editInCartGiftlist").closest("tr").removeClass("hidden")}function editInCartWithSku(k,g,h,j){var f="productId="+k+"&skuId="+g+"&quantity="+h+"&originalSkuId="+j;url=CONTEXT_ROOT+"checkout/includes/shopping_cart/inc_edit_product.jsp?"+f;$("#editInCart").load(url);$("#editInCart").removeClass("hidden");$("#editInCart").closest("tr").removeClass("hidden")}function editInCartWithoutSku(o,j,p,m,n){var k="";var l="";if(j=="picker1"){k=p;l=$(".picker2.select a").text()}else{if(j=="picker2"){l=p;k=$(".picker1.select a").text()}}k=encodeURIComponent(k);l=encodeURIComponent(l);var q="productId="+o+"&picker1Value="+k+"&drivingField="+j+"&picker2Value="+l+"&quantity="+m+"&originalSkuId="+n;url=CONTEXT_ROOT+"checkout/includes/shopping_cart/inc_edit_product.jsp?"+(q);$("#editInCart").load(url);$("#editInCart").removeClass("hidden");$("#editInCart").closest("tr").removeClass("hidden")}function moveToWishList(k,l,m,g){var h="";var j=$("#"+k).val();if(l=="LS"){if(m.length>=6){h=m.substring(0,6)}}else{if(m.length>=11){h=m.substring(0,11)}}$("#giftListItemId").val(k);setTimeout(function(){$("#moveToWishlistButton").click()},500)}function categorySelectedOnFAQsModal(c){if($("#footerModal").length==0||$("#footerModal").length==null){$("#questions_"+$(c).attr("id")).show()}$("#footerModal .categories li").each(function(){$(this).removeClass("selected")});$(c).parent().addClass("selected");$("#footerModal .questionList").each(function(){$(this).hide()});$("#footerModal .QandA").each(function(){$(this).hide()});var d="questions_"+$(c).attr("id");$("#footerModal .questionList").each(function(){if(d==$(this).attr("id")){$(this).show()}});return false}function questionSelectedOnFAQsModal(d){$("#footerModal .questionList").each(function(){$(this).hide()});var c="q_and_a_"+$(d).attr("id");$("#footerModal .QandA").each(function(){if(c==$(this).attr("id")){$(this).show()}});return false}function backButtonOnFAQsModal(c){$("#footerModal .QandA").each(function(){$(this).hide()});var d="questions_"+c;$("#footerModal .questionList").each(function(){if(d==$(this).attr("id")){$(this).show()}});return false}function telephoneAreaAutoTap(f,e,d){if((!navigator.userAgent.match(/iPhone/i))&&(!navigator.userAgent.match(/iPod/i))&&(!navigator.userAgent.match(/iPad/i))){if($(f).val().length==e){$("#"+d).focus()}}}function limitCharacterNumber(g,f,h){var e=$(g).val();if(e.length>f){$(g).val(e.substring(0,f))}$("#"+h).html($(g).val().length)}function CreatePersonalizeInput(){var l=new Array();var k="";var n="";var o="0";if(document.getElementById("totalCount")!=null){var o=document.getElementById("totalCount").value}if(document.getElementById("personalization_type-style")!=null){k=k+document.getElementById("personalization_type-style").value+"$";n=n+document.getElementById("att_lbl_style").innerHTML+"$"}else{k=k+"$";n=n+"$"}if(document.getElementById("personalization_type-color")!=null){k=k+document.getElementById("personalization_type-color").value+"$";n=n+document.getElementById("att_lbl_color").innerHTML+"$"}else{k=k+"$";n=n+"$"}for(i=1;i<=o;i++){var h=$("#att_"+i),m=h.val()===h.attr("placeholder")?"":h.val(),j=$("#att_lbl_"+i);if(h.length){k=k+m+"$";n=n+j.text()+"$"}else{k=k+"$";n=n+"$"}}k=k.slice(0,-1);n=n.slice(0,-1);l[0]=k;l[1]=n;return l}function CreatePersonalizeInputQV(){var l=new Array(),k="",n="",o="0";if($("#quickView #totalCount").length>0){var o=$("#quickView #totalCount").val()}if($("#quickView #personalization_type-style").length>0){k=k+$("#quickView #personalization_type-style").val()+"$";n=n+$("#quickView #att_lbl_style").html()+"$"}else{k=k+"$";n=n+"$"}if($("#quickView #personalization_type-color").length>0){k=k+$("#quickView #personalization_type-color").val()+"$";n=n+$("#quickView #att_lbl_color").html()+"$"}else{k=k+"$";n=n+"$"}for(i=1;i<=o;i++){var j=$("#quickView #att_lbl_"+i);if(j.hasClass("dateFormat")){var h=$("#quickView #att_"+i+"_qv"),m=h.val()===h.attr("placeholder")?"":h.val()}else{var h=$("#quickView #att_"+i),m=h.val()===h.attr("placeholder")?"":h.val()}if(h.length){k=k+m+"$";n=n+j.text()+"$"}else{k=k+"$";n=n+"$"}}k=k.slice(0,-1);n=n.slice(0,-1);l[0]=k;l[1]=n;return l}function checkMobileScroll(){var k=$(".iScroll"),g=k.length;if(g.length&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){for(var f=0;f<g;f++){var j=k.eq(f);j.eq(f).wrapInner("<ul><li /></ul>");var h=new iScroll(j[0]);j.data("scroller",h)}}}function addToCartDS(){var k=new Array();var o="";if(document.getElementById("isPersonalizedpicker")!=null){o=document.getElementById("isPersonalizedpicker").value}if(o=="Y"){k=CreatePersonalizeInput()}var p=0;var l=document.getElementById("quantity").value;if(l>0){if(o=="Y"){$("#addToCartPersonalInput").val(k[0]);$("#addToCartPersonalHeader").val(k[1]);var m=document.getElementById("skuIdpicker").value;var n=document.getElementById("productIdpicker").value;var j=document.getElementById("showSoldOutpicker").value;var q=document.getElementById("onlineOnlypicker").value;$("#personalization").load(CONTEXT_ROOT+"catalog/includes/inc_personalized_form.jsp","productId="+n+"&skuId="+m)}}else{$("#errorMessage").removeClass("hidden")}}function addToFavoritesDS(){var g=new Array();var k="";if(document.getElementById("isPersonalizedpicker")!=null){k=document.getElementById("isPersonalizedpicker").value}if(k=="Y"){g=CreatePersonalizeInput()}var f=0,j=false;if(document.getElementById("quantity")){var h=document.getElementById("quantity").value;if(h>0){if(k=="Y"){$("#addToFavoritesPersonalInput").val(g[0]);$("#addToFavoritesPersonalHeader").val(g[1])}$("#addToFavoritesFormQty").val(h);j=true}}else{$(".qtyFld").each(function(){var a=$(this),b=a.val(),c=a.siblings("input[name=skuNumFld]").val();if(b>0){if(k=="Y"){$("#addToFavoritesPersonalInput").val(g[0]);$("#addToFavoritesPersonalHeader").val(g[1])}$("#addToFavoritesFormQty_"+c).val(b);j=true}})}if(!j){$("#errorMessage").removeClass("hidden")}}function editPersonalizedModal(){var b=new Array();b=CreatePersonalizeInput();$("#personalizationInput").val(b[0]);$("#personalizationHeader").val(b[1]);$("#editPersonalizedModal").click()}function editPersonalizedModalValue(){var b=new Array();b=CreatePersonalizeInput();$("#personalizationInput").val(b[0]);$("#personalizationHeader").val(b[1])}function handlePersonalizationModal(h){if(h.success!=undefined){var e=h.goTo;window.location.href=e}else{if(h.error!=undefined){var g=h.error;$("#personalizationErrors").remove();var f="<ul id='personalizationErrors'><li>"+g+"</li></ul>";$(".itemInfo").prepend(f)}}}function addToFavoritesQuickView(){var e=0,f="";$(".quantityInput").each(function(h,a){var b=$(this).find("[name=skuNumFld]").val();var c=$(this).find(".qtyFld").val();e=e+parseInt(c);$("#addToFavoritesFormQty_"+b).val(c)});if(e>0){trackAddToFavorites();$("#atg_store_addToFavorites").click()}else{var d="<ul id='personalizationErrors'><li>!Invalid entry. Please refresh and try again.</li></ul>";$("#quickView #personalizationErrors").remove();$("#quickView .itemInfo").prepend(d)}}function addToFavoritesQuickViewAllSku(){var d=0;$(".quantityInput").each(function(h,a){var b=$(this).find("[name=skuNumFld]").val();var g=$(this).find(".qtyFld").val();d=d+parseInt(g);$("#addToFavoritesFormQty_"+b).val(g)});if(d>0){}else{var c="<ul id='personalizationErrors'><li>!Invalid entry. Please refresh and try again.</li></ul>";$("#quickView #personalizationErrors").remove();$("#quickView .itemInfo").prepend(c)}}function submitToDSQuickCart(c){var d=new Array();if(c==1){d=CreatePersonalizeInputQV();$("#quickView #addToCartPersonalInput").val(d[0]);$("#quickView #addToCartPersonalHeader").val(d[1])}return false}function addToFavoritesDSQuickView(d){var e=new Array();var f=$("#quickView #quantity").val();if(f>0){$("#quickView #addToFavoritesFormQty").val(f);if(d==1){e=CreatePersonalizeInputQV();$("#quickView #addToFavoritesPersonalInput").val(e[0]);$("#quickView #addToFavoritesPersonalHeader").val(e[1])}}else{$("#quickView #errorMessage").removeClass("hidden")}return false}var isFormSubmitting=false;function updateOrderShipping(){var b=$(this).val();if(!isFormSubmitting){isFormSubmitting=true;$("#shippingChartStateSelect").val(b);$("#calculateShippingForm").ajaxSubmit(calculateShippingFormOptions)}}function RecordSiteCatalystClick(b){}if(window.ATGSvcs){ATGSvcs.rec_builder("Cross_Sell_Builder",function(E,r){var B=document.createElement("li");var v=document.createElement("a");v.href=r.url;var z=document.createElement("span");var w=document.createElement("span");var s=document.createTextNode(ATGSvcs.util.trunc(r.name,50));var y=document.createTextNode(r.priceRange);var A=document.createElement("IMG");A.setAttribute("src",r.image.replace("_th","_mn"));var C=document.createElement("div");var t=r.ratings;if(t!="do-not-show"){C.className="review-stars "+t}w.appendChild(s);z.appendChild(y);w.className="cs-title cs-name";z.className="cs-priceRange";v.appendChild(A);v.appendChild(z);v.appendChild(w);v.appendChild(C);var D=document.createElement("div");var x=document.createElement("a");x.setAttribute("id",r.productId.toLowerCase());D.className="prod-item";x.className="quick-view button radius "+r.productId.toLowerCase();x.appendChild(document.createTextNode("Quick View"));D.appendChild(x);D.appendChild(v);B.appendChild(D);var q=r.url.substring(r.url.indexOf("/",8),r.url.indexOf("?fm"));var u=r.quickviewurl;q=q.replace("'","-");x.setAttribute("onclick","doaction1('"+r.productId.toLowerCase()+"', 'jump', '0', '"+u+"', '"+q.replace(/ /g,"-")+"', '', 'false')");D.onmouseover=function(){$("#"+r.productId.toLowerCase()).css("display","block")};D.onmouseout=function(){$("#"+r.productId.toLowerCase()).css("display","none")};B.id=ATGSvcs.rec_id(E,r.productId);B.className="cs-rec";return B})}if(window.ATGSvcs){ATGSvcs.rec_builder("Custom_Builder",function(v,K){var A=document.createElement("li");var H=document.createElement("a");H.href=K.url;var F=document.createElement("a");F.href=K.url;var D=document.createElement("a");D.href=K.url;var u=document.createTextNode(ATGSvcs.util.trunc(K.name,50));var z=document.createTextNode(K.priceRange);var C=document.createElement("br");var w=document.createElement("br");var x=document.createElement("br");var t=document.createElement("IMG");t.setAttribute("src",K.image);var J=document.createElement("div");var G=K.ratings;if(G!="do-not-show"){J.className="review-stars "+G}F.appendChild(t);H.appendChild(u);D.appendChild(z);H.appendChild(w);H.appendChild(x);H.appendChild(J);H.className="cs-name";D.className="cs-price";var E=document.createElement("div");var B=document.createElement("a");B.setAttribute("id",K.productId.toLowerCase());E.className="item";B.className="quick-view button radius";B.appendChild(document.createTextNode("Quick View"));E.appendChild(B);E.appendChild(F);A.appendChild(E);A.appendChild(D);A.appendChild(C);A.appendChild(H);var y=K.url.substring(K.url.indexOf("/",8),K.url.indexOf("?fm"));var I=K.quickviewurl;y=y.replace("'","-");B.onclick=function(){doaction1(K.productId.toLowerCase(),"jump",0,I,y.replace(/ /g,"-"),"","true")};E.onmouseover=function(){$("#"+K.productId.toLowerCase()).css("display","block")};E.onmouseout=function(){$("#"+K.productId.toLowerCase()).css("display","none")};$("div#quickView").removeClass("hidden");A.id=ATGSvcs.rec_id(v,K.productId);A.className="cs-rec";return A})}function doaction1(o,p,q,r,t,u,s){fireTealiumEvent({e_cross_sell:"t",});RefreshShoppingCart=true;if(s==null||s==""){s=false}var m="",l="",n="";if(r.indexOf("single_picker_product")>=0){n="singlePicker"}else{if(r.indexOf("double_picker_product")>=0){n="doublePicker"}else{if(r.indexOf("all_sku_listing")>=0){n="allSku"}else{if(r.indexOf("product_collection")>=0){n="allSku"}else{if(r.indexOf("sp_personal")>=0){n="singlePickerPersonal"}else{if(r.indexOf("dp_personal")>=0){n="doublePickerPersonal"}}}}}}m="catalog/modals/product.jsp";if(t!=null&&t.length>=1){if(t.substring(0,1)=="/"){t=t.substring(1,t.length)}t=t.replace("==","'");l=CONTEXT_ROOT+t}else{l=CONTEXT_ROOT}if(p==null||p==""){p="jump"}if(q==null||q==""){q="0"}if(l==null||l==""){l="/"}var m=CONTEXT_ROOT+m+"?productId="+o+"&navAction="+p+"&navCount="+q+"&originallink="+l+"&isdefaultcatalog=Y&showSoldOut="+s+"&picker="+n;$("#quickViewModal #quickView").load(m,function(){var a=$(this);$("#quickViewModal").foundation("reveal","open");a.find(".galleryNav a.personalization").click(window.personalizationModalDisplay);if(n!="allSku"){$("#firstSKUImagequick").click()}a.foundation("section","reflow");a.on("click",".section-container section",function(c){c.preventDefault();$(this).addClass("active").siblings("section").removeClass("active")});var b=$(".section-container .content");if(b.hasClass("normalFont")){$(".text-sizer a.normalFont").addClass("active")}else{if(b.hasClass("mediumFont")){$(".text-sizer a.mediumFont").addClass("active")}else{if(b.hasClass("largeFont")){$(".text-sizer a.largeFont").addClass("active")}}}$(".text-sizer").on("click","a",function(c){c.preventDefault();var d=$(this);$(".tabs-content .content").removeClass("normalFont mediumFont largeFont").addClass(d.attr("class"));$(".section-container .content").removeClass("normalFont mediumFont largeFont").addClass(d.attr("class"));$(".text-sizer a").removeClass("active");d.addClass("active")})});return true}function zeroPad(d,e){var f=e-d.toString().length+1;return Array(+(f>0&&f)).join("0")+d}function handleUpdateQuantityKeyPress(h){if(h.which==13){var e=h.target;var f=$(e).closest("td");var g=f.find(".updateQuantityLink");submitFormUpdate(h.target.id,"U");h.preventDefault();return false}else{return isNumeric(event)}}function handleApplyCouponKeyPress(b){if(b.which==13){$("#applyCouponInput").val($("#applyCouponInput").val().toUpperCase());$("#submitCoupon").click();b.preventDefault();return false}}function AddToCartFavorites(){}function setGiftMessage(d){var c=$(d).attr("value");$.ajax({url:CONTEXT_ROOT+"checkout/setGiftMessage.jsp?giftMessage="+c,success:function(a){}})}function showSplitShipments(h,n,k,j,l){var m=$("#clickForDetailsModal"),o=CONTEXT_ROOT+"my_account/order_history/modals/multiple_shipments.jsp?line="+h+"&ci="+n+"&qty="+k+"&orderId="+j+"&img="+l;m.load(o,function(c,d,a){var e=c.split(",");if(typeof e!=="undefined"&&e.length==2&&e[0]=="session_expired"){var b=e[1];window.location=b}else{$("#clickForDetailsModal").foundation("reveal","open")}})}window.eGain={};eGain.egainChatParameters={};eGain.postChatAttributes=false;eGain.serverName="ltdcommodities.egain.net";eGain.template="LTD";eGain.entryPoint="1006";eGain.refererurl=encodeURIComponent(document.location.href);eGain.page="";eGain.offerCheck=function(c){switch(c){case"signin":var d=$("#passwordRecoveryForm small").text().toLowerCase();if(d.indexOf("user not found - for assistance")>-1){eGain.eglv_checkAgentAvailability()}else{if(d.indexOf("your request cannot be completed")>-1){eGain.eglv_checkAgentAvailability()}}break;case"payment":if(eGain.offerTimeout){clearTimeout(eGain.offerTimeout)}eGain.offerTimeout=setTimeout(function(){eGain.eglv_checkAgentAvailability()},30000);if($("#splitCardOne .error").length){eGain.eglv_checkAgentAvailability()}break;case"checkout":eGain.eglv_checkAgentAvailability();break;case"legacy":eGain.eglv_checkAgentAvailability();break}};window.eglvchathandle=null;eGain.eglv_checkAgentAvailability=function(){eGain.eglv_setEntryPoint(eGain.page);if(eGain.page!="legacy"){$("#chat-available").css("display","block")}};eGain.setPage=function(){var c=$("body").attr("class");var d=$("body").attr("id");if(c!=null&&c.indexOf("signin")>-1){eGain.page="signin"}else{if(c!=null&&c.indexOf("payment")>-1){eGain.page="payment"}}if(d!=null&&d.indexOf("onePageCheckout")>-1){eGain.page="checkout"}if($(".chat-available-reveal")[0]){eGain.page="legacy"}};eGain.eglv_setEntryPoint=function(d){var c=$('meta[name="site"]').attr("content");if(c==="LS"){eGain.template="Lakeside";if(d=="payment"){eGain.entryPoint="1003"}else{if(d=="signin"){eGain.entryPoint="1004"}else{if(d=="checkout"){eGain.entryPoint="1009"}}}}else{if(c==="LTD"){eGain.template="LTD";if(d=="payment"){eGain.entryPoint="1005"}else{if(d=="signin"){eGain.entryPoint="1006"}else{if(d=="checkout"){eGain.entryPoint="1008"}else{if(d=="legacy"){eGain.entryPoint="1011"}}}}}else{if(c==="ABC"){eGain.template="ABC";if(d=="payment"){eGain.entryPoint="1001"}else{if(d=="signin"){eGain.entryPoint="1002"}else{if(d=="checkout"){eGain.entryPoint="1007"}}}}}}};eGain.eglv_openHelp=function(){try{if(eglvchathandle!=null&&eglvchathandle.closed==false){eglvchathandle.focus();return}}catch(y){}var t=/^((?:https?:\/\/)?(?:www\.)?([^\/]+))/i;var r="";r=encodeURIComponent(r);var w=encodeURIComponent(document.location.href);var A=w.lastIndexOf("#");if(A!=-1){w=w.substring(0,A)}var s=(/eglvcaseid=[0-9]*/gi).exec(window.location.search);var p="";if(typeof EGAINCLOUD!="undefined"&&EGAINCLOUD.Account.getAllIds){var B=EGAINCLOUD.Account.getAllIds();p="&aId="+B.a+"&sId="+B.s+"&uId="+B.u}var u=window.EG_CALL_Q||[];u.push(["enableTracker",true]);var q=location.protocol+"//"+eGain.serverName+"/system/templates/chat/"+eGain.template+"/chat.html?entryPointId="+eGain.entryPoint+"&templateName="+eGain.template+"&languageCode=en&countryCode=US&ver=v11&postChatAttributes="+eGain.postChatAttributes+"&eglvrefname="+r+"&"+s+p;var x=t.exec(q)[0];if(window.navigator.userAgent.indexOf("MSIE")!=-1&&eGain.postChatAttributes){var v=document.getElementById("testframe");v.contentWindow.postMessage(JSON.stringify(eGain.egainChatParameters),x)}if((q+w).length<=2000){q+="&referer="+w}var z="height=623,width=419,resizable=yes,scrollbars=yes,toolbar=no";eglvchathandle=window.open(q,"",z);if(window.navigator.userAgent.indexOf("MSIE")==-1&&eGain.postChatAttributes){var C=setInterval(function(){var a=eGain.egainChatParameters;eGain.eglvchathandle.postMessage(a,x)},1000);window.addEventListener("message",function(a){if(a.data.chatParametersReceived){clearInterval(C)}},false)}fireTealiumEvent({e_click_to_chat:"t"})};eGain.storeChatParameters=function(d,c){eGain.egainChatParameters[d]=c};eGain.writeIframeIfRequired=function(){if(eGain.postChatAttributes&&window.navigator.userAgent.indexOf("MSIE")!=-1){var b=document.createElement("iframe");b.src=eGain.liveServerURL+"/system/web/view/live/customer/storeparams.html";b.style.display="none";b.id="testframe";document.body.appendChild(b)}};eGain.writeIframeIfRequired();$(document).ready(function(){eGain.setPage();$("#chat-available").bind("click",eGain.eglv_openHelp);eGain.offerCheck(eGain.page)});$(document).ready(function(){$(".inline-prompt").each(function(){$(this).attr("title",$("label[for='"+$(this).attr("id")+"']").html())}).focus(function(){if($(this).val()==$(this).attr("title")){$(this).val("").removeClass("inline-prompt")}}).blur(function(){if($(this).val()==""){$(this).val($(this).attr("title")).addClass("inline-prompt")}})});function doaction(n,p,q,r,t,u,s){$("div#quickView").empty();var o="",m="",l="";picker="";if(s==null||s==""){s=false}if(r.indexOf("single_picker_product")>=0){picker="singlePicker"}else{if(r.indexOf("double_picker_product")>=0){picker="doublePicker"}else{if(r.indexOf("all_sku_listing")>=0){picker="allSku"}else{if(r.indexOf("sp_personal")>=0){picker="singlePickerPersonal"}else{if(r.indexOf("dp_personal")>=0){picker="doublePickerPersonal"}else{if(r.indexOf("product_collection")>=0){picker="allSku"}}}}}}m="catalog/modals/product.jsp";if(t!=null&&t.length>=1){if(t.substring(0,1)=="/"){t=t.substring(1,t.length)}t=t.replace("==","'");if(t.indexOf("?fm=")>=0){t=t.substring(t.indexOf("/site"),t.indexOf("?fm"));o="Y"}l=CONTEXT_ROOT+escape(t)}else{l=CONTEXT_ROOT}o="Y";l=l.replace(/ /g,"+");if(p==null||p==""){p="jump"}if(q==null||q==""){q="0"}if(l==null||l==""){l="/"}if(o=="Y"){var m=CONTEXT_ROOT+m+"?productId="+n+"&navAction="+p+"&navCount="+q+"&originallink="+l+"&isdefaultcatalog="+o+"&showSoldOut="+s+"&picker="+picker;$("#quickViewModal #quickView").load(m,function(){var a=$(this);a.find(".galleryNav a.personalization").click(window.personalizationModalDisplay);if(picker!="allSku"){$("#firstSKUImagequick").click()}a.foundation("section","reflow");a.on("click",".section-container section",function(c){$(this).addClass("active").siblings("section").removeClass("active")});var b=$(".section-container .content");if(b.hasClass("normalFont")){$(".text-sizer a.normalFont").addClass("active")}else{if(b.hasClass("mediumFont")){$(".text-sizer a.mediumFont").addClass("active")}else{if(b.hasClass("largeFont")){$(".text-sizer a.largeFont").addClass("active")}}}$(".text-sizer").on("click","a",function(c){c.preventDefault();var d=$(this);$(".tabs-content .content").removeClass("normalFont mediumFont largeFont").addClass(d.attr("class"));$(".section-container .content").removeClass("normalFont mediumFont largeFont").addClass(d.attr("class"));$(".text-sizer a").removeClass("active");d.addClass("active")})})}else{var m=CONTEXT_ROOT+m+"?productId="+n+"&navAction="+p+"&navCount="+q+"&originallink="+l+"&showSoldOut="+s+"&picker="+picker;$("#quickViewModal #quickView").load(m,function(){var a=$(this);if(picker!="allSku"){$("#firstSKUImagequick").click()}a.foundation("section","reflow");a.on("click",".section-container section",function(c){$(this).addClass("active").siblings("section").removeClass("active")});var b=$(".section-container .content");if(b.hasClass("normalFont")){$(".text-sizer a.normalFont").addClass("active")}else{if(b.hasClass("mediumFont")){$(".text-sizer a.mediumFont").addClass("active")}else{if(b.hasClass("largeFont")){$(".text-sizer a.largeFont").addClass("active")}}}$(".text-sizer").on("click","a",function(c){c.preventDefault();var d=$(this);$(".tabs-content .content").removeClass("normalFont mediumFont largeFont").addClass(d.attr("class"));$(".section-container .content").removeClass("normalFont mediumFont largeFont").addClass(d.attr("class"));$(".text-sizer a").removeClass("active");d.addClass("active")})})}return false}function tagQuickViewCartAdd(k){var s=determineSource();var p="";var m="";var q="";var l="";var n="";var r="";var o=0;if($("#firstPicker").length){console.log("detected a picker");q=$("#quantity").val();m=$("input[name='/atg/commerce/order/purchase/CartModifierFormHandler.catalogRefIds']").val();p=$("input[name='/atg/commerce/order/purchase/CartModifierFormHandler.productId']").val();n=$("#quickView").find("span.price").html().replace("$","");l=parseFloat(q)*parseFloat(n);r=$("#spanSkuPinCode").html().replace("Item#:&nbsp;","");o=1}else{$(".prod-block").each(function(){if($(this).find(".qtyFld").val()>0){p+=$(this).find("input[class^='xxxprodidsku']").val()+",";m+=$(this).find("input[name='PinNumber']").val()+",";var b=$(this).find(".qtyFld").val();q+=b+",";var a=$(this).find(".ensemble-price span").html().replace("$","");n+=a+",";l+=a*b+",";r+=$(this).find("input[class='xxx"+$(this).find("input[name='PinNumber']").val()+"']").val()+",";o++}})}if(o>0){fireTealiumAjaxEvent({pagename:"cart-add",pagetype:"cart-add",action:"qv",productId:p,skuId:m,quantity:q,totalPrice:l,unitPrice:n,pin:r,source:s})}}function smallImageSelectedOnSinglePickerQuickInitialize(h,k,o,j,m,n,l){$("#quickView #firstPicker > li >a").each(function(){$(this).removeClass("blue")});$("#btn_"+j+"> a").addClass("blue")}function smallImageSelectedOnSinglePickerQuick(q,p,n,k,m,o,s,r){if(n&&k){updateSKUInformationQuick(k,n,"",m,s,o,r);$("#quickView #firstPicker > li >a").each(function(){$(this).removeClass("blue")});if(typeof r=="undefined"){$("#btn_"+k+"> a").addClass("blue")}}var l=$("#numberofskusqv").attr("data-value");if(typeof(l)!="undefined"){if(l==1){$("#quickView #firstPicker > li > a").each(function(){$(this).addClass("blue")})}}updateLargeImageQuick(p);resetSmallImageLiQuick();$(q).addClass("selected")}function updateSKUInformationQuick(o,q,m,p,u,r,t){if(p==null||p==""){p=false}if(u==null||u==""){u="N"}if(r=="Y"){$("#personalizationQV").load(CONTEXT_ROOT+"catalog/includes/inc_personalized_form.jsp","productId="+q+"&skuId="+o+"&qv=QV")}var n=$("a#detailLink").attr("href"),l="";var s=false;if(typeof t!="undefined"){s=false}else{s=true}if(m!=""){l=CONTEXT_ROOT+"catalog/modals/includes/inc_sku_shopping_cart.jsp?skuId="+o+"&productId="+q+"&showSoldOut="+p+"&quickorder="+u+"&fm="+m+"&isPersonalized="+r+"&showSkuDetails="+s}else{l=CONTEXT_ROOT+"catalog/modals/includes/inc_sku_shopping_cart.jsp?skuId="+o+"&productId="+q+"&showSoldOut="+p+"&quickorder="+u+"&isPersonalized="+r+"&showSkuDetails="+s}$.ajax({url:l,success:function(a){$("#quickView .itemInfo").html(a);$("a#moreDetailsLink").attr("href",n);$("#quickViewAvailabilityPlaceholder").text($("#quickViewAvailabilityMsg").val());$("#quickView span.itemNumber span").text($("#quickViewPinCode").val())}});if(typeof t!="undefined"){$.ajax({url:CONTEXT_ROOT+"catalog/modals/includes/inc_product_name_and_pricing.jsp?skuId="+o+"&productId="+q+"&isPersonalized="+r,success:function(a){$("#quickView #product_name_sku_price").html(a);$("a#detailLink").attr("href",n)}})}else{$.ajax({url:CONTEXT_ROOT+"catalog/modals/includes/inc_product_name_and_pricing.jsp?skuId="+o+"&productId="+q+"&isPersonalized="+r+"&skuViewObj=Y",success:function(a){$("#quickView #product_name_sku_price").html(a);$("a#detailLink").attr("href",n)}})}}function singlePickerSelectedQuick(r,q,o,l,k,n,s,p){if(n==null||n==""){n=false}if(s==null||s==""){s="N"}if(o&&l){updateSKUInformationQuick(l,o,k,n,s,p)}updateLargeImageQuick(q);$("#quickView #firstPicker > li > a").each(function(){$(this).removeClass("blue")});var m=$("#numberofskusqv").attr("data-value");if(typeof(m)!="undefined"){if(m==1){$("#quickView #firstPicker > li > a").each(function(){$(this).addClass("blue")})}}resetSmallImageLiQuick();$(r).children("a").addClass("blue");$("#quickView #img_"+l).addClass("selected")}function firstPickerSelectedQuick(t,l,p,u,r){if(p==null||p==""){p=false}p=false;if(u==null||u==""){u="N"}var q=$("#quickView #productId").val();if($(t).children("a").attr("class")=="blue"){return}$("#quickView #firstPicker > li > a").each(function(){$(this).removeClass("blue")});$(t).children("a").addClass("blue");var m=$(t).children("a").text(),s;if($("#quickView #secondPicker a.blue").length!=0){$("#secondPicker > li > a").each(function(){if($(this).attr("class")=="button radius blue"){s=$(this).text()}});var n;$.ajax({url:CONTEXT_ROOT+"catalog/modals/includes/inc_second_picker.jsp?productId="+q+"&paramFirstPickerValue="+m+"&paramSecondPickerValue="+s+"&showSoldOut="+p+"&quickorder="+u+"&isPersonalized="+r,success:function(b){$("#quickView #secondPickerDiv").html(b);n=$("#quickView #SelectedSkuID").val();if(q&&n){if($("#secondPicker a.blue").length==0){updateSKUInformationQuick(n,q,l,p,u,r,"defaultsku")}else{updateSKUInformationQuick(n,q,l,p,u,r)}}resetSmallImageLiQuick();$("#quickView #img_"+n).addClass("selected");if($("#secondPicker a.blue").length==0){var a=m.replace("'","-");a=a.replace(/ /g,"-");updateLargeImageQuick($("#quickView #largeImage_"+a).val())}else{updateLargeImageQuick($("#quickView #largeImage_"+n).val())}}})}else{var o=m.replace("'","-");o=o.replace(/ /g,"-");s=$("#quickView #"+o).val();$.ajax({url:CONTEXT_ROOT+"catalog/modals/includes/inc_second_picker.jsp?productId="+q+"&paramFirstPickerValue="+m+"&paramSecondPickerValue="+s+"&showSoldOut="+p+"&quickorder="+u+"&isPersonalized="+r+"&selected=N",success:function(a){$("#quickView #secondPickerDiv").html(a);n=$("#quickView #SelectedSkuID").val();if(q&&n){updateSKUInformationQuick(n,q,l,p,u,r,"defaultsku")}}});updateLargeImageQuick($("#quickView #largeImage_"+o).val())}}function smallImageSelectedOnListingQuickInitialize(l,k,h,j,m,g){$("#quickView span.itemNumber span").text(m);$(l).addClass("selected");if(h){$("#quickView a").each(function(){if($(this).hasClass("selected")&&!$(this).hasClass("sizeChart")){$(this).removeClass("selected");$(this).addClass("not_selected")}});$("#quickView #a_"+h).addClass("selected");$("#quickView #a_"+h).removeClass("not_selected")}}function smallImageSelectedOnListingQuick(p,n,k,m,q,j,o){$("#quickView span.itemNumber span").text(q);var l=$("a#detailLink").attr("href");if(typeof o=="undefined"){$.ajax({url:CONTEXT_ROOT+"catalog/modals/includes/inc_product_name_and_pricing.jsp?skuId="+k+"&productId="+m,success:function(a){$("#quickView #product_name_sku_price").html(a);$("a#detailLink").attr("href",l)}})}updateLargeImageQuick(n,j);resetSmallImageLiQuick();$(p).addClass("selected");if(k){$("#quickView a").each(function(){if(!$(this).hasClass("sizeChart")){$(this).removeClass("selected");$(this).addClass("not_selected")}});$("#quickView #a_"+k).addClass("selected");$("#quickView #a_"+k).removeClass("not_selected")}}function activeSkuSelectedOnListingQuick(j,h,m,k,g){$("#quickView span.itemNumber span").text(g);var l=$("a#detailLink").attr("href");$.ajax({url:CONTEXT_ROOT+"catalog/modals/includes/inc_product_name_and_pricing.jsp?skuId="+h+"&productId="+m,success:function(a){$("#quickView #product_name_sku_price").html(a);$("a#detailLink").attr("href",l)}});updateLargeImageQuick(j);resetSmallImageLiQuick();$("#quickView a").each(function(){if($(this).hasClass("selected")&&!$(this).hasClass("sizeChart")){$(this).removeClass("selected");$(this).addClass("not_selected")}});$("#quickView #a_"+h).addClass("selected");$("#quickView #a_"+h).removeClass("not_selected");$("div.displayItem").text("Item#: "+g)}function secondPickerSelectedQuick(t,m,p,u,r,l){if(p==null||p==""){p=false}if(u==null||u==""){u="N"}var q=$("#productId").val();if($(t).children("a").attr("class")=="blue"){return}$("#quickView #secondPicker > li > a").each(function(){$(this).removeClass("blue")});$(t).children("a").addClass("blue");if($("#quickView #firstPicker a.blue").length!=0){var s=$(t).children("a").text(),n;$("#firstPicker > li > a").each(function(){if($(this).attr("class")=="button radius blue"){n=$(this).text()}});var o;$.ajax({url:CONTEXT_ROOT+"catalog/modals/includes/inc_second_picker.jsp?productId="+q+"&paramFirstPickerValue="+n+"&paramSecondPickerValue="+s+"&showSoldOut="+p+"&quickorder="+u+"&isPersonalized="+r,success:function(a){$("#quickView #secondPickerDiv").html(a);o=$("#quickView #SelectedSkuID").val();if(q&&o){updateSKUInformationQuick(o,q,m,p,u,r)}resetSmallImageLiQuick();$("#quickView #img_"+o).addClass("selected");updateLargeImageQuick($("#quickView #largeImage_"+o).val(),l)}});$.ajax({url:CONTEXT_ROOT+"catalog/modals/includes/inc_first_picker.jsp?productId="+q+"&paramFirstPickerValue="+n+"&paramUserSelectedSecondPickerValue="+s+"&showSoldOut="+p+"&quickorder="+u+"&isPersonalized="+r,success:function(a){$("#quickView #firstPickerDiv").html(a)}})}else{var s=$(t).children("a").text();$.ajax({url:CONTEXT_ROOT+"catalog/modals/includes/inc_first_picker.jsp?productId="+q+"&paramUserSelectedSecondPickerValue="+s+"&showSoldOut="+p+"&quickorder="+u+"&isPersonalized="+r,success:function(a){$("#quickView #firstPickerDiv").html(a)}})}}function clearPickersQuick(){$("#quickView #secondPicker > li > a").each(function(){$(this).removeClass("blue")});$("#quickView #firstPicker > li > a").each(function(){$(this).removeClass("blue")});var b=$("#numberofskusqv").attr("data-value");if(typeof(b)!="undefined"){if(b==1){$("#quickView #firstPicker > li > a").each(function(){$(this).addClass("blue")})}}}function clearDoublePickersQuick(f,j,k,h){firstPicker=$("#clearfirstPickerQuick").val();secondPicker=$("#clearsecondPickerQuick").val();$("#quickView #firstPickerDiv").load(CONTEXT_ROOT+"catalog/modals/includes/inc_first_picker.jsp","productId="+f+"&paramFirstPickerValue="+firstPicker+"&paramSecondPickerValue="+secondPicker+"&showSoldOut="+j+"&isPersonalized="+k+"&quickorder="+h+"&selected=N");var g;$.ajax({url:CONTEXT_ROOT+"catalog/modals/includes/inc_second_picker.jsp?productId="+f+"&paramFirstPickerValue="+firstPicker+"&paramSecondPickerValue="+secondPicker+"&showSoldOut="+j+"&isPersonalized="+k+"&selected=N&clear=Y",success:function(a){$("#quickView #secondPickerDiv").html(a);g=$("#quickView #SelectedSkuID").val();if(f&&g){updateSKUInformationQuick(g,f,"",j,h,k,"defaultsku")}}});$("#secondPicker > li > a").each(function(){$(this).removeClass("blue")});$("#firstPicker > li > a").each(function(){$(this).removeClass("blue")})}function smallImageSelectedOnDoublePickerQuickInitialize(j,p,m,k,n,o,l,q){if(typeof q!="undefined"){updateLargeImageQuick(p);resetSmallImageLiQuick()}$("#quickView #secondPicker > li > a").each(function(){$(this).removeClass("blue")});$("#quickView #firstPicker > li > a").each(function(){$(this).removeClass("blue")})}function smallImageSelectedOnDoublePickerQuick(w,v,n,u,p,r,y,x){$("#firstSKUImagequick").each(function(){$(this).removeClass("selected")});if(p==null||p==""){p=false}if($(w).attr("class")=="selected"){return}updateLargeImageQuick(v);resetSmallImageLiQuick();var s=$("#isDuplicateImages").val();var q;if(s=="true"){q="&selected=N"}else{q="&selected=Y"}var t=$("#productId").val();$("#quickView #firstPickerDiv").load(CONTEXT_ROOT+"catalog/modals/includes/inc_first_picker.jsp","productId="+t+"&paramFirstPickerValue="+n+"&paramSecondPickerValue="+u+"&showSoldOut="+p+"&isPersonalized="+r+"&quickorder="+y);var o;$.ajax({url:CONTEXT_ROOT+"catalog/modals/includes/inc_second_picker.jsp?productId="+t+"&paramFirstPickerValue="+n+"&paramSecondPickerValue="+u+"&showSoldOut="+p+"&isPersonalized="+r+q,success:function(a){$("#quickView #secondPickerDiv").html(a);o=$("#quickView #SelectedSkuID").val();if(t&&o){if(s=="true"){updateSKUInformationQuick(o,t,"",p,y,r,"defaultsku")}else{updateSKUInformationQuick(o,t,"",p,y,r)}}}})}function updateLargeImageQuick(d,e,f){if(d&&d.indexOf("_mn")>=0){updateProductImagesQuick(d)}else{if(d&&d.indexOf("_zm")>=0){updateProductImagesQuick("",d)}}if(typeof f!="undefined"){$.ajax({url:CONTEXT_ROOT+"catalog/modals/includes/inc_product_name_and_pricing.jsp?productId="+f,success:function(a){$("#quickView #product_name_sku_price").html(a)}})}}function updateProductImagesQuick(c,d){if(c&&!d){d=c.replace("_mn","_zm");c=d}else{if(!c&&d){c=d}}updateMainImageQuick(c);updateZoomImageQuick(d)}function resetSmallImageLiQuick(){$("#quickView .thumbnails > li").each(function(){$(this).removeClass("selected")})}function updateMainImageQuick(b){$("#quickView .infoImg").attr("src",b)}function updateZoomImageQuick(b){$("#quickView .zoomImg").attr("src",b)}function SiteCatalystQuickView(){var g="N",h="",k="",f=0,j=$("#currentSite").val();$("input[name*='PinNumber']").each(function(){f=f+1;var a=$(this).val(),b=".xxxpin"+a;if(f==1){var c=$(b).val();if(typeof c===undefined){h=""}else{h=c}}g="Y"});if(g=="N"){h=$("#quickViewPinCode").val()}if(j=="LTD"||j=="ABC"){if(h!==undefined){k=h.substring(0,11)}else{k=""}}else{if(h!==undefined){k=h.substring(0,6)}else{k=""}}}function showMiniCartUpdate(k){if(k.success!=undefined){var g="48px",h=0;navWidth=document.documentElement.clientWidth;if(navWidth>=980){g="69px";h=(navWidth-980)/2}$("div#quickCartPopup").css("position","absolute").css("right",h+"px").css("top",g);var l=Math.floor(Math.random()*999999);$("#quickCartPopup").load(CONTEXT_ROOT+"checkout/mini_cart.jsp","lastAddedItem="+k.lastAddedItem+"&lastAddedItemQty="+k.lastAddedItemQty+"&lastAddedItemProdId="+k.lastAddedItemProdId+"&AddedItem="+k.AddedItem+"&AddedItemQty="+k.AddedItemQty+"&AddedItemProdId="+k.AddedItemProdId+"&randArg="+l,function(){$(".cart-button span.round.label").load(CONTEXT_ROOT+"checkout/mini_cart.jsp span.itemsInCartBottom");window.location="#";$("#showFlyOut").click()});resetPageQtys();if(!$("#errorMessage").hasClass("hidden")){$("#errorMessage").addClass("hidden")}$("#personalizationErrors").remove()}else{if(k.error!=undefined){var j=k.error;$("#personalizationErrors").remove();var m="<ul id='personalizationErrors'><li>"+j+"</li></ul>";$(".product-error").prepend(m)}}}function showMiniCartUpdateQuickView(j){if(j.success!=undefined){if($("body").hasClass("shoppingCart")){window.location="/checkout/shopping_cart.jsp"}else{var g="48px";navWidthAdj=0;navWidth=document.documentElement.clientWidth;if(navWidth>=980){g="69px";navWidthAdj=(navWidth-980)/2}$("div#quickCartPopup").css("position","absolute").css("right",navWidthAdj+"px").css("top",g);var k=Math.floor(Math.random()*999999);$("#quickCartPopup").load(CONTEXT_ROOT+"checkout/mini_cart.jsp","lastAddedItem="+j.lastAddedItem+"&lastAddedItemQty="+j.lastAddedItemQty+"&lastAddedItemProdId="+j.lastAddedItemProdId+"&AddedItem="+j.AddedItem+"&AddedItemQty="+j.AddedItemQty+"&AddedItemProdId="+j.AddedItemProdId+"&randArg="+k,function(){$(".cart-button span.round.label").load(CONTEXT_ROOT+"checkout/mini_cart.jsp span.itemsInCartBottom");window.location="#";$("#showFlyOut").click();$("#quickViewModal").foundation("reveal","close")});resetPageQtys();if(!$("#quickView #errorMessage").hasClass("hidden")){$("#quickView #errorMessage").addClass("hidden")}$("#quickView #personalizationErrors").remove()}}else{if(j.error!=undefined){var h=j.error;$("#quickView #personalizationErrors").remove();var f="<ul id='personalizationErrors'><li>"+h+"</li></ul>";$("#quickView .itemInfo").prepend(f)}}}function resetPageQtys(){var b=$(".qtyFld");if(b.length==0){b=$('input[type=tel][name*="quantity"]')}if(b.length>0){if(b.length==1){b.val(1)}else{b.val(0)}}}function addCookie(j,h,f){if(f){var k=new Date();k.setTime(k.getTime()+(f));var g="; expires="+k.toGMTString()}else{var g=""}document.cookie=j+"="+h+g+"; path=/"}function determineSource(){if($("#quickViewModal").hasClass("open")){return"quickview"}return(window.location.href.indexOf("fm=search")>-1)?"search":(window.location.href.indexOf("pinSearch")>1)?"pinsearch":(window.location.href.indexOf("fm=brhist")>-1)?"browsing_history":(window.location.href.indexOf("fm=upsell")>-1)?"upsell":(window.location.href.indexOf("catalog_quick")>-1)?"catalog_quick_order":(window.location.href.indexOf("fm=qvdetails")>-1)?"qvdetails":(window.location.href.indexOf("my_favorites")>-1)?"my_favorites":(window.location.href.indexOf("bookId=")>-1)?"catalog":(window.location.href.indexOf("cid=tell-a-friend")>-1)?"tell-a-friend":"browse"}function tagAddToCart(){console.log("Add to cart");var m=determineSource();var p="";var j="";var l="";var k="";var n="";var q="";var o=0;if($("#isPersonalizedpicker").length){console.log("detected a picker");l=$("#quantity").val();j=$("input[name='/atg/commerce/order/purchase/CartModifierFormHandler.catalogRefIds']").val();p=$("input[name='/atg/commerce/order/purchase/CartModifierFormHandler.productId']").val();n=$("span.price").html().replace("$","");k=parseFloat(l)*parseFloat(n);q=$("#spanSkuPinCode").html().replace("Item#:&nbsp;","");o=1}else{$(".prod-block").each(function(){if($(this).find("input[id^='quantity_']").val()>0){p+=$("input[name='/ltd/commerce/catalog/formhandlers/TellaFriendFormHandler.productId']").val()+",";j+=$(this).find("input[name='PinNumber']").val()+",";var b=$(this).find("input[id^='quantity_']").val();l+=b+",";var a=$(this).find(".ensemble-price span").html().replace("$","");n+=a+",";k+=a*b+",";q+=$(this).find("input[class^='xxx']").val()+",";o++}})}if(o>0){fireTealiumAjaxEvent({pagename:"cart-add",pagetype:"cart-add",action:"pdp",productId:p,skuId:j,quantity:l,totalPrice:k,unitPrice:n,pin:q,source:m})}}function tagQuickOrder(){var j=determineSource();var h="";var f="";var g=true;var k=0;$(".quickOrder tr[id^=row]").each(function(){var c=$(this).find("input[id^='qty']").val();var b=$(this).find("input[id^='nbrprod']").val();var a=(c.length==0&&b.length==0)||(c.length>0&&b.length>0&&c>0);if(!a){g=false;return false}if(c.length>0&&b.length>0&&c>0){h+=c+",";f+=b+",";k++}});if(!g||k==0){return false}fireTealiumAjaxEvent({pagename:"cart-add",pagetype:"cart-add",action:"cqo",quantity:h,pin:f,source:j})}function addAndroidMaxLength(){}function addAndroidMaxLength_QC_350(){var d=window.navigator.appVersion;d=d.toLowerCase();console.log(d+"::version");if(d.indexOf("android")>=0){var c={};$.each($(":text, textarea, :password, :input"),function(){var a=$(this).attr("id"),b=$(this).attr("maxlength");if((typeof a!=="undefined")&&(typeof b!=="undefined")){c[a]=b;$(this).removeAttr("maxlength");$(this).attr("onkeypress","if(this.value.length >= "+b+" ) return false;")}});$(":text, textarea, :password, :input").bind("change keyup",function(){var a=$(this).attr("id"),b="";if(typeof a!=="undefined"&&c.hasOwnProperty(a)){b=c[a];if($(this).val().length>b){$(this).val($(this).val().slice(0,b))}}})}}function ExcludeUA(){ua=navigator.userAgent;if((ua.indexOf("Android 4.")!=-1)&&(ua.indexOf("AppleWebKit/534")!=-1)){return true}else{return false}}function isBrowser(b){return(navigator.userAgent.toLowerCase().indexOf(b.toLowerCase())!=-1)?true:false}function IsSmall(){return jsMQ.isSmall()}jsMQcallback=$.Callbacks(),jsMQcurrent="";var jsMQ={getVW:function(){vw=jQuery(window).width();if(vw<=480){return"s"}if((vw>=480)&&(vw<=748)){return"sl"}if((vw>=749)&&(vw<=965)){return"m"}if(vw>=966){return"l"}},pubVW:function(){vw=jsMQ.getVW();if(jsMQcurrent!=vw){jsMQcurrent=vw;jsMQcallback.fire(vw)}},isSmall:function(){return(jsMQ.getVW().charAt(0)=="s")?true:false},isMedium:function(){return(jsMQ.getVW()=="m")?true:false},isLarge:function(){return(jsMQ.getVW()=="l")?true:false}};setInterval(jsMQ.pubVW,1800);var nPosX=0,nPosY=0,bOff=false;$(document).ready(function(){if(isBrowser("Andro")){document.addEventListener("touchstart",function(b){nPosX=b.changedTouches[0].pageX;nPosY=b.changedTouches[0].pageY;bOff=("none"==$(".exit-off-canvas").css("display"))?false:true},false);document.addEventListener("touchmove",function(b){if(bOff){if(Math.abs(b.changedTouches[0].pageX-nPosX)>=Math.abs(b.changedTouches[0].pageY-nPosY)){b.preventDefault()}}},false)}});function genAlt(){$("img").filter(function(){return(!$(this)[0].hasAttribute("alt")||($(this)[0].hasAttribute("alt")&&$(this).attr("alt").length<=0))}).each(function(){$(this).attr("alt",$(this).attr("src").split("/").pop().slice(0,-4))})}function setAcs_skip(){if(jsMQ.isLarge()&&($(".large-8").length>=0)&&($("#js-acs-skip--a").length>=0)){$(".large-8").first().attr("id","acs-skip__target")}else{$("#js-acs-skip--a").remove()}}
/*! http://mths.be/placeholder v1.8.7 by @mathias */
(function(p,n,s){var u="placeholder" in n.createElement("input"),r="placeholder" in n.createElement("textarea"),m=s.fn,l;if(u&&r){l=m.placeholder=function(){return this};l.input=l.textarea=true}else{l=m.placeholder=function(){return this.filter((u?"textarea":":input")+"[placeholder]").not(".placeholder").bind("focus.placeholder",t).bind("blur.placeholder",q).trigger("blur.placeholder").end()};l.input=u;l.textarea=r;s(function(){s(n).delegate("form","submit.placeholder",function(){var a=s(".placeholder",this).each(t);setTimeout(function(){a.each(q)},10)})});s(p).bind("unload.placeholder",function(){s(".placeholder").val("")})}function o(a){var b={},c=/^jQuery\d+$/;s.each(a.attributes,function(d,e){if(e.specified&&!c.test(e.name)){b[e.name]=e.value}});return b}function t(){var a=s(this);if(a.val()===a.attr("placeholder")&&a.hasClass("placeholder")){if(a.data("placeholder-password")){a.hide().next().show().focus().attr("id",a.removeAttr("id").data("placeholder-id"))}else{a.val("").removeClass("placeholder");a.attr("style","")}}}function q(){var c,d=s(this),b=d,e=this.id;if(d.val()===""){if(d.is(":password")){if(!d.data("placeholder-textinput")){try{c=d.clone().attr({type:"text"})}catch(a){c=s("<input>").attr(s.extend(o(this),{type:"text"}))}c.removeAttr("name").data("placeholder-password",true).data("placeholder-id",e).bind("focus.placeholder",t);d.data("placeholder-textinput",c).data("placeholder-id",e).before(c)}d=d.removeAttr("id").hide().prev().attr("id",e).show()}d.addClass("placeholder").val(d.attr("placeholder"))}else{d.removeClass("placeholder")}}}(this,document,jQuery));if($(".ie9").length&&!$("#onePageCheckout").length){$("input, textarea").placeholder();
/*!
* jquery.inputmask.bundle
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2015 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.1.64-124
*/
}!function(x){function z(a){this.el=void 0,this.opts=x.extend(!0,{},this.defaults,a),this.noMasksCache=a&&void 0!==a.definitions,this.userOptions=a||{},v(this.opts.alias,a,this.opts)}function r(d){var a=document.createElement("input"),b="on"+d,c=b in a;return c||(a.setAttribute(b,"return;"),c="function"==typeof a[b]),a=null,c}function o(a){var c="text"==a||"tel"==a||"password"==a;if(!c){var b=document.createElement("input");b.setAttribute("type",a),c="text"===b.type,b=null}return c}function v(c,b,a){var d=a.aliases[c];return d?(d.alias&&v(d.alias,void 0,a),x.extend(!0,a,d),x.extend(!0,a,b),!0):(void 0==a.mask&&(a.mask=c),!1)}function q(e,d,h){function b(k){var l=j.data("inputmask-"+k.toLowerCase());void 0!=l&&(l="boolean"==typeof l?l:l.toString(),"mask"==k&&0==l.indexOf("[")?(h[k]=l.replace(/[\s[\]]/g,"").split("','"),h[k][0]=h[k][0].replace("'",""),h[k][h[k].length-1]=h[k][h[k].length-1].replace("'","")):h[k]=l)}var j=x(e),g=j.data("inputmask");if(g&&""!=g){try{g=g.replace(new RegExp("'","g"),'"');var c=x.parseJSON("{"+g+"}");x.extend(!0,h,c)}catch(f){}}for(var a in d){b(a)}if(h.alias){v(h.alias,h,d);for(var a in d){b(a)}}return x.extend(!0,d,h),d}function y(a,d){function b(n){function aa(E,C,B,D){this.matches=[],this.isGroup=E||!1,this.isOptional=C||!1,this.isQuantifier=B||!1,this.isAlternator=D||!1,this.quantifier={min:1,max:1}}function ag(K,E,C){var G=a.definitions[E],F=0==K.matches.length;if(C=void 0!=C?C:K.matches.length,G&&!aj){G.placeholder=x.isFunction(G.placeholder)?G.placeholder.call(this,a):G.placeholder;for(var L=G.prevalidator,I=L?L.length:0,D=1;D<G.cardinality;D++){var J=I>=D?L[D-1]:[],H=J.validator,B=J.cardinality;K.matches.splice(C++,0,{fn:H?"string"==typeof H?new RegExp(H):new function(){this.test=H}():new RegExp("."),cardinality:B?B:1,optionality:K.isOptional,newBlockMarker:F,casing:G.casing,def:G.definitionSymbol||E,placeholder:G.placeholder,mask:E})}K.matches.splice(C++,0,{fn:G.validator?"string"==typeof G.validator?new RegExp(G.validator):new function(){this.test=G.validator}():new RegExp("."),cardinality:G.cardinality,optionality:K.isOptional,newBlockMarker:F,casing:G.casing,def:G.definitionSymbol||E,placeholder:G.placeholder,mask:E})}else{K.matches.splice(C++,0,{fn:null,cardinality:0,optionality:K.isOptional,newBlockMarker:F,casing:null,def:E,placeholder:void 0,mask:E}),aj=!1}}function ai(B,C){B.isGroup&&(B.isGroup=!1,ag(B,a.groupmarker.start,0),C!==!0&&ag(B,a.groupmarker.end))}function h(D,B,E,C){B.matches.length>0&&(void 0==C||C)&&(E=B.matches[B.matches.length-1],ai(E)),ag(B,D)}function af(){if(j.length>0){if(m=j[j.length-1],h(Y,m,l,!m.isAlternator),m.isAlternator){k=j.pop();for(var B=0;B<k.matches.length;B++){k.matches[B].isGroup=!1}j.length>0?(m=j[j.length-1],m.matches.push(k)):ac.matches.push(k)}}else{h(Y,ac,l)}}function al(B){function F(G){return G==a.optionalmarker.start?G=a.optionalmarker.end:G==a.optionalmarker.end?G=a.optionalmarker.start:G==a.groupmarker.start?G=a.groupmarker.end:G==a.groupmarker.end&&(G=a.groupmarker.start),G}B.matches=B.matches.reverse();for(var C in B.matches){var D=parseInt(C);if(B.matches[C].isQuantifier&&B.matches[D+1]&&B.matches[D+1].isGroup){var E=B.matches[C];B.matches.splice(C,1),B.matches.splice(D+1,0,E)}void 0!=B.matches[C].matches?B.matches[C]=al(B.matches[C]):B.matches[C]=F(B.matches[C])}return B}for(var ah,Y,ak,m,k,l,ab=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,aj=!1,ac=new aa(),j=[],am=[];ah=ab.exec(n);){if(Y=ah[0],aj){af()}else{switch(Y.charAt(0)){case a.escapeChar:aj=!0;break;case a.optionalmarker.end:case a.groupmarker.end:if(ak=j.pop(),void 0!=ak){if(j.length>0){if(m=j[j.length-1],m.matches.push(ak),m.isAlternator){k=j.pop();for(var ae=0;ae<k.matches.length;ae++){k.matches[ae].isGroup=!1}j.length>0?(m=j[j.length-1],m.matches.push(k)):ac.matches.push(k)}}else{ac.matches.push(ak)}}else{af()}break;case a.optionalmarker.start:j.push(new aa(!1,!0));break;case a.groupmarker.start:j.push(new aa(!0));break;case a.quantifiermarker.start:var Z=new aa(!1,!1,!0);Y=Y.replace(/[{}]/g,"");var W=Y.split(","),U=isNaN(W[0])?W[0]:parseInt(W[0]),V=1==W.length?U:isNaN(W[1])?W[1]:parseInt(W[1]);if(("*"==V||"+"==V)&&(U="*"==V?0:1),Z.quantifier={min:U,max:V},j.length>0){var ad=j[j.length-1].matches;if(ah=ad.pop(),!ah.isGroup){var X=new aa(!0);X.matches.push(ah),ah=X}ad.push(ah),ad.push(Z)}else{if(ah=ac.matches.pop(),!ah.isGroup){var X=new aa(!0);X.matches.push(ah),ah=X}ac.matches.push(ah),ac.matches.push(Z)}break;case a.alternatormarker:j.length>0?(m=j[j.length-1],l=m.matches.pop()):l=ac.matches.pop(),l.isAlternator?j.push(l):(k=new aa(!1,!1,!1,!0),k.matches.push(l),j.push(k));break;default:af()}}}for(;j.length>0;){ak=j.pop(),ai(ak,!0),ac.matches.push(ak)}return ac.matches.length>0&&(l=ac.matches[ac.matches.length-1],ai(l),am.push(ac)),a.numericInput&&al(am[0]),am}function c(k,j){if(void 0==k||""==k){return void 0}if(1==k.length&&0==a.greedy&&0!=a.repeat&&(a.placeholder=""),a.repeat>0||"*"==a.repeat||"+"==a.repeat){var h="*"==a.repeat?0:"+"==a.repeat?1:a.repeat;k=a.groupmarker.start+k+a.groupmarker.end+a.quantifiermarker.start+h+","+a.repeat+a.quantifiermarker.end}var l;return void 0==z.prototype.masksCache[k]||d===!0?(l={mask:k,maskToken:b(k),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:j},d!==!0&&(z.prototype.masksCache[a.numericInput?k.split("").reverse().join(""):k]=l)):l=x.extend(!0,{},z.prototype.masksCache[k]),l}function f(h){return h=h.toString()}var g=void 0;if(x.isFunction(a.mask)&&(a.mask=a.mask.call(this,a)),x.isArray(a.mask)){if(a.mask.length>1){a.keepStatic=void 0==a.keepStatic?!0:a.keepStatic;var e="(";return x.each(a.numericInput?a.mask.reverse():a.mask,function(j,h){e.length>1&&(e+=")|("),e+=f(void 0==h.mask||x.isFunction(h.mask)?h:h.mask)}),e+=")",c(e,a.mask)}a.mask=a.mask.pop()}return a.mask&&(g=void 0==a.mask.mask||x.isFunction(a.mask.mask)?c(f(a.mask),a.mask):c(f(a.mask.mask),a.mask)),g}function w(bd,aW,e){function k(J,B,H){B=B||0;var F,D,E,G=[],C=0;do{if(J===!0&&aG().validPositions[C]){var I=aG().validPositions[C];D=I.match,F=I.locator.slice(),G.push(H===!0?I.input:a9(C,D))}else{E=aY(C,F,C-1),D=E.match,F=E.locator.slice(),G.push(a9(C,D))}C++}while((void 0==bb||bb>C-1)&&null!=D.fn||null==D.fn&&""!=D.def||B>=C);return G.pop(),G}function aG(){return aW}function ay(C){var B=aG();B.buffer=void 0,B.tests={},C!==!0&&(B._buffer=void 0,B.validPositions={},B.p=0)}function bg(G,B){var J=aG(),F=-1,E=J.validPositions;void 0==G&&(G=-1);var C=F,I=F;for(var D in E){var H=parseInt(D);E[H]&&(B||null!=E[H].match.fn)&&(G>=H&&(C=H),H>=G&&(I=H))}return F=-1!=C&&G-C>1||G>I?C:I}function a4(M,L,E){if(e.insertMode&&void 0!=aG().validPositions[M]&&void 0==E){var F,K=x.extend(!0,{},aG().validPositions),D=bg();for(F=M;D>=F;F++){delete aG().validPositions[F]}aG().validPositions[M]=L;var G,I=!0,B=aG().validPositions;for(F=G=M;D>=F;F++){var J=K[F];if(void 0!=J){for(var C=G,H=-1;C<aQ()&&(null==J.match.fn&&B[F]&&(B[F].match.optionalQuantifier===!0||B[F].match.optionality===!0)||null!=J.match.fn);){if(null==J.match.fn||!e.keepStatic&&B[F]&&(void 0!=B[F+1]&&a2(F+1,B[F].locator.slice(),F).length>1||void 0!=B[F].alternation)?C++:C=bi(G),az(C,J.match.def)){I=be(C,J.input,!0,!0)!==!1,G=C;break}if(I=null==J.match.fn,H==C){break}H=C}}if(!I){break}}if(!I){return aG().validPositions=x.extend(!0,{},K),!1}}else{aG().validPositions[M]=L}return !0}function a7(I,H,C,B){var F,D=I;aG().p=I;for(F=D;H>F;F++){void 0!=aG().validPositions[F]&&(C===!0||0!=e.canClearPosition(aG(),F,bg(),B,e))&&delete aG().validPositions[F]}for(ay(!0),F=D+1;F<=bg();){for(;void 0!=aG().validPositions[D];){D++}var J=aG().validPositions[D];D>F&&(F=D+1);var K=aG().validPositions[F];void 0!=K&&aC(F)&&void 0==J?(az(D,K.match.def)&&be(D,K.input,!0)!==!1&&(delete aG().validPositions[F],F++),D++):F++}var E=bg(),G=aQ();for(B!==!0&&C!==!0&&void 0!=aG().validPositions[E]&&aG().validPositions[E].input==e.radixPoint&&delete aG().validPositions[E],F=E+1;G>=F;F++){aG().validPositions[F]&&delete aG().validPositions[F]}ay(!0)}function aY(C,F,G){var E=aG().validPositions[C];if(void 0==E){for(var H=a2(C,F,G),D=bg(),B=aG().validPositions[D]||a2(0)[0],I=void 0!=B.alternation?B.locator[B.alternation].toString().split(","):[],J=0;J<H.length&&(E=H[J],!(E.match&&(e.greedy&&E.match.optionalQuantifier!==!0||(E.match.optionality===!1||E.match.newBlockMarker===!1)&&E.match.optionalQuantifier!==!0)&&(void 0==B.alternation||B.alternation!=E.alternation||void 0!=E.locator[B.alternation]&&bj(E.locator[B.alternation].toString().split(","),I))));J++){}}return E}function aX(B){return aG().validPositions[B]?aG().validPositions[B].match:a2(B)[0].match}function az(B,C){for(var D=!1,F=a2(B),E=0;E<F.length;E++){if(F[E].match&&F[E].match.def==C){D=!0;break}}return D}function a2(M,E,F,G){function K(T,P,U,R){function S(am,Z,ab){if(B>10000){return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+aG().mask),!0}if(B==M&&void 0==am.matches){return C.push({match:am,locator:Z.reverse()}),!0}if(void 0!=am.matches){if(am.isGroup&&ab!==am){if(am=S(T.matches[V+1],Z)){return !0}}else{if(am.isOptional){var aj=am;if(am=K(am,P,Z,ab)){var aa=C[C.length-1].match,af=0==x.inArray(aa,aj.matches);if(!af){return !0}L=!0,B=M}}else{if(am.isAlternator){var aB,aA=am,ac=[],at=C.slice(),aq=Z.length,ap=P.length>0?P.shift():-1;if(-1==ap||"string"==typeof ap){var X=B,al=P.slice(),ad=[];"string"==typeof ap&&(ad=ap.split(","));for(var ak=0;ak<aA.matches.length;ak++){if(C=[],am=S(aA.matches[ak],[ak].concat(Z),ab)||am,am!==!0&&void 0!=am&&ad[ad.length-1]<aA.matches.length){var ah=T.matches.indexOf(am)+1;T.matches.length>ah&&(am=S(T.matches[ah],[ah].concat(Z.slice(1,Z.length)),ab),am&&(ad.push(ah.toString()),x.each(C,function(bp,bo){bo.alternation=Z.length-1})))}aB=C.slice(),B=X,C=[];for(var ae=0;ae<al.length;ae++){P[ae]=al[ae]}for(var ag=0;ag<aB.length;ag++){var an=aB[ag];an.alternation=an.alternation||aq;for(var ai=0;ai<ac.length;ai++){var Y=ac[ai];if(an.match.mask==Y.match.mask&&("string"!=typeof ap||-1!=x.inArray(an.locator[an.alternation].toString(),ad))){aB.splice(ag,1),ag--,Y.locator[an.alternation]=Y.locator[an.alternation]+","+an.locator[an.alternation],Y.alternation=an.alternation;break}}}ac=ac.concat(aB)}"string"==typeof ap&&(ac=x.map(ac,function(bv,bx){if(isFinite(bx)){var bs,bw=bv.alternation,bu=bv.locator[bw].toString().split(",");bv.locator[bw]=void 0,bv.alternation=void 0;for(var bt=0;bt<bu.length;bt++){bs=-1!=x.inArray(bu[bt],ad),bs&&(void 0!=bv.locator[bw]?(bv.locator[bw]+=",",bv.locator[bw]+=bu[bt]):bv.locator[bw]=parseInt(bu[bt]),bv.alternation=bw)}if(void 0!=bv.locator[bw]){return bv}}})),C=at.concat(ac),B=M,L=C.length>0}else{am=aA.matches[ap]?S(aA.matches[ap],[ap].concat(Z),ab):!1}if(am){return !0}}else{if(am.isQuantifier&&ab!==T.matches[x.inArray(am,T.matches)-1]){for(var W=am,ar=P.length>0?P.shift():0;ar<(isNaN(W.quantifier.max)?ar+1:W.quantifier.max)&&M>=B;ar++){var ao=T.matches[x.inArray(W,T.matches)-1];if(am=S(ao,[ar].concat(Z),ao)){var aa=C[C.length-1].match;aa.optionalQuantifier=ar>W.quantifier.min-1;var af=0==x.inArray(aa,ao.matches);if(af){if(ar>W.quantifier.min-1){L=!0,B=M;break}return !0}return !0}}}else{if(am=K(am,P,Z,ab)){return !0}}}}}}else{B++}}for(var V=P.length>0?P.shift():0;V<T.matches.length;V++){if(T.matches[V].isQuantifier!==!0){var Q=S(T.matches[V],[V].concat(U),R);if(Q&&B==M){return Q}if(B>M){break}}}}var I=aG().maskToken,B=E?F:0,J=E||[0],C=[],L=!1;if(G===!0&&aG().tests[M]){return aG().tests[M]}if(void 0==E){for(var N,O=M-1;void 0==(N=aG().validPositions[O])&&O>-1&&(!aG().tests[O]||void 0==(N=aG().tests[O][0]));){O--}void 0!=N&&O>-1&&(B=O,J=N.locator.slice())}for(var H=J.shift();H<I.length;H++){var D=K(I[H],J,[H]);if(D&&B==M||B>M){break}}return(0==C.length||L)&&C.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),aG().tests[M]=x.extend(!0,[],C),aG().tests[M]}function a8(){return void 0==aG()._buffer&&(aG()._buffer=k(!1,1)),aG()._buffer}function bk(){return void 0==aG().buffer&&(aG().buffer=k(!0,bg(),!0)),aG().buffer}function a6(B,D,E){if(E=E||bk().slice(),B===!0){ay(),B=0,D=E.length}else{for(var C=B;D>C;C++){delete aG().validPositions[C],delete aG().tests[C]}}for(var C=B;D>C;C++){E[C]!=e.skipOptionalPartCharacter&&be(C,E[C],!0,!0)}}function a(C,B){switch(B.casing){case"upper":C=C.toUpperCase();break;case"lower":C=C.toLowerCase()}return C}function bj(D,E){for(var B=e.greedy?E:E.slice(0,1),F=!1,C=0;C<D.length;C++){if(-1!=x.inArray(D[C],B)){F=!0;break}}return F}function be(N,O,K,B){function F(V,S,T,W){var U=!1;return x.each(a2(V),function(ad,aa){for(var af=aa.match,Z=S?1:0,ab="",X=(bk(),af.cardinality);X>Z;X--){ab+=l(V-(X-1))}if(S&&(ab+=S),U=null!=af.fn?af.fn.test(ab,aG(),V,T,e):S!=af.def&&S!=e.skipOptionalPartCharacter||""==af.def?!1:{c:af.def,pos:V},U!==!1){var Y=void 0!=U.c?U.c:S;Y=Y==e.skipOptionalPartCharacter&&null===af.fn?af.def:Y;var ac=V,ae=bk();if(void 0!=U.remove&&(x.isArray(U.remove)||(U.remove=[U.remove]),x.each(U.remove.sort(function(ah,ai){return ai-ah}),function(ai,ah){a7(ah,ah+1,!0)})),void 0!=U.insert&&(x.isArray(U.insert)||(U.insert=[U.insert]),x.each(U.insert.sort(function(ah,ai){return ah-ai}),function(ai,ah){be(ah.pos,ah.c,!0)})),U.refreshFromBuffer){var ag=U.refreshFromBuffer;if(T=!0,a6(ag===!0?ag:ag.start,ag.end,ae),void 0==U.pos&&void 0==U.c){return U.pos=bg(),!1}if(ac=void 0!=U.pos?U.pos:V,ac!=V){return U=x.extend(U,be(ac,Y,!0)),!1}}else{if(U!==!0&&void 0!=U.pos&&U.pos!=V&&(ac=U.pos,a6(V,ac),ac!=V)){return U=x.extend(U,be(ac,Y,!0)),!1}}return 1!=U&&void 0==U.pos&&void 0==U.c?!1:(ad>0&&ay(!0),a4(ac,x.extend({},aa,{input:a(Y,af)}),W)||(U=!1),!1)}}),U}function D(U,ad,W,ae){for(var ap,aa,X,T,ab=x.extend(!0,{},aG().validPositions),S=bg();S>=0&&(T=aG().validPositions[S],!T||void 0==T.alternation||(ap=S,aa=aG().validPositions[ap].alternation,aY(ap).locator[T.alternation]==T.locator[T.alternation]));S--){}if(void 0!=aa){ap=parseInt(ap);for(var al in aG().validPositions){if(al=parseInt(al),T=aG().validPositions[al],al>=ap&&void 0!=T.alternation){var ac=aG().validPositions[ap].locator[aa].toString().split(","),aj=T.locator[aa]||ac[0];aj.length>0&&(aj=aj.split(",")[0]);for(var am=0;am<ac.length;am++){if(aj<ac[am]){for(var V,Y,ak=al;ak>=0;ak--){if(V=aG().validPositions[ak],void 0!=V){Y=V.locator[aa],V.locator[aa]=parseInt(ac[am]);break}}if(aj!=V.locator[aa]){for(var af=[],ah=0,ag=al+1;ag<bg()+1;ag++){var Z=aG().validPositions[ag];Z&&(null!=Z.match.fn?af.push(Z.input):U>ag&&ah++),delete aG().validPositions[ag],delete aG().tests[ag]}for(ay(!0),e.keepStatic=!e.keepStatic,X=!0;af.length>0;){var an=af.shift();if(an!=e.skipOptionalPartCharacter&&!(X=be(bg()+1,an,!1,!0))){break}}if(V.alternation=aa,V.locator[aa]=Y,X){for(var ao=bg(U)+1,ai=0,ag=al+1;ag<bg()+1;ag++){var Z=aG().validPositions[ag];Z&&null==Z.match.fn&&U>ag&&ai++}U+=ai-ah,X=be(U>ao?ao:U,ad,W,ae)}if(e.keepStatic=!e.keepStatic,X){return X}ay(),aG().validPositions=x.extend(!0,{},ab)}}}break}}}return !1}function Q(W,U){for(var Z=aG().validPositions[U],V=Z.locator,S=V.length,aa=W;U>aa;aa++){if(!aC(aa)){var Y=a2(aa),X=Y[0],T=-1;x.each(Y,function(ad,ab){for(var ac=0;S>ac;ac++){ab.locator[ac]&&bj(ab.locator[ac].toString().split(","),V[ac].toString().split(","))&&ac>T&&(T=ac,X=ab)}}),a4(aa,x.extend({},X,{input:X.match.def}),!0)}}}K=K===!0;for(var C=bk(),P=N-1;P>-1&&!aG().validPositions[P];P--){}for(P++;N>P;P++){void 0==aG().validPositions[P]&&((!aC(P)||C[P]!=a9(P))&&a2(P).length>1||C[P]==e.radixPoint||"0"==C[P]&&x.inArray(e.radixPoint,C)<P)&&F(P,C[P],!0)}var L=N,J=!1,M=x.extend(!0,{},aG().validPositions);if(L<aQ()&&(J=F(L,O,K,B),(!K||B)&&J===!1)){var I=aG().validPositions[L];if(!I||null!=I.match.fn||I.match.def!=O&&O!=e.skipOptionalPartCharacter){if((e.insertMode||void 0==aG().validPositions[bi(L)])&&!aC(L)){for(var G=L+1,H=bi(L);H>=G;G++){if(J=F(G,O,K,B),J!==!1){Q(L,G),L=G;break}}}}else{J={caret:bi(L)}}}if(J===!1&&e.keepStatic&&a1(C)&&(J=D(N,O,K,B)),J===!0&&(J={pos:L}),x.isFunction(e.postValidation)&&0!=J&&!K){ay(!0);var E=e.postValidation(bk(),e);if(E){if(E.refreshFromBuffer){var R=E.refreshFromBuffer;a6(R===!0?R:R.start,R.end,E.buffer),ay(!0),J=E}}else{ay(!0),aG().validPositions=x.extend(!0,{},M),J=!1}}return J}function aC(B){var C=aX(B);if(null!=C.fn){return C.fn}if(!e.keepStatic&&void 0==aG().validPositions[B]){for(var E=a2(B),D=!0,F=0;F<E.length;F++){if(""!=E[F].match.def&&(void 0==E[F].alternation||E[F].locator[E[F].alternation].length>1)){D=!1;break}}return D}return !1}function aQ(){var B;bb=aN.prop("maxLength"),-1==bb&&(bb=void 0);var C,D=bg(),G=aG().validPositions[D],E=void 0!=G?G.locator.slice():void 0;for(C=D+1;void 0==G||null!=G.match.fn||null==G.match.fn&&""!=G.match.def;C++){G=aY(C,E,C-1),E=G.locator.slice()}var F=aX(C-1);return B=""!=F.def?C:C-1,void 0==bb||bb>B?B:bb}function bi(B){var C=aQ();if(B>=C){return C}for(var D=B;++D<C&&!aC(D)&&(e.nojumps!==!0||e.nojumpsThreshold>D);){}return D}function av(B){var C=B;if(0>=C){return 0}for(;--C>0&&!aC(C);){}return C}function l(B){return void 0==aG().validPositions[B]?a9(B):aG().validPositions[B].input}function a3(E,F,D,H,B){if(H&&x.isFunction(e.onBeforeWrite)){var G=e.onBeforeWrite.call(E,H,F,D,e);if(G){if(G.refreshFromBuffer){var C=G.refreshFromBuffer;a6(C===!0?C:C.start,C.end,G.buffer||F),ay(!0),F=bk()}D=void 0!=G.caret?G.caret:D}}E._valueSet(F.join("")),void 0!=D&&aO(E,D),B===!0&&(bf=!0,x(E).trigger("input"))}function a9(B,C){if(C=C||aX(B),void 0!=C.placeholder){return C.placeholder}if(null==C.fn){if(!e.keepStatic&&void 0==aG().validPositions[B]){for(var E,F=a2(B),D=!1,G=0;G<F.length;G++){if(E&&""!=F[G].match.def&&F[G].match.def!=E.match.def&&(void 0==F[G].alternation||F[G].alternation==E.alternation)){D=!0;break}1!=F[G].match.optionality&&1!=F[G].match.optionalQuantifier&&(E=F[G])}if(D){return e.placeholder.charAt(B%e.placeholder.length)}}return C.def}return e.placeholder.charAt(B%e.placeholder.length)}function ba(B,C,K,D){function J(){var M=!1,L=a8().slice(H,bi(H)).join("").indexOf(F);if(-1!=L&&!aC(H)){M=!0;for(var N=a8().slice(H,H+L),O=0;O<N.length;O++){if(" "!=N[O]){M=!1;break}}}return M}var I=void 0!=D?D.slice():B._valueGet().split(""),F="",H=0;if(ay(),aG().p=bi(-1),C&&B._valueSet(""),!K){if(1!=e.autoUnmask){var E=a8().slice(0,bi(-1)).join(""),G=I.join("").match(new RegExp("^"+z.escapeRegex(E),"g"));G&&G.length>0&&(I.splice(0,G.length*E.length),H=bi(H))}else{H=bi(H)}}x.each(I,function(P,R){var Q=x.Event("keypress");Q.which=R.charCodeAt(0),F+=R;var L=bg(void 0,!0),N=aG().validPositions[L],O=aY(L+1,N?N.locator.slice():void 0,L);if(!J()||K||e.autoUnmask){var M=K?P:null==O.match.fn&&O.match.optionality&&L+1<aG().p?L+1:aG().p;aI.call(B,Q,!0,!1,K,M),H=M+1,F=""}else{aI.call(B,Q,!0,!1,!0,L+1)}}),C&&a3(B,bk(),x(B).is(":focus")?bi(bg(0)):void 0,x.Event("checkval"))}function bl(B){if(B[0].inputmask&&!B.hasClass("hasDatepicker")){var E=[],C=aG().validPositions;for(var D in C){C[D].match&&null!=C[D].match.fn&&E.push(C[D].input)}var G=(aH?E.reverse():E).join(""),F=(aH?bk().slice().reverse():bk()).join("");return x.isFunction(e.onUnMask)&&(G=e.onUnMask.call(B,F,G,e)||G),G}return B[0]._valueGet()}function aO(B,H,F){function C(K){if(aH&&"number"==typeof K&&(!e.greedy||""!=e.placeholder)){var L=bk().join("").length;K=L-K}return K}var D,J=B.jquery&&B.length>0?B[0]:B;if("number"!=typeof H){return J.setSelectionRange?(H=J.selectionStart,F=J.selectionEnd):window.getSelection?(D=window.getSelection().getRangeAt(0),(D.commonAncestorContainer.parentNode==J||D.commonAncestorContainer==J)&&(H=D.startOffset,F=D.endOffset)):document.selection&&document.selection.createRange&&(D=document.selection.createRange(),H=0-D.duplicate().moveStart("character",-100000),F=H+D.text.length),{begin:C(H),end:C(F)}}if(H=C(H),F=C(F),F="number"==typeof F?F:H,x(J).is(":visible")){var E=x(J).css("font-size").replace("px","")*F;if(J.scrollLeft=E>J.scrollWidth?E:0,t||0!=e.insertMode||H!=F||F++,J.setSelectionRange){J.selectionStart=H,J.selectionEnd=F}else{if(window.getSelection){if(D=document.createRange(),void 0==J.firstChild){var G=document.createTextNode("");J.appendChild(G)}D.setStart(J.firstChild,H<J._valueGet().length?H:J._valueGet().length),D.setEnd(J.firstChild,F<J._valueGet().length?F:J._valueGet().length),D.collapse(!0);var I=window.getSelection();I.removeAllRanges(),I.addRange(D)}else{J.createTextRange&&(D=J.createTextRange(),D.collapse(!0),D.moveEnd("character",F),D.moveStart("character",H),D.select())}}}}function a0(E){var K,C,G=bk(),H=G.length,B=bg(),D={},J=aG().validPositions[B],F=void 0!=J?J.locator.slice():void 0;for(K=B+1;K<G.length;K++){C=aY(K,F,K-1),F=C.locator.slice(),D[K]=x.extend(!0,{},C)}var I=J&&void 0!=J.alternation?J.locator[J.alternation]:void 0;for(K=H-1;K>B&&(C=D[K],(C.match.optionality||C.match.optionalQuantifier||I&&(I!=D[K].locator[J.alternation]&&null!=C.match.fn||null==C.match.fn&&C.locator[J.alternation]&&bj(C.locator[J.alternation].toString().split(","),I.toString().split(","))&&""!=a2(K)[0].def))&&G[K]==a9(K,C.match));K--){H--}return E?{l:H,def:D[H]?D[H].match:void 0}:H}function n(C){for(var B=a0(),D=C.length-1;D>B&&!aC(D);D--){}return C.splice(B,D+1-B),C}function a1(F){if(x.isFunction(e.isComplete)){return e.isComplete.call(aN,F,e)}if("*"==e.repeat){return void 0}var G=!1,E=a0(!0),C=av(E.l);bg();if(void 0==E.def||E.def.newBlockMarker||E.def.optionality||E.def.optionalQuantifier){G=!0;for(var D=0;C>=D;D++){var B=aY(D).match;if(null!=B.fn&&void 0==aG().validPositions[D]&&B.optionality!==!0&&B.optionalQuantifier!==!0||null==B.fn&&F[D]!=a9(D,B)){G=!1;break}}}return G}function aM(B,C){return aH?B-C>1||B-C==1&&e.insertMode:C-B>1||C-B==1&&e.insertMode}function aS(B){var C=x._data(B).events,D=!1;x.each(C,function(F,E){x.each(E,function(G,I){if("inputmask"==I.namespace&&"setvalue"!=I.type){var H=I.handler;I.handler=function(J){if(!(this.disabled||this.readOnly&&!("keydown"==J.type&&J.ctrlKey&&67==J.keyCode||J.keyCode==z.keyCode.TAB))){switch(J.type){case"input":if(bf===!0||D===!0){return bf=!1,J.preventDefault()}break;case"keydown":aV=!1,D=!1;break;case"keypress":if(aV===!0){return J.preventDefault()}aV=!0;break;case"compositionstart":D=!0;break;case"compositionupdate":bf=!0;break;case"compositionend":D=!1}return H.apply(this,arguments)}J.preventDefault()}}})})}function aK(I){function E(K){if(void 0==x.valHooks[K]||1!=x.valHooks[K].inputmaskpatch){var L=x.valHooks[K]&&x.valHooks[K].get?x.valHooks[K].get:function(M){return M.value},J=x.valHooks[K]&&x.valHooks[K].set?x.valHooks[K].set:function(N,M){return N.value=M,N};x.valHooks[K]={get:function(N){x(N);if(N.inputmask){if(N.inputmask.opts.autoUnmask){return N.inputmask.unmaskedvalue()}var P=L(N),M=N.inputmask.maskset,O=M._buffer;return O=O?O.join(""):"",P!=O?P:""}return L(N)},set:function(N,M){var P,O=x(N);return P=J(N,M),N.inputmask&&O.triggerHandler("setvalue.inputmask"),P},inputmaskpatch:!0}}}function G(){x(this);return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():B.call(this)!=a8().join("")?B.call(this):"":B.call(this)}function H(J){F.call(this,J),this.inputmask&&x(this).triggerHandler("setvalue.inputmask")}function D(J){x(J).bind("mouseenter.inputmask",function(Q){var O=x(this),R=this,P=R._valueGet();""!=P&&P!=bk().join("")&&O.triggerHandler("setvalue.inputmask")});var K=x._data(J).events,M=K.mouseover;if(M){for(var N=M[M.length-1],L=M.length-1;L>0;L--){M[L]=M[L-1]}M[0]=N}}var B,F;if(!I._valueGet){var C;Object.getOwnPropertyDescriptor&&void 0==I.value?(B=function(){return this.textContent},F=function(J){this.textContent=J},Object.defineProperty(I,"value",{get:G,set:H})):((C=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(I,"value"))&&C.configurable,document.__lookupGetter__&&I.__lookupGetter__("value")?(B=I.__lookupGetter__("value"),F=I.__lookupSetter__("value"),I.__defineGetter__("value",G),I.__defineSetter__("value",H)):(B=function(){return I.value},F=function(J){I.value=J},E(I.type),D(I))),I._valueGet=function(J){return aH&&J!==!0?B.call(this).split("").reverse().join(""):B.call(this)},I._valueSet=function(J){F.call(this,aH?J.split("").reverse().join(""):J)}}}function c(E,F,H,G){function C(){if(e.keepStatic){ay(!0);var K,L=[],J=x.extend(!0,{},aG().validPositions);for(K=bg();K>=0;K--){var I=aG().validPositions[K];if(I&&(null!=I.match.fn&&L.push(I.input),delete aG().validPositions[K],void 0!=I.alternation&&I.locator[I.alternation]==aY(K).locator[I.alternation])){break}}if(K>-1){for(;L.length>0;){aG().p=bi(bg());var M=x.Event("keypress");M.which=L.pop().charCodeAt(0),aI.call(E,M,!0,!1,!1,aG().p)}}else{aG().validPositions=x.extend(!0,{},J)}}}if((e.numericInput||aH)&&(F==z.keyCode.BACKSPACE?F=z.keyCode.DELETE:F==z.keyCode.DELETE&&(F=z.keyCode.BACKSPACE),aH)){var D=H.end;H.end=H.begin,H.begin=D}F==z.keyCode.BACKSPACE&&(H.end-H.begin<1||0==e.insertMode)?(H.begin=av(H.begin),void 0==aG().validPositions[H.begin]||aG().validPositions[H.begin].input!=e.groupSeparator&&aG().validPositions[H.begin].input!=e.radixPoint||H.begin--):F==z.keyCode.DELETE&&H.begin==H.end&&(H.end=aC(H.end)?H.end+1:bi(H.end)+1,void 0==aG().validPositions[H.begin]||aG().validPositions[H.begin].input!=e.groupSeparator&&aG().validPositions[H.begin].input!=e.radixPoint||H.end++),a7(H.begin,H.end,!1,G),G!==!0&&C();var B=bg(H.begin);B<H.begin?(-1==B&&ay(),aG().p=bi(B)):G!==!0&&(aG().p=H.begin)}function b(D){var E=this,B=x(E),F=D.keyCode,C=aO(E);F==z.keyCode.BACKSPACE||F==z.keyCode.DELETE||s&&127==F||D.ctrlKey&&88==F&&!r("cut")?(D.preventDefault(),88==F&&(m=bk().join("")),c(E,F,C),a3(E,bk(),aG().p,D,m!=bk().join("")),E._valueGet()==a8().join("")?B.trigger("cleared"):a1(bk())===!0&&B.trigger("complete"),e.showTooltip&&B.prop("title",aG().mask)):F==z.keyCode.END||F==z.keyCode.PAGE_DOWN?setTimeout(function(){var G=bi(bg());e.insertMode||G!=aQ()||D.shiftKey||G--,aO(E,D.shiftKey?C.begin:G,G)},0):F==z.keyCode.HOME&&!D.shiftKey||F==z.keyCode.PAGE_UP?aO(E,0,D.shiftKey?C.begin:0):(e.undoOnEscape&&F==z.keyCode.ESCAPE||90==F&&D.ctrlKey)&&D.altKey!==!0?(ba(E,!0,!1,m.split("")),B.click()):F!=z.keyCode.INSERT||D.shiftKey||D.ctrlKey?0!=e.insertMode||D.shiftKey||(F==z.keyCode.RIGHT?setTimeout(function(){var G=aO(E);aO(E,G.begin)},0):F==z.keyCode.LEFT&&setTimeout(function(){var G=aO(E);aO(E,aH?G.begin+1:G.begin-1)},0)):(e.insertMode=!e.insertMode,aO(E,e.insertMode||C.begin!=aQ()?C.begin:C.begin-1)),e.onKeyDown.call(this,D,bk(),aO(E).begin,e),aT=-1!=x.inArray(F,e.ignorables)}function aI(E,P,T,B,L){var J=this,S=x(J),F=E.which||E.charCode||E.keyCode;if(!(P===!0||E.ctrlKey&&E.altKey)&&(E.ctrlKey||E.metaKey||aT)){return !0}if(F){46==F&&0==E.shiftKey&&","==e.radixPoint&&(F=44);var N,M=P?{begin:L,end:L}:aO(J),D=String.fromCharCode(F),R=aM(M.begin,M.end);R&&(aG().undoPositions=x.extend(!0,{},aG().validPositions),c(J,z.keyCode.DELETE,M,!0),M.begin=aG().p,e.insertMode||(e.insertMode=!e.insertMode,a4(M.begin,B),e.insertMode=!e.insertMode),R=!e.multi),aG().writeOutBuffer=!0;var H=aH&&!R?M.end:M.begin,Q=be(H,D,B);if(Q!==!1){if(Q!==!0&&(H=void 0!=Q.pos?Q.pos:H,D=void 0!=Q.c?Q.c:D),ay(!0),void 0!=Q.caret){N=Q.caret}else{var C=aG().validPositions;N=!e.keepStatic&&(void 0!=C[H+1]&&a2(H+1,C[H].locator.slice(),H).length>1||void 0!=C[H].alternation)?H+1:bi(H)}aG().p=N}if(T!==!1){var I=this;if(setTimeout(function(){e.onKeyValidation.call(I,Q,e)},0),aG().writeOutBuffer&&Q!==!1){var G=bk();a3(J,G,P?void 0:e.numericInput?av(N):N,E,P!==!0),P!==!0&&setTimeout(function(){a1(G)===!0&&S.trigger("complete")},0)}else{R&&(aG().buffer=void 0,aG().validPositions=aG().undoPositions)}}else{R&&(aG().buffer=void 0,aG().validPositions=aG().undoPositions)}if(e.showTooltip&&S.prop("title",aG().mask),P&&x.isFunction(e.onBeforeWrite)){var K=e.onBeforeWrite.call(this,E,bk(),N,e);if(K&&K.refreshFromBuffer){var O=K.refreshFromBuffer;a6(O===!0?O:O.start,O.end,K.buffer),ay(!0),K.caret&&(aG().p=K.caret)}}if(E.preventDefault(),P){return Q}}}function aL(I){var E=this,H=x(E),G=E._valueGet(!0),C=aO(E);if("propertychange"==I.type&&E._valueGet().length<=aQ()){return !0}if("paste"==I.type){var F=G.substr(0,C.begin),B=G.substr(C.end,G.length);F==a8().slice(0,C.begin).join("")&&(F=""),B==a8().slice(C.end).join("")&&(B=""),window.clipboardData&&window.clipboardData.getData?G=F+window.clipboardData.getData("Text")+B:I.originalEvent&&I.originalEvent.clipboardData&&I.originalEvent.clipboardData.getData&&(G=F+I.originalEvent.clipboardData.getData("text/plain")+B)}var D=G;if(x.isFunction(e.onBeforePaste)){if(D=e.onBeforePaste.call(E,G,e),D===!1){return I.preventDefault(),!1}D||(D=G)}return ba(E,!1,!1,aH?D.split("").reverse():D.split("")),a3(E,bk(),void 0,I,!0),H.click(),a1(bk())===!0&&H.trigger("complete"),!1}function aP(B){var C=this;ba(C,!0,!1),a1(bk())===!0&&x(C).trigger("complete"),B.preventDefault()}function g(B){var C=this;m=bk().join(""),(""==aU||0!=B.originalEvent.data.indexOf(aU))&&(j=aO(C))}function au(B){var F=this,E=aO(F);0==B.originalEvent.data.indexOf(aU)&&(ay(),E=j);var C=B.originalEvent.data;aO(F,E.begin,E.end);for(var D=0;D<C.length;D++){var G=x.Event("keypress");G.which=C.charCodeAt(D),aV=!1,aT=!1,aI.call(F,G)}setTimeout(function(){var H=aG().p;a3(F,bk(),e.numericInput?av(H):H)},0),aU=B.originalEvent.data}function d(B){}function ax(D){aN=x(D),e.showTooltip&&aN.prop("title",aG().mask),("rtl"==D.dir||e.rightAlign)&&aN.css("text-align","right"),("rtl"==D.dir||e.numericInput)&&(D.dir="ltr",aN.removeAttr("dir"),D.inputmask.isRTL=!0,aH=!0),aN.unbind(".inputmask"),(aN.is(":input")&&o(aN.attr("type"))||D.isContentEditable)&&(aN.closest("form").bind("submit",function(G){m!=bk().join("")&&aN.change(),e.clearMaskOnLostFocus&&aN[0]._valueGet&&aN[0]._valueGet()==a8().join("")&&aN[0]._valueSet(""),e.removeMaskOnSubmit&&aN.inputmask("remove")}).bind("reset",function(){setTimeout(function(){aN.triggerHandler("setvalue.inputmask")},0)}),aN.bind("mouseenter.inputmask",function(){var H=x(this),G=this;bc=!0,!H.is(":focus")&&e.showMaskOnHover&&G._valueGet()!=bk().join("")&&a3(G,bk())}).bind("blur.inputmask",function(J){var H=x(this),K=this;if(K.inputmask){var I=K._valueGet(),G=bk().slice();aJ=!0,m!=G.join("")&&setTimeout(function(){H.change(),m=G.join("")},0),""!=I&&(e.clearMaskOnLostFocus&&(I==a8().join("")?G=[]:n(G)),a1(G)===!1&&(setTimeout(function(){H.trigger("incomplete")},0),e.clearIncomplete&&(ay(),G=e.clearMaskOnLostFocus?[]:a8().slice())),a3(K,G,void 0,J))}}).bind("focus.inputmask",function(I){var G=(x(this),this),H=G._valueGet();e.showMaskOnFocus&&(!e.showMaskOnHover||e.showMaskOnHover&&""==H)?G._valueGet()!=bk().join("")&&a3(G,bk(),bi(bg())):bc===!1&&aO(G,bi(bg())),e.positionCaretOnTab===!0&&setTimeout(function(){aO(G,bi(bg()))},0),m=bk().join("")}).bind("mouseleave.inputmask",function(){var H=x(this),J=this;if(bc=!1,e.clearMaskOnLostFocus){var G=bk().slice(),I=J._valueGet();H.is(":focus")||I==H.attr("placeholder")||""==I||(I==a8().join("")?G=[]:n(G),a3(J,G))}}).bind("click.inputmask",function(){var H=x(this),K=this;if(H.is(":focus")){var I=aO(K);if(I.begin==I.end){if(e.radixFocus&&""!=e.radixPoint&&-1!=x.inArray(e.radixPoint,bk())&&(aJ||bk().join("")==a8().join(""))){aO(K,x.inArray(e.radixPoint,bk())),aJ=!1}else{var J=I.begin,G=bi(bg(J));G>J?aO(K,aC(J)?J:bi(J)):aO(K,e.numericInput?0:G)}}}}).bind("dblclick.inputmask",function(){var G=this;setTimeout(function(){aO(G,0,bi(bg()))},0)}).bind(u+".inputmask dragdrop.inputmask drop.inputmask",aL).bind("cut.inputmask",function(K){bf=!0;var G=this,H=x(G),I=aO(G);if(aH){var J=window.clipboardData||K.originalEvent.clipboardData,L=J.getData("text").split("").reverse().join("");J.setData("text",L)}c(G,z.keyCode.DELETE,I),a3(G,bk(),aG().p,K,m!=bk().join("")),G._valueGet()==a8().join("")&&H.trigger("cleared"),e.showTooltip&&H.prop("title",aG().mask)}).bind("complete.inputmask",e.oncomplete).bind("incomplete.inputmask",e.onincomplete).bind("cleared.inputmask",e.oncleared),aN.bind("keydown.inputmask",b).bind("keypress.inputmask",aI),p||aN.bind("compositionstart.inputmask",g).bind("compositionupdate.inputmask",au).bind("compositionend.inputmask",d),"paste"===u&&aN.bind("input.inputmask",aP)),aN.bind("setvalue.inputmask",function(){var G=this,H=G._valueGet();G._valueSet(x.isFunction(e.onBeforeMask)?e.onBeforeMask.call(G,H,e)||H:H),ba(G,!0,!1),m=bk().join(""),(e.clearMaskOnLostFocus||e.clearIncomplete)&&G._valueGet()==a8().join("")&&G._valueSet("")}),aK(D);var F=x.isFunction(e.onBeforeMask)?e.onBeforeMask.call(D,D._valueGet(),e)||D._valueGet():D._valueGet();ba(D,!0,!1,F.split(""));var E=bk().slice();m=E.join("");var C;try{C=document.activeElement}catch(B){}a1(E)===!1&&e.clearIncomplete&&ay(),e.clearMaskOnLostFocus&&(E.join("")==a8().join("")?E=[]:n(E)),a3(D,E),C===D&&aO(D,bi(bg())),aS(D)}var m,j,aU,h,aN,bb,aH=!1,aV=!1,bf=!1,aT=!1,aJ=!0,bc=!0;if(void 0!=bd){switch(bd.action){case"isComplete":return h=bd.el,aN=x(h),aW=h.inputmask.maskset,e=h.inputmask.opts,a1(bd.buffer);case"unmaskedvalue":if(h=bd.el,void 0==h){aN=x({}),h=aN[0],h.inputmask=new z(),h.inputmask.opts=e,h.inputmask.el=h,h.inputmask.maskset=aW,h.inputmask.isRTL=e.numericInput,e.numericInput&&(aH=!0);var bh=(x.isFunction(e.onBeforeMask)?e.onBeforeMask.call(aN,bd.value,e)||bd.value:bd.value).split("");ba(aN,!1,!1,aH?bh.reverse():bh),x.isFunction(e.onBeforeWrite)&&e.onBeforeWrite.call(this,void 0,bk(),0,e)}else{aN=x(h)}return aW=h.inputmask.maskset,e=h.inputmask.opts,aH=h.inputmask.isRTL,bl(aN);case"mask":m=bk().join(""),ax(bd.el);break;case"format":aN=x({}),aN[0].inputmask=new z(),aN[0].inputmask.opts=e,aN[0].inputmask.el=aN[0],aN[0].inputmask.maskset=aW,aN[0].inputmask.isRTL=e.numericInput,e.numericInput&&(aH=!0);var bh=(x.isFunction(e.onBeforeMask)?e.onBeforeMask.call(aN,bd.value,e)||bd.value:bd.value).split("");return ba(aN,!1,!1,aH?bh.reverse():bh),x.isFunction(e.onBeforeWrite)&&e.onBeforeWrite.call(this,void 0,bk(),0,e),bd.metadata?{value:aH?bk().slice().reverse().join(""):bk().join(""),metadata:aN.inputmask("getmetadata")}:aH?bk().slice().reverse().join(""):bk().join("");case"isValid":aN=x({}),aN[0].inputmask=new z(),aN[0].inputmask.opts=e,aN[0].inputmask.el=aN[0],aN[0].inputmask.maskset=aW,aN[0].inputmask.isRTL=e.numericInput,e.numericInput&&(aH=!0);var bh=bd.value.split("");ba(aN,!1,!0,aH?bh.reverse():bh);for(var aw=bk(),aZ=a0(),aE=aw.length-1;aE>aZ&&!aC(aE);aE--){}return aw.splice(aZ,aE+1-aZ),a1(aw)&&bd.value==aw.join("");case"getemptymask":return h=bd.el,aN=x(h),aW=h.inputmask.maskset,e=h.inputmask.opts,a8();case"remove":h=bd.el,aN=x(h),aW=h.inputmask.maskset,e=h.inputmask.opts,h._valueSet(bl(aN)),aN.unbind(".inputmask"),h.inputmask=void 0;var aF;Object.getOwnPropertyDescriptor&&(aF=Object.getOwnPropertyDescriptor(h,"value")),aF&&aF.get?h._valueGet&&Object.defineProperty(h,"value",{get:h._valueGet,set:h._valueSet}):document.__lookupGetter__&&h.__lookupGetter__("value")&&h._valueGet&&(h.__defineGetter__("value",h._valueGet),h.__defineSetter__("value",h._valueSet));try{delete h._valueGet,delete h._valueSet}catch(f){h._valueGet=void 0,h._valueSet=void 0}break;case"getmetadata":if(h=bd.el,aN=x(h),aW=h.inputmask.maskset,e=h.inputmask.opts,x.isArray(aW.metadata)){for(var aR,aD=bg(),a5=aD;a5>=0;a5--){if(aG().validPositions[a5]&&void 0!=aG().validPositions[a5].alternation){aR=aG().validPositions[a5].alternation;break}}return void 0!=aR?aW.metadata[aG().validPositions[aD].locator[aR]]:aW.metadata[0]}return aW.metadata}}}z.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:x.noop,onincomplete:x.noop,oncleared:x.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:x.noop,onBeforeMask:void 0,onBeforePaste:void 0,onBeforeWrite:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:x.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,positionCaretOnTab:!1,definitions:{"9":{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,canClearPosition:x.noop,postValidation:void 0},masksCache:{},mask:function(b){var c=b.jquery&&b.length>0?b[0]:b,d=x.extend(!0,{},this.opts);q(b,d,x.extend(!0,{},this.userOptions));var a=y(d,this.noMasksCache);return void 0!=a&&(c.inputmask=new z(),c.inputmask.opts=d,c.inputmask.noMasksCache=this.noMasksCache,c.inputmask.el=c,c.inputmask.maskset=a,c.inputmask.isRTL=!1,w({action:"mask",el:c},a,c.inputmask.opts)),b},unmaskedvalue:function(){return this.el?w({action:"unmaskedvalue",el:this.el}):void 0},remove:function(){return this.el?(w({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return this.el?w({action:"getemptymask",el:this.el}):void 0},hasMaskedValue:function(){return !this.opts.autoUnmask},isComplete:function(){return this.el?w({action:"isComplete",buffer:this.el._valueGet().split(""),el:this.el}):void 0},getmetadata:function(){return this.el?w({action:"getmetadata",el:this.el}):void 0}},z.extendDefaults=function(a){x.extend(z.prototype.defaults,a)},z.extendDefinitions=function(a){x.extend(z.prototype.defaults.definitions,a)},z.extendAliases=function(a){x.extend(z.prototype.defaults.aliases,a)},z.format=function(a,d,c){var b=x.extend(!0,{},z.prototype.defaults,d);return v(b.alias,d,b),w({action:"format",value:a,metadata:c},y(b,d&&void 0!==d.definitions),b)},z.unmask=function(a,c){var b=x.extend(!0,{},z.prototype.defaults,c);return v(b.alias,c,b),w({action:"unmaskedvalue",value:a},y(b,c&&void 0!==c.definitions),b)},z.isValid=function(a,c){var b=x.extend(!0,{},z.prototype.defaults,c);return v(b.alias,c,b),w({action:"isValid",value:a},y(b,c&&void 0!==c.definitions),b)},z.escapeRegex=function(a){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return a.replace(new RegExp("(\\"+b.join("|\\")+")","gim"),"\\$1")},z.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91};var A=navigator.userAgent,s=null!==A.match(new RegExp("iphone","i")),t=(null!==A.match(new RegExp("android.*safari.*","i")),null!==A.match(new RegExp("android.*chrome.*","i"))),p=null!==A.match(new RegExp("android.*firefox.*","i")),u=(/Kindle/i.test(A)||/Silk/i.test(A)||/KFTT/i.test(A)||/KFOT/i.test(A)||/KFJWA/i.test(A)||/KFJWI/i.test(A)||/KFSOWI/i.test(A)||/KFTHWA/i.test(A)||/KFTHWI/i.test(A)||/KFAPWA/i.test(A)||/KFAPWI/i.test(A),r("paste")?"paste":r("input")?"input":"propertychange");return window.inputmask=z,z}(jQuery),function(b){return void 0===b.fn.inputmask&&(b.fn.inputmask=function(g,h){var f;if(h=h||{},"string"==typeof g){switch(g){case"mask":return f=new inputmask(h),this.each(function(){f.mask(this)});case"unmaskedvalue":var a=this.jquery&&this.length>0?this[0]:this;return a.inputmask?a.inputmask.unmaskedvalue():b(a).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":var a=this.jquery&&this.length>0?this[0]:this;return a.inputmask?a.inputmask.getemptymask():"";case"hasMaskedValue":var a=this.jquery&&this.length>0?this[0]:this;return a.inputmask?a.inputmask.hasMaskedValue():!1;case"isComplete":var a=this.jquery&&this.length>0?this[0]:this;return a.inputmask?a.inputmask.isComplete():!0;case"getmetadata":var a=this.jquery&&this.length>0?this[0]:this;return a.inputmask?a.inputmask.getmetadata():void 0;default:return h.alias=g,f=new inputmask(h),this.each(function(){f.mask(this)})}}else{if("object"==typeof g){return f=new inputmask(g),this.each(function(){f.mask(this)})}if(void 0==g){return this.each(function(){f=new inputmask(h),f.mask(this)})}}}),b.fn.inputmask}(jQuery),function(b){return inputmask.extendDefinitions({h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),inputmask.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(d){var a=inputmask.escapeRegex.call(this,d);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+a+"[01])")},val2:function(d){var a=inputmask.escapeRegex.call(this,d);return new RegExp("((0[1-9]|[12][0-9])"+a+"(0[1-9]|1[012]))|(30"+a+"(0[13-9]|1[012]))|(31"+a+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(h,a,k){if(isNaN(h)){return !1}var j=parseInt(h.concat(a.toString().slice(h.length))),g=parseInt(h.concat(k.toString().slice(h.length)));return(isNaN(j)?!1:j>=a&&k>=j)||(isNaN(g)?!1:g>=a&&k>=g)},determinebaseyear:function(o,m,k){var l=new Date().getFullYear();if(o>l){return o}if(l>m){for(var a=m.toString().slice(0,2),j=m.toString().slice(2,4);a+k>m;){a--}var n=a+j;return o>n?o:n}return l},onKeyDown:function(j,a,l,k){var e=b(this);if(j.ctrlKey&&j.keyCode==inputmask.keyCode.RIGHT){var m=new Date();e.val(m.getDate().toString()+(m.getMonth()+1).toString()+m.getFullYear().toString()),e.triggerHandler("setvalue.inputmask")}},getFrontValue:function(o,a,k){for(var j=0,l=0,m=0;m<o.length&&"2"!=o.charAt(m);m++){var n=k.definitions[o.charAt(m)];n?(j+=l,l=n.cardinality):l++}return a.join("").substr(j,l)},definitions:{"1":{validator:function(m,j,h,a,l){var k=l.regex.val1.test(m);return a||k||m.charAt(1)!=l.separator&&-1=="-./".indexOf(m.charAt(1))||!(k=l.regex.val1.test("0"+m.charAt(0)))?k:(j.buffer[h-1]="0",{refreshFromBuffer:{start:h-1,end:h},pos:h,c:m.charAt(0)})},cardinality:2,prevalidator:[{validator:function(o,k,j,a,m){var n=o;isNaN(k.buffer[j+1])||(n+=k.buffer[j+1]);var l=1==n.length?m.regex.val1pre.test(n):m.regex.val1.test(n);if(!a&&!l){if(l=m.regex.val1.test(o+"0")){return k.buffer[j]=o,k.buffer[++j]="0",{pos:j,c:"0"}}if(l=m.regex.val1.test("0"+o)){return k.buffer[j]="0",j++,{pos:j}}}return l},cardinality:1}]},"2":{validator:function(q,m,o,n,s){var r=s.getFrontValue(m.mask,m.buffer,s);-1!=r.indexOf(s.placeholder[0])&&(r="01"+s.separator);var a=s.regex.val2(s.separator).test(r+q);if(!n&&!a&&(q.charAt(1)==s.separator||-1!="-./".indexOf(q.charAt(1)))&&(a=s.regex.val2(s.separator).test(r+"0"+q.charAt(0)))){return m.buffer[o-1]="0",{refreshFromBuffer:{start:o-1,end:o},pos:o,c:q.charAt(0)}}if(s.mask.indexOf("2")==s.mask.length-1&&a){var l=m.buffer.join("").substr(4,4)+q;if(l!=s.leapday){return !0}var p=parseInt(m.buffer.join("").substr(0,4),10);return p%4===0?p%100===0?p%400===0?!0:!1:!0:!1}return a},cardinality:2,prevalidator:[{validator:function(o,k,j,a,n){isNaN(k.buffer[j+1])||(o+=k.buffer[j+1]);var l=n.getFrontValue(k.mask,k.buffer,n);-1!=l.indexOf(n.placeholder[0])&&(l="01"+n.separator);var m=1==o.length?n.regex.val2pre(n.separator).test(l+o):n.regex.val2(n.separator).test(l+o);return a||m||!(m=n.regex.val2(n.separator).test(l+"0"+o))?m:(k.buffer[j]="0",j++,{pos:j})},cardinality:1}]},y:{validator:function(o,l,j,a,m){if(m.isInYearRange(o,m.yearrange.minyear,m.yearrange.maxyear)){var k=l.buffer.join("").substr(0,6);if(k!=m.leapday){return !0}var n=parseInt(o,10);return n%4===0?n%100===0?n%400===0?!0:!1:!0:!1}return !1},cardinality:4,prevalidator:[{validator:function(n,k,j,o,m){var l=m.isInYearRange(n,m.yearrange.minyear,m.yearrange.maxyear);if(!o&&!l){var a=m.determinebaseyear(m.yearrange.minyear,m.yearrange.maxyear,n+"0").toString().slice(0,1);if(l=m.isInYearRange(a+n,m.yearrange.minyear,m.yearrange.maxyear)){return k.buffer[j++]=a.charAt(0),{pos:j}}if(a=m.determinebaseyear(m.yearrange.minyear,m.yearrange.maxyear,n+"0").toString().slice(0,2),l=m.isInYearRange(a+n,m.yearrange.minyear,m.yearrange.maxyear)){return k.buffer[j++]=a.charAt(0),k.buffer[j++]=a.charAt(1),{pos:j}}}return l},cardinality:1},{validator:function(r,m,o,n,s){var a=s.isInYearRange(r,s.yearrange.minyear,s.yearrange.maxyear);if(!n&&!a){var q=s.determinebaseyear(s.yearrange.minyear,s.yearrange.maxyear,r).toString().slice(0,2);if(a=s.isInYearRange(r[0]+q[1]+r[1],s.yearrange.minyear,s.yearrange.maxyear)){return m.buffer[o++]=q.charAt(1),{pos:o}}if(q=s.determinebaseyear(s.yearrange.minyear,s.yearrange.maxyear,r).toString().slice(0,2),s.isInYearRange(q+r,s.yearrange.minyear,s.yearrange.maxyear)){var l=m.buffer.join("").substr(0,6);if(l!=s.leapday){a=!0}else{var p=parseInt(r,10);a=p%4===0?p%100===0?p%400===0?!0:!1:!0:!1}}else{a=!1}if(a){return m.buffer[o-1]=q.charAt(0),m.buffer[o++]=q.charAt(1),m.buffer[o++]=r.charAt(0),{refreshFromBuffer:{start:o-3,end:o},pos:o}}}return a},cardinality:2},{validator:function(k,h,g,a,j){return j.isInYearRange(k,j.yearrange.minyear,j.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(d){var a=inputmask.escapeRegex.call(this,d);return new RegExp("((0[13-9]|1[012])"+a+"[0-3])|(02"+a+"[0-2])")},val2:function(d){var a=inputmask.escapeRegex.call(this,d);return new RegExp("((0[1-9]|1[012])"+a+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+a+"30)|((0[13578]|1[02])"+a+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(j,a,l,k){var e=b(this);if(j.ctrlKey&&j.keyCode==inputmask.keyCode.RIGHT){var m=new Date();e.val((m.getMonth()+1).toString()+m.getDate().toString()+m.getFullYear().toString()),e.triggerHandler("setvalue.inputmask")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(j,a,l,k){var e=b(this);if(j.ctrlKey&&j.keyCode==inputmask.keyCode.RIGHT){var m=new Date();e.val(m.getFullYear().toString()+(m.getMonth()+1).toString()+m.getDate().toString()),e.triggerHandler("setvalue.inputmask")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(n,k,j,a,m){if("24"==m.hourFormat&&24==parseInt(n,10)){return k.buffer[j-1]="0",k.buffer[j]="0",{refreshFromBuffer:{start:j-1,end:j},c:"0"}}var l=m.regex.hrs.test(n);if(!a&&!l&&(n.charAt(1)==m.timeseparator||-1!="-.:".indexOf(n.charAt(1)))&&(l=m.regex.hrs.test("0"+n.charAt(0)))){return k.buffer[j-1]="0",k.buffer[j]=n.charAt(0),j++,{refreshFromBuffer:{start:j-2,end:j},pos:j,c:m.timeseparator}}if(l&&"24"!==m.hourFormat&&m.regex.hrs24.test(n)){var o=parseInt(n,10);return 24==o?(k.buffer[j+5]="a",k.buffer[j+6]="m"):(k.buffer[j+5]="p",k.buffer[j+6]="m"),o-=12,10>o?(k.buffer[j]=o.toString(),k.buffer[j-1]="0"):(k.buffer[j]=o.toString().charAt(1),k.buffer[j-1]=o.toString().charAt(0)),{refreshFromBuffer:{start:j-1,end:j+6},c:k.buffer[j]}}return l},cardinality:2,prevalidator:[{validator:function(m,j,h,a,l){var k=l.regex.hrspre.test(m);return a||k||!(k=l.regex.hrs.test("0"+m))?k:(j.buffer[h]="0",h++,{pos:h})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(m,j,h,a,l){var k=l.regex.mspre.test(m);return a||k||!(k=l.regex.ms.test("0"+m))?k:(j.buffer[h]="0",h++,{pos:h})},cardinality:1}]},t:{validator:function(k,h,g,a,j){return j.regex.ampm.test(k+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(d){var a=inputmask.escapeRegex.call(this,d);return new RegExp("((0[1-9]|1[012])"+a+"[0-3])")},val2:function(d){var a=inputmask.escapeRegex.call(this,d);return new RegExp("((0[1-9]|1[012])"+a+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+a+"30)|((0[1-6])"+a+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}}),inputmask}(jQuery),function(b){return inputmask.extendDefinitions({A:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),inputmask.extendAliases({url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(k,h,g,a,j){return !0},cardinality:8,prevalidator:function(){for(var a=[],e=8,f=0;e>f;f++){a[f]=function(){var c=f;return{validator:function(p,u,t,s,k){if(k.regex["urlpre"+(c+1)]){var r,q=p;c+1-p.length>0&&(q=u.buffer.join("").substring(0,c+1-p.length)+""+q);var d=k.regex["urlpre"+(c+1)].test(q);if(!s&&!d){for(t-=c,r=0;r<k.defaultPrefix.length;r++){u.buffer[t]=k.defaultPrefix[r],t++}for(r=0;r<q.length-1;r++){u.buffer[t]=q[r],t++}return{pos:t}}return d}return !1},cardinality:c}}()}return a}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(k,h,g,a,j){return g-1>-1&&"."!=h.buffer[g-1]?(k=h.buffer[g-1]+k,k=g-2>-1&&"."!=h.buffer[g-2]?h.buffer[g-2]+k:"0"+k):k="00"+k,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(k)},cardinality:1}}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(a,d){return a=a.toLowerCase(),a.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}}}}),inputmask}(jQuery),function(b){return inputmask.extendAliases({numeric:{mask:function(j){function g(e){for(var d="",c=0;c<e.length;c++){d+=j.definitions[e[c]]?"\\"+e[c]:e[c]}return d}if(0!==j.repeat&&isNaN(j.integerDigits)&&(j.integerDigits=j.repeat),j.repeat=0,j.groupSeparator==j.radixPoint&&("."==j.radixPoint?j.groupSeparator=",":","==j.radixPoint?j.groupSeparator=".":j.groupSeparator="")," "===j.groupSeparator&&(j.skipOptionalPartCharacter=void 0),j.autoGroup=j.autoGroup&&""!=j.groupSeparator,j.autoGroup&&("string"==typeof j.groupSize&&isFinite(j.groupSize)&&(j.groupSize=parseInt(j.groupSize)),isFinite(j.integerDigits))){var h=Math.floor(j.integerDigits/j.groupSize),k=j.integerDigits%j.groupSize;j.integerDigits=parseInt(j.integerDigits)+(0==k?h-1:h)}j.placeholder.length>1&&(j.placeholder=j.placeholder.charAt(0)),j.definitions[";"]=j.definitions["~"],j.definitions[";"].definitionSymbol="~",1==j.numericInput&&(j.radixFocus=!1,j.digitsOptional=!1,isNaN(j.digits)&&(j.digits=2),j.decimalProtect=!1);var a=g(j.prefix);return a+="[+]",a+="~{1,"+j.integerDigits+"}",void 0!=j.digits&&(isNaN(j.digits)||parseInt(j.digits)>0)&&(a+=j.digitsOptional?"["+(j.decimalProtect?":":j.radixPoint)+";{"+j.digits+"}]":(j.decimalProtect?":":j.radixPoint)+";{"+j.digits+"}"),""!=j.negationSymbol.back&&(a+="[-]"),a+=g(j.suffix),j.greedy=!1,a},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",radixFocus:!0,groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:void 0,max:void 0,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(w,a,C,F){F.numericInput===!0&&(w=w.reverse(),isFinite(a)&&(a=w.join("").length-a-1));var G=!1;w.length>=F.suffix.length&&w.join("").indexOf(F.suffix)==w.length-F.suffix.length&&(w.length=w.length-F.suffix.length,G=!0),a=a>=w.length?w.length-1:a<F.prefix.length?F.prefix.length:a;var x=!1,t=w[a];if(""==F.groupSeparator||F.numericInput!==!0&&-1!=b.inArray(F.radixPoint,w)&&a>b.inArray(F.radixPoint,w)||new RegExp("["+inputmask.escapeRegex(F.negationSymbol.front)+"+]").test(t)){if(G){for(var v=0,B=F.suffix.length;B>v;v++){w.push(F.suffix.charAt(v))}}return{pos:a}}var z=w.slice();t==F.groupSeparator&&(z.splice(a--,1),t=z[a]),C?t!=F.radixPoint&&(z[a]="?"):z.splice(a,0,"?");var u=z.join(""),A=u;if(u.length>0&&F.autoGroup||C&&-1!=u.indexOf(F.groupSeparator)){var y=inputmask.escapeRegex(F.groupSeparator);x=0==u.indexOf(F.groupSeparator),u=u.replace(new RegExp(y,"g"),"");var D=u.split(F.radixPoint);if(u=""==F.radixPoint?u:D[0],u!=F.prefix+"?0"&&u.length>=F.groupSize+F.prefix.length){for(var E=new RegExp("([-+]?[\\d?]+)([\\d?]{"+F.groupSize+"})");E.test(u);){u=u.replace(E,"$1"+F.groupSeparator+"$2"),u=u.replace(F.groupSeparator+F.groupSeparator,F.groupSeparator)}}""!=F.radixPoint&&D.length>1&&(u+=F.radixPoint+D[1])}x=A!=u,w.length=u.length;for(var v=0,B=u.length;B>v;v++){w[v]=u.charAt(v)}var l=b.inArray("?",w);if(-1==l&&t==F.radixPoint&&(l=b.inArray(F.radixPoint,w)),C?w[l]=t:w.splice(l,1),!x&&G){for(var v=0,B=F.suffix.length;B>v;v++){w.push(F.suffix.charAt(v))}}return{pos:F.numericInput&&isFinite(a)?w.join("").length-l-1:l,refreshFromBuffer:x,buffer:F.numericInput===!0?w.reverse():w}},onBeforeWrite:function(p,t,q,w){if(p&&"blur"==p.type){var x=t.join(""),a=x.replace(w.prefix,"");if(a=a.replace(w.suffix,""),a=a.replace(new RegExp(inputmask.escapeRegex(w.groupSeparator),"g"),""),","===w.radixPoint&&(a=a.replace(inputmask.escapeRegex(w.radixPoint),".")),isFinite(a)&&isFinite(w.min)&&parseFloat(a)<parseFloat(w.min)){return b.extend(!0,{refreshFromBuffer:!0,buffer:(w.prefix+w.min).split("")},w.postFormat((w.prefix+w.min).split(""),0,!0,w))}if(w.numericInput!==!0){var u=""!=w.radixPoint?t.join("").split(w.radixPoint):[t.join("")],v=u[0].match(w.regex.integerPart(w)),y=2==u.length?u[1].match(w.regex.integerNPart(w)):void 0;!v||v[0]!=w.negationSymbol.front+"0"&&v[0]!=w.negationSymbol.front&&"+"!=v[0]||void 0!=y&&!y[0].match(/^0+$/)||t.splice(v.index,1);var r=b.inArray(w.radixPoint,t);if(-1!=r){if(isFinite(w.digits)&&!w.digitsOptional){for(var s=1;s<=w.digits;s++){(void 0==t[r+s]||t[r+s]==w.placeholder.charAt(0))&&(t[r+s]="0")}return{refreshFromBuffer:!0,buffer:t}}if(r==t.length-w.suffix.length-1){return t.splice(r,1),{refreshFromBuffer:!0,buffer:t}}}}}if(w.autoGroup){var e=w.postFormat(t,q-1,!0,w);return e.caret=q<=w.prefix.length?e.pos:e.pos+1,e}},regex:{integerPart:function(a){return new RegExp("["+inputmask.escapeRegex(a.negationSymbol.front)+"+]?\\d+")},integerNPart:function(a){return new RegExp("[\\d"+inputmask.escapeRegex(a.groupSeparator)+"]+")}},signHandler:function(m,j,h,a,k){if(!a&&k.allowMinus&&"-"===m||k.allowPlus&&"+"===m){var l=j.buffer.join("").match(k.regex.integerPart(k));if(l&&l[0].length>0){return j.buffer[l.index]==("-"===m?"+":k.negationSymbol.front)?"-"==m?""!=k.negationSymbol.back?{pos:l.index,c:k.negationSymbol.front,remove:l.index,caret:h,insert:{pos:j.buffer.length-k.suffix.length-1,c:k.negationSymbol.back}}:{pos:l.index,c:k.negationSymbol.front,remove:l.index,caret:h}:""!=k.negationSymbol.back?{pos:l.index,c:"+",remove:[l.index,j.buffer.length-k.suffix.length-1],caret:h}:{pos:l.index,c:"+",remove:l.index,caret:h}:j.buffer[l.index]==("-"===m?k.negationSymbol.front:"+")?"-"==m&&""!=k.negationSymbol.back?{remove:[l.index,j.buffer.length-k.suffix.length-1],caret:h-1}:{remove:l.index,caret:h-1}:"-"==m?""!=k.negationSymbol.back?{pos:l.index,c:k.negationSymbol.front,caret:h+1,insert:{pos:j.buffer.length-k.suffix.length,c:k.negationSymbol.back}}:{pos:l.index,c:k.negationSymbol.front,caret:h+1}:{pos:l.index,c:m,caret:h+1}}}return !1},radixHandler:function(m,k,j,o,l){if(!o&&(-1!=b.inArray(m,[",","."])&&(m=l.radixPoint),m===l.radixPoint&&void 0!=l.digits&&(isNaN(l.digits)||parseInt(l.digits)>0))){var a=b.inArray(l.radixPoint,k.buffer),n=k.buffer.join("").match(l.regex.integerPart(l));if(-1!=a&&k.validPositions[a]){return k.validPositions[a-1]?{caret:a+1}:{pos:n.index,c:n[0],caret:a+1}}if(!n||"0"==n[0]&&n.index+1!=j){return k.buffer[n?n.index:j]="0",{pos:(n?n.index:j)+1,c:l.radixPoint}}}return !1},leadingZeroHandler:function(q,a,o,m,t){if(1==t.numericInput){if("0"==a.buffer[a.buffer.length-t.prefix.length-1]){return{pos:o,remove:a.buffer.length-t.prefix.length-1}}}else{var s=a.buffer.join("").match(t.regex.integerNPart(t)),p=b.inArray(t.radixPoint,a.buffer);if(s&&!m&&(-1==p||p>=o)){if(0==s[0].indexOf("0")){o<t.prefix.length&&(o=s.index);var n=b.inArray(t.radixPoint,a._buffer),r=a._buffer&&a.buffer.slice(p).join("")==a._buffer.slice(n).join("")||0==parseInt(a.buffer.slice(p+1).join("")),u=a._buffer&&a.buffer.slice(s.index,p).join("")==a._buffer.slice(t.prefix.length,n).join("")||"0"==a.buffer.slice(s.index,p).join("");if(-1==p||r&&u){return a.buffer.splice(s.index,1),o=o>s.index?o-1:s.index,{pos:o,remove:s.index}}if(s.index+1==o||"0"==q){return a.buffer.splice(s.index,1),o=s.index,{pos:o,remove:s.index}}}else{if("0"===q&&o<=s.index&&s[0]!=t.groupSeparator){return !1}}}}return !0},postValidation:function(a,j){var g=!0,h=a.join(""),k=h.replace(j.prefix,"");return k=k.replace(j.suffix,""),k=k.replace(new RegExp(inputmask.escapeRegex(j.groupSeparator),"g"),""),","===j.radixPoint&&(k=k.replace(inputmask.escapeRegex(j.radixPoint),".")),k=k.replace(new RegExp("^"+inputmask.escapeRegex(j.negationSymbol.front)),"-"),k=k.replace(new RegExp(inputmask.escapeRegex(j.negationSymbol.back)+"$"),""),k=k==j.negationSymbol.front?k+"0":k,isFinite(k)&&(isFinite(j.max)&&(g=parseFloat(k)<=parseFloat(j.max)),g&&isFinite(j.min)&&(0>=k||k.toString().length>=j.min.toString().length)&&(g=parseFloat(k)>=parseFloat(j.min),g||(g=b.extend(!0,{refreshFromBuffer:!0,buffer:(j.prefix+j.min).split("")},j.postFormat((j.prefix+j.min).split(""),0,!0,j)),g.refreshFromBuffer=!0))),g},definitions:{"~":{validator:function(o,k,j,a,n){var l=n.signHandler(o,k,j,a,n);if(!l&&(l=n.radixHandler(o,k,j,a,n),!l&&(l=a?new RegExp("[0-9"+inputmask.escapeRegex(n.groupSeparator)+"]").test(o):new RegExp("[0-9]").test(o),l===!0&&(l=n.leadingZeroHandler(o,k,j,a,n),l===!0)))){var m=b.inArray(n.radixPoint,k.buffer);l=-1!=m&&n.digitsOptional===!1&&j>m&&!a?{pos:j,remove:j}:{pos:j}}return l},cardinality:1,prevalidator:null},"+":{validator:function(m,j,h,a,l){var k=l.signHandler(m,j,h,a,l);return !k&&(a&&l.allowMinus&&m===l.negationSymbol.front||l.allowMinus&&"-"==m||l.allowPlus&&"+"==m)&&(k="-"==m?""!=l.negationSymbol.back?{pos:h,c:"-"===m?l.negationSymbol.front:"+",caret:h+1,insert:{pos:j.buffer.length,c:l.negationSymbol.back}}:{pos:h,c:"-"===m?l.negationSymbol.front:"+",caret:h+1}:!0),k},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(m,j,h,a,l){var k=l.signHandler(m,j,h,a,l);return !k&&a&&l.allowMinus&&m===l.negationSymbol.back&&(k=!0),k},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(o,k,j,a,m){var l=m.signHandler(o,k,j,a,m);if(!l){var n="["+inputmask.escapeRegex(m.radixPoint)+",\\.]";l=new RegExp(n).test(o),l&&k.validPositions[j]&&k.validPositions[j].match.placeholder==m.radixPoint&&(l={caret:j+1})}return l?{c:m.radixPoint}:l},cardinality:1,prevalidator:null,placeholder:function(a){return a.radixPoint}}},onUnMask:function(f,a,g){var h=f.replace(g.prefix,"");return h=h.replace(g.suffix,""),h=h.replace(new RegExp(inputmask.escapeRegex(g.groupSeparator),"g"),""),g.unmaskAsNumber?(h=h.replace(inputmask.escapeRegex.call(this,g.radixPoint),"."),Number(h)):h},isComplete:function(k,h){var g=k.join(""),a=k.slice();if(h.postFormat(a,0,!0,h),a.join("")!=g){return !1}var j=g.replace(h.prefix,"");return j=j.replace(h.suffix,""),j=j.replace(new RegExp(inputmask.escapeRegex(h.groupSeparator),"g"),""),","===h.radixPoint&&(j=j.replace(inputmask.escapeRegex(h.radixPoint),".")),isFinite(j)},onBeforeMask:function(n,l){if(""!=l.radixPoint&&isFinite(n)){n=n.toString().replace(".",l.radixPoint)}else{var o=n.match(/,/g),j=n.match(/\./g);j&&o?j.length>o.length?(n=n.replace(/\./g,""),n=n.replace(",",l.radixPoint)):o.length>j.length?(n=n.replace(/,/g,""),n=n.replace(".",l.radixPoint)):n=n.indexOf(".")<n.indexOf(",")?n.replace(/\./g,""):n=n.replace(/,/g,""):n=n.replace(new RegExp(inputmask.escapeRegex(l.groupSeparator),"g"),"")}if(0==l.digits&&(-1!=n.indexOf(".")?n=n.substring(0,n.indexOf(".")):-1!=n.indexOf(",")&&(n=n.substring(0,n.indexOf(",")))),""!=l.radixPoint&&isFinite(l.digits)&&-1!=n.indexOf(l.radixPoint)){var m=n.split(l.radixPoint),k=m[1].match(new RegExp("\\d*"))[0];if(parseInt(l.digits)<k.toString().length){var a=Math.pow(10,parseInt(l.digits));n=n.replace(inputmask.escapeRegex(l.radixPoint),"."),n=Math.round(parseFloat(n)*a)/a,n=n.toString().replace(".",l.radixPoint)}}return n.toString()},canClearPosition:function(a,v,u,q,A){var s=a.validPositions[v].input,r=s!=A.radixPoint||null!=a.validPositions[v].match.fn&&0==A.decimalProtect||isFinite(s)||v==u||s==A.groupSeparator||s==A.negationSymbol.front||s==A.negationSymbol.back;if(r&&isFinite(s)){var z;if(!q&&a.buffer){z=a.buffer.join("").substr(0,v).match(A.regex.integerNPart(A));var t=v+1,B=null==z||0==parseInt(z[0].replace(new RegExp(inputmask.escapeRegex(A.groupSeparator),"g"),""));if(B){for(;a.validPositions[t]&&(a.validPositions[t].input==A.groupSeparator||"0"==a.validPositions[t].input);){delete a.validPositions[t],t++}}}var x=[];for(var y in a.validPositions){x.push(a.validPositions[y].input)}1==A.numericInput&&(v=x.join("").length-v,x.reverse()),z=x.join("").match(A.regex.integerNPart(A));var w=b.inArray(A.radixPoint,a.buffer);if(z&&(-1==w||w>=v)){if(0==z[0].indexOf("0")){r=z.index!=v||-1==w}else{var C=parseInt(z[0].replace(new RegExp(inputmask.escapeRegex(A.groupSeparator),"g"),""));-1!=w&&10>C&&a.validPositions[v]&&(a.validPositions[v].input="0",a.p=A.prefix.length+1,r=!1)}}}return r},onKeyDown:function(h,a,k,j){var e=b(this);if(h.ctrlKey){switch(h.keyCode){case inputmask.keyCode.UP:e.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(j.step)),e.triggerHandler("setvalue.inputmask");break;case inputmask.keyCode.DOWN:e.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(j.step)),e.triggerHandler("setvalue.inputmask")}}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1},numeric2:{alias:"numeric"}}),inputmask}(jQuery),function(b){return inputmask.extendAliases({phone:{url:"phone-codes/phone-codes.js",countrycode:"",mask:function(a){a.definitions["#"]=a.definitions[9];var d=[];return b.ajax({url:a.url,async:!1,dataType:"json",success:function(c){d=c},error:function(c,h,g){alert(g+" - "+a.url)}}),d=d.sort(function(c,f){return(c.mask||c)<(f.mask||f)?-1:1})},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(e,f){var a=e.replace(/^0/g,"");return(a.indexOf(f.countrycode)>1||-1==a.indexOf(f.countrycode))&&(a="+"+f.countrycode+a),a}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),inputmask}(jQuery),function(b){return inputmask.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(a,d){return new RegExp(d.regex).test(a.join(""))},definitions:{r:{validator:function(z,t,w,u,C){function v(c,d){this.matches=[],this.isGroup=c||!1,this.isQuantifier=d||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function q(){var g,l,j=new v(),e=[];for(C.regexTokens=[];g=C.tokenizer.exec(C.regex);){switch(l=g[0],l.charAt(0)){case"(":e.push(new v(!0));break;case")":var f=e.pop();e.length>0?e[e.length-1].matches.push(f):j.matches.push(f);break;case"{":case"+":case"*":var d=new v(!1,!0);l=l.replace(/[{}]/g,"");var c=l.split(","),k=isNaN(c[0])?c[0]:parseInt(c[0]),m=1==c.length?k:isNaN(c[1])?c[1]:parseInt(c[1]);if(d.quantifier={min:k,max:m},e.length>0){var h=e[e.length-1].matches;if(g=h.pop(),!g.isGroup){var f=new v(!0);f.matches.push(g),g=f}h.push(g),h.push(d)}else{if(g=j.matches.pop(),!g.isGroup){var f=new v(!0);f.matches.push(g),g=f}j.matches.push(g),j.matches.push(d)}break;default:e.length>0?e[e.length-1].matches.push(l):j.matches.push(l)}}j.matches.length>0&&C.regexTokens.push(j)}function s(m,d){var G=!1;d&&(a+="(",B++);for(var g=0;g<m.matches.length;g++){var f=m.matches[g];if(1==f.isGroup){G=s(f,!0)}else{if(1==f.isQuantifier){var o=b.inArray(f,m.matches),I=m.matches[o-1],c=a;if(isNaN(f.quantifier.max)){for(;f.repeaterPart&&f.repeaterPart!=a&&f.repeaterPart.length>a.length&&!(G=s(I,!0));){}G=G||s(I,!0),G&&(f.repeaterPart=a),a=c+f.quantifier.max}else{for(var h=0,p=f.quantifier.max-1;p>h&&!(G=s(I,!0));h++){}a=c+"{"+f.quantifier.min+","+f.quantifier.max+"}"}}else{if(void 0!=f.matches){for(var k=0;k<f.length&&!(G=s(f[k],d));k++){}}else{var e;if("["==f.charAt(0)){e=a,e+=f;for(var j=0;B>j;j++){e+=")"}var l=new RegExp("^("+e+")$");G=l.test(y)}else{for(var n=0,H=f.length;H>n;n++){if("\\"!=f.charAt(n)){e=a,e+=f.substr(0,n+1),e=e.replace(/\|$/,"");for(var j=0;B>j;j++){e+=")"}var l=new RegExp("^("+e+")$");if(G=l.test(y)){break}}}}a+=f}}}if(G){break}}return d&&(a+=")",B--),G}null==C.regexTokens&&q();var A=t.buffer.slice(),a="",r=!1,B=0;A.splice(w,0,z);for(var y=A.join(""),x=0;x<C.regexTokens.length;x++){var v=C.regexTokens[x];if(r=s(v,v.isGroup)){break}}return r},cardinality:1}}}}),inputmask}(jQuery);$(document).ready(function(){$(".side-nav li a").on("click",function(a){if(($(a.target).hasClass("sub-cat-title"))&&("inline"!=$(".exit-off-canvas").css("display"))){$(".exit-off-canvas").click()}});bF();$(document).ajaxComplete(function(){bF()});$(document).on("opened.fndtn.reveal","[data-reveal]",function(){var a=window.setTimeout(bF,200)});$(document).on("click",".section-container .title>a",function(a){a.preventDefault();bF();$(".section-container section.active").removeClass("active");$(this).closest("section").addClass("active");var b=window.setTimeout(bF,200)});function bF(){if($(".section-container")[0]){var a=parseInt($(".section-container.tabs section:nth-child(1n) .title").css("width"),10);$(".section-container.tabs section:nth-child(2n) .title").css("left",(a-3)+"px")}}$.ajaxSetup({cache:false});function bu(){$("html").removeClass("small-screen medium-screen large-screen");if($("#smallTest").css("display")!=="none"){$("html").addClass("small-screen")}else{if($("#mediumTest").css("display")!=="none"){$("html").addClass("medium-screen")}else{if($("#largeTest").css("display")!=="none"){$("html").addClass("large-screen")}}}}bu();$(window).resize(function(){bu()});$("img[usemap]").rwdImageMaps();$(".sub-cat a").click(function(a){window.location=$(this).attr("href")});$(".hide-while-loading").addClass("done-loading");$(".done-loading").removeClass("hide-while-loading");var a3=$(".section-container .content");if(a3.hasClass("normalFont")){$(".text-sizer a.normalFont").addClass("active")}else{if(a3.hasClass("mediumFont")){$(".text-sizer a.mediumFont").addClass("active")}else{if(a3.hasClass("largeFont")){$(".text-sizer a.largeFont").addClass("active")}}}$(".text-sizer").on("click","a",function(a){a.preventDefault();var b=$(this);$(".zftabs--content .content").removeClass("normalFont mediumFont largeFont").addClass(b.attr("class"));$(".section-container .content").removeClass("normalFont mediumFont largeFont").addClass(b.attr("class"));$(".text-sizer a").removeClass("active");b.addClass("active")});$("body").on("click","a.unavailable",function(a){a.preventDefault()});var br=true;try{sessionStorage.setItem("storage","test");sessionStorage.removeItem("storage")}catch(ct){br=false}var bp=$("body");if(bp.hasClass("home")){function bt(f){var a=$("html"),c=$(".homepage-features li:first img"),b=($("#homeCatalogCarousel").width()/2)-($(".catalog-slide").length*9.5+25),d=$(".homepage-carousel li:first img").height(),e=$(".homepage-carousel ul.orbit-slides-container");$(".pagers li.first").css("marginLeft",b);if(a.hasClass("medium-screen")){c.css("height",$("#homeCatalogCarousel").height())}else{c.css("height","auto")}if(a.hasClass("small-screen")&&a.hasClass("touch")){e.css("marginBottom",10)}else{e.css("marginBottom",0)}e.height(d)}var bG;$(window).resize(function(a){if(!a.isTrigger&&!$("html").hasClass("ie8")){clearTimeout(bG);bG=setTimeout(function(){bt()},1000)}});setTimeout(function(){bt(true);$.fn.rwdImageMaps()},1000);var bB=function(b,f){var e=b.find(".carousel").length?b.find(".carousel"):b.find(".items"),g=e.find("> li"),a=b.find("a.jcarousel-prev").length?b.find("a.jcarousel-prev"):b.find(".pagers .previous a"),d=b.find("a.jcarousel-next").length?b.find("a.jcarousel-next"):b.find(".pagers .next a"),h=f;var c=($(".pagers").width()/2)-($(".catalog-slide").length*9.5+25);$(".pagers li.first").css("marginLeft",c);g.each(function(){var k=$(this);if(k.hasClass("show")){$(".pagers li."+k.attr("id")).addClass("active")}});$(".catalog-slide").on("click",function(){var l=$(this).data("slide"),k=g.size();if(l==k||l==k-1){$(".catalog-slide").removeClass("active");$(".catalog-"+k).addClass("active");$(".catalog-"+(k-1)).addClass("active");$(".catalog-"+(k-2)).addClass("active");$(".catalog-thumb").removeClass("show hidden").addClass("hidden");$("#catalog-"+k).addClass("show").removeClass("hidden");$("#catalog-"+(k-1)).addClass("show").removeClass("hidden");$("#catalog-"+(k-2)).addClass("show").removeClass("hidden");d.addClass("not-selectable");a.removeClass("not-selectable")}else{if(l=="1"||l=="2"){$(".catalog-slide").removeClass("active");$(".catalog-1").addClass("active");$(".catalog-2").addClass("active");$(".catalog-3").addClass("active");$(".catalog-thumb").removeClass("show hidden").addClass("hidden");$("#catalog-1").addClass("show").removeClass("hidden");$("#catalog-2").addClass("show").removeClass("hidden");$("#catalog-3").addClass("show").removeClass("hidden");a.addClass("not-selectable");d.removeClass("not-selectable")}else{$(".catalog-slide").removeClass("active");$(".catalog-"+(l-1)).addClass("active");$(".catalog-"+l).addClass("active");$(".catalog-"+(l+1)).addClass("active");$(".catalog-thumb").removeClass("show hidden").addClass("hidden");$("#catalog-"+(l-1)).addClass("show").removeClass("hidden");$("#catalog-"+l).addClass("show").removeClass("hidden");$("#catalog-"+(l+1)).addClass("show").removeClass("hidden");a.removeClass("not-selectable");d.removeClass("not-selectable")}}});a.click(function(){if(!a.hasClass("not-selectable")){var k=g.size(),l=0;g.each(function(){if($(this).is(".show")){l=$(this).attr("title")}});if(parseInt(l)>1&&parseInt(l)-h>=1){g.each(function(){var m=$(this),n=parseInt(l)-m.attr("title");if(n<=h&&n>0){m.removeClass("hidden").addClass("show");$(".pagers li."+m.attr("id")).addClass("active")}else{m.removeClass("show").addClass("hidden");$(".pagers li."+m.attr("id")).removeClass("active")}})}if(parseInt(l)-h>1){a.removeClass("not-selectable")}else{a.addClass("not-selectable")}if(parseInt(l)-1<k){d.removeClass("not-selectable")}else{d.addClass("not-selectable")}}});d.click(function(){if(!d.hasClass("not-selectable")){var k=g.size(),l=0;g.each(function(){if($(this).is(".show")){l=$(this).attr("title")}});if(l<k){g.each(function(){var m=$(this),n=parseInt(l)-$(this).attr("title");if(n>=-1&&n<(h-1)){m.removeClass("hidden").addClass("show");$(".pagers li."+m.attr("id")).addClass("active")}else{m.removeClass("show").addClass("hidden");$(".pagers li."+m.attr("id")).removeClass("active")}})}if(k==parseInt(l)+1){d.addClass("not-selectable")}else{d.removeClass("not-selectable")}if(parseInt(l)-1>1){a.removeClass("not-selectable")}else{a.addClass("not-selectable")}}})};var bM=$("#homeCatalogCarousel, .carousel");$.each(bM,function(b,c){var a=$(c),d=a.hasClass("products")?4:3;bB($(c),d)});function bS(){var d=$("html").hasClass("medium-screen"),e=$("html").hasClass("small-screen"),c=0;if(!$("html").hasClass("ie8")){if(d||e){var a=$(window).width()-70,b=a/4;if(e){b=a/2}$(".homepage-featured-items .scroll-container").css("width",a);$(".homepage-featured-items .scroll-group").css("left","0px");$(".homepage-featured-items .scroll-button-left").addClass("visibility","hidden");$(".homepage-featured-items .scroll-button-right").css("visibility","visible");$(".homepage-featured-items .cs-rec").css("width",b)}if($("html").hasClass("large-screen")){$(".homepage-featured-items .scroll-container").css("width","726px");$(".homepage-featured-items .scroll-group").css("left","0px");$(".homepage-featured-items .scroll-button-left").css("visibility","hidden");$(".homepage-featured-items .scroll-button-right").css("visibility","visible");$(".homepage-featured-items .cs-rec").css("width","180px")}}setTimeout(function(){$(".homepage-featured-items .scroll-group li").each(function(){var f=$(this).height();if(f>c){c=f}});$("#unique-descriptive-recslot-id").height(c+5)},1000)}if($(".homepage-featured-items").length>0){if(ATGSvcs.erg.cond("rendered")){bS()}else{ATGSvcs.erg.wait({rendered:true},bS)}$(window).resize(function(a){if(!a.isTrigger&&!$("html").hasClass("ie8")){bS()}})}}var bs=function(){console.log("sizeChartHandler");var a=$(this),b=a.data("img")+'<a class="close-reveal-modal">&#215;</a>';$(document).on("close.fndtn.reveal","#sizeChartModal[data-reveal]",function(){if(a.parents("#quickViewModal").length>0){$(".reveal-modal-bg").hide();$("#quickViewModal").foundation("reveal","open")}});$("#sizeChartModal").html(b).foundation("reveal","open")},b9=function(){if($("#personalizationModal").html().length==0){var c=$(this),b=c.siblings(".personalization-image"),a="<h3>Personalization Instructions</h3>";for(var d=0;d<b.length;d++){a+='<img src="'+b[d].value+'" alt="Personalization Instructions" />'}a+='<a class="close-reveal-modal">&#215;</a>';$("#personalizationModal").html(a);$(document).on("close.fndtn.reveal","#personalizationModal[data-reveal]",function(){$("#personalizationModal").html("");if(c.parents("#quickViewModal").length>0){$("#quickViewModal").foundation("reveal","open")}});$("#personalizationModal").foundation("reveal","open");if(!jsMQ.isLarge()){$("html, body").animate({scrollTop:($("#personalizationModal").focus().offset().top-56)},400)}}};function cf(){bd();$("body").on("click",".sizeChart",bs);$("body").on("click",".personalization-link",b9)}function bX(){$("#sizeChartModal").off("closed");$("#personalizationModal").off("closed");$("body").off("click",".sizeChart",bs)}function b4(){bX();cf()}function ca(){bX();$("#quickView").on("click",".sizeChart",bs);$("#quickView").on("click",".personalization-link",b9)}function bd(){$("#sizeChartModal").off("closed");$("#personalizationModal").off("closed");$("#quickView").off("click",".sizeChart",bs);$("#quickView").off("click",".personalization-link",b9)}function b1(){bd();ca()}cf();$("body").on("click","#firstPicker li",function(){b4()});$("body").on("click","#secondPicker li",function(){b4()});$("body").on("click","[id^=a_sku]",function(){b4()});var cs=$(window).height()/2,bA=0,bW=$(".to-top");$(window).scroll(function(){var a=$(this).scrollTop();if(a>bA){if(a>cs){bW.show()}}else{if(a<cs){bW.hide()}}bA=a});$(".to-top").on("click",function(){$("html, body").animate({scrollTop:0},"300")});if(bp.hasClass("pdp")){var cs=$(window).height()/2,bA=0,bW=$(".to-top");$(window).scroll(function(){var a=$(this).scrollTop();if(a>bA){if(a>cs){bW.show()}}else{if(a<cs){bW.hide()}}bA=a});$(".to-top").on("click",function(){$("html, body").animate({scrollTop:0},"300")});$("body").on("click","#mainDataOrbit",function(c){c.preventDefault();if(!$("html").hasClass("small-screen")){function a(){var f=$("#imageZoomSlider").find("li.active img")[0],d,e;$("<img>").attr("src",$(f).attr("src")).load(function(){d=this.width;e=-d/2;$("#imageZoomModal").css("width",d).css("marginLeft",e)})}function b(){var d=$("#imageZoomSlider li.active img").width(),e=-d/2;$("#imageZoomModal").css("width",d).css("marginLeft",e)}$("#imageZoomModal").bind("opened",function(){if($("html").hasClass("lt-ie9")){b()}else{a()}});$("#imageZoomSlider").on("orbit:before-slide-change",function(d,e){if($("html").hasClass("lt-ie9")){b()}else{a()}});$("#imageZoomModal").load("/catalog/includes/inc_zoomImage_Modal.jsp?productId="+$(this).data("pid")+"&",function(){$(this).foundation("orbit","reflow");$('#orbitLinks a[data-orbit-link="'+$("#mainDataOrbit").attr("data-orbit-link")+'"]').trigger("click");$("#imageZoomModal .orbit-caption").click(function(d){return false});$("#imageZoomModal .active img").click(function(d){return false})});$("#imageZoomModal").foundation("reveal","open")}});if(br){var cb=window.location.toString().match(/prod[0-9]*/);sessionStorage.setItem("productId",cb);var ck=window.location.search.substring(1).split("&");var bv="";ck.forEach(function(a){var b=a.split("=");if(b[0]=="fm"&&b[1]!="search"){sessionStorage.setItem("fm",b[1]);return true}if(b[0]=="fm"&&b[1]=="search"){bv=b[1];return true}return false});var cc=sessionStorage.getItem("categoryId"),cv=sessionStorage.getItem("Ns"),bU=sessionStorage.getItem("N"),N=sessionStorage.getItem("Ntk"),a6=sessionStorage.getItem("Ntt"),bc=sessionStorage.getItem("Nty"),bO=sessionStorage.getItem("D"),ba=sessionStorage.getItem("Ntx"),bz=sessionStorage.getItem("Dx"),a0=sessionStorage.getItem("offset"),bC=sessionStorage.getItem("Nrpp"),cu=sessionStorage.getItem("Nr"),b0=sessionStorage.getItem("bookId"),cr=sessionStorage.getItem("No"),bw=sessionStorage.getItem("pageNum"),bg=sessionStorage.getItem("productId");var ch="";if(bv=="search"){ch="search"}else{ch=sessionStorage.getItem("fm")}$.ajax({url:"/navigation/linkServiceJSON.jsp",data:{categoryId:cc,Ns:cv,N:bU,Ntk:N,Ntt:a6,Nty:bc,D:bO,Ntx:ba,Dx:bz,fm:ch,offset:a0,productId:bg,currentUrl:window.location.href,Nrpp:bC,No:cr,pageNum:bw,Nr:cu,bookId:b0},success:function(b){var d=b.linkServiceParameters,h=d.prevProdPDPURL,g=d.nextProdPDPURL,a=d.prevProdId,l=d.nextProdId;searchResults=d.SearchResults;sessionStorage.setItem("Nrpp",d.Nrpp);sessionStorage.setItem("No",d.No);var f=h.replace(/amp;/g,"");var k=g.replace(/amp;/g,"");var e=true;var c=true;if(searchResults.length>0){$(".search-results").attr("href",searchResults);$(".breadcrumbs").addClass("hidden");$(".backtosearch").removeClass("hidden")}else{$(".backtosearch").addClass("hidden")}if(a.length>0){$(".previous-button").attr("href",f).removeClass("unavailable")}else{e=false}if(l.length>0){$(".next-button").attr("href",k).removeClass("unavailable")}else{c=false}if(e||c){$(".button-pagination").removeClass("hidden")}},error:function(a){console.log("error:",a)}})}$("#tellAFriend").on("click",function(){console.log("show tell a friend modal")})}if(br){$("body").on("click",".product-link",function(e){e.preventDefault();var a=$(this).attr("href"),c=a.split("?")[1].split("&"),b=window.location.search.substring(1).split("&"),d=window.location.href.split("?")[0];sessionStorage.clear();if(d.indexOf("N-")!=-1){d=d.substring(d.indexOf("N-")+2);if(d.indexOf(";")!=-1){d=d.substring(0,d.indexOf(";"))}d=d.replace(/[^a-zA-Z0-9]/g,"");sessionStorage.setItem("N",d)}if(c.length>0){c.forEach(function(f){var g=f.split("=");if(g[1]!="search"){sessionStorage.setItem(g[0],g[1])}})}if(b.length>0){b.forEach(function(f){var g=f.split("=");if(g[1]!="search"){sessionStorage.setItem(g[0],g[1])}})}sessionStorage.setItem("Nr",$("#recordFilterState").val());window.location=a})}$(".prod-item").hover(function(){if(!$("html").hasClass("small-screen")){$(this).find(".quick-view").css("display","block")}},function(){$(this).find(".quick-view").css("display","none")});$(document).on("open.fndtn.reveal","#quickViewModal",function(){nTime=setTimeout(function(){$(".reveal-modal-bg").css("display","block")},480);$(this).foundation("section","reflow");$("#quickViewModal").on("click",".section-container section",function(c){c.preventDefault();var b=$(this);b.addClass("active").siblings("section").removeClass("active")});var a=$(".section-container .content");if(a.hasClass("normalFont")){$(".text-sizer a.normalFont").addClass("active")}else{if(a.hasClass("mediumFont")){$(".text-sizer a.mediumFont").addClass("active")}else{if(a.hasClass("largeFont")){$(".text-sizer a.largeFont").addClass("active")}}}$(".text-sizer").on("click","a",function(c){c.preventDefault();var b=$(this);$(".zftabs--content .content").removeClass("normalFont mediumFont largeFont").addClass(b.attr("class"));$(".section-container .content").removeClass("normalFont mediumFont largeFont").addClass(b.attr("class"));$(".text-sizer a").removeClass("active");b.addClass("active")});b1();$("#quickView").on("click","#firstPicker li",function(){b1()});$("#quickView").on("click","#secondPicker li",function(){b1()});$("#quickView").on("click","[id^=a_sku]",function(){b1()})});if(!$(".category-list")){$(".side-nav").find('a[href="'+window.location.pathname+window.location.search+'"]').addClass("selected")}$("body").on("click","#favoritesDummyButton",function(){$(".favoritesBtn").trigger("click")});if($("#atg_store_catSubProdList").length>0){var cl=parseInt($("#pageRecsPerPage").val(),10),co=parseInt($("#sizeTotalNumRecs").val(),10),b3=parseInt($("#pageOffsetVal").val(),10),bQ=$("#categoryName").val(),cg=b3+cl;if(cg>co){cg=co}if(co=="0"){$(".numItems").html("Items "+(b3)+" - "+cg+" of "+co)}else{$(".numItems").html("Items "+(b3+1)+" - "+cg+" of "+co)}$("#searchCrumbSpan").html("Total Matches Found: "+co);$("#numItemsTop").html(" ("+co+")");$("#numItemsTop1").html(" ("+co+")");var bm=$("#rightSection"),bV=$(".ltdpagination"),x=$("#refinements"),bq=$("#sorting"),bL=$("#paginationUL");bq.detach().appendTo(bm);bL.detach().appendTo(bV);$('<p id="numItems" class="numItems show-for-small"></p>').insertAfter("#bottomltdpagination #paginationUL");$("#numItems.show-for-small").html($("#numItems.hide-for-small").html());Array.prototype.getUnique=function(){var c={},a=[];for(var d=0,b=this.length;d<b;++d){if(c.hasOwnProperty(this[d])){continue}a.push(this[d]);c[this[d]]=1}return a};Array.prototype.except=function(a){return this.filter(function(b){return !(a.indexOf(b)>-1)})};function bH(b){var f="",a=b.split(";")[0];if(b6){if(a.search("N-")!==-1){f=a.split("N-")[1].split("/")[0].split("?")[0]}else{if(a.search("N=")!==-1){f=a.split("N=")[1].split("/")[0].split("?")[0]}else{console.log("cannot find n-value.")}}}else{var e=a.split("?"),c=e[e.length-1],d=c.split("&");d.forEach(function(g){if(g.indexOf("N=")==0){f=g.split("=")[1]}})}return f}function bD(d){var c="";d.getUnique().forEach(function(f,g){if(f!=""){c+=(g!=0?ce:"")+f}});var a=document.URL.split("#")[0],e=bH(a),b="";if(e!==""){if(c.length==0){b=a.replace("N="+e,"");if(a.search("N-")!==-1){b=a.replace("_/N-"+e,"")}if(b.indexOf("?")==b.length-1){b=b.substring(0,b.length-1)}}else{b=a.replace(e,c)}}else{b=a+((c.length>0)?(a.indexOf("?")>=0?"&":"?")+"N="+c:"")}return b}function a1(a,b){return $.map(a,function(c){return $.inArray(c,b)<0?null:c})}function a8(g){var c=b8;for(var f=0;f<g.length;f++){var d=bH($(g[f]).data("remove-action")),b=b8.except(d),c=c.except(b)}var h=bD(c);var e="";if(h.indexOf("&Nf")!=-1){var a=h.split("&");var e=a[0];for(var f=1;f<a.length;f++){if(a[f].indexOf("Nf")==-1){e+="&"+a[f]}}h=e}else{if(h.indexOf("?Nf")!=-1){var a=h.split("?");var e=a[0];if(a[1].indexOf("Nf")==-1){e=e+"?"+a[1].substring((a[1].indexOf("&")+1),a[1].length)}h=e}}return h}function bb(f,a){var c=bH(f),e=bH(a),d="",b=a1(c.split(ce),e.split(ce));b.forEach(function(h,g){d+=(g!=0?ce:"")+h});return f.replace(c,d)}function a4(a){var b=$("#totalSelectedRefinements").val();if(typeof(a)=="string"){var d=$("#"+a);if(d.size()>0){if(d.hasClass("page-number")){$(".page-number").on("click",".update-refinements",function(h){h.preventDefault();var k=$("#slider-range").slider("values"),g="&";if(bh.indexOf("?")<0){g="?"}bh=bh+g+"Nf="+bJ+"|BTWN+"+k[0]+"+"+k[1];window.location=bh})}else{var c=$("#"+a+" a.active[data-remove-action]"),f=$("#"+a+"-selector-update");if(c.length>0){$(".refine-results + hr").removeClass("hidden");$("#refineResultsList").append('<li class="button tiny radius secondary selected-refinement"><a class="reset-refinements" href="'+a8(c)+'">Reset Refinements</a></li>')}if(f.size()>0){f.click(function(){var p=[],h="";var s=$("#"+a+" a.active[data-add-action]");s.each(function(){var u=$.makeArray($(bH($(this).data("add-action")).split(ce))),t=u.except(b8);p=$.merge(p,t)});p=$.merge(p,b8);var g=$("#"+a+" a:not(.active)[data-remove-action]");g.each(function(){var t=bH($(this).data("remove-action")).split(ce),u=b8.except(t);p=p.except(u)});var r=bD(p);if(window.location.href.indexOf("?")>0){var l=r.split("?")[0]+"?",q=r.split("?")[1].split("&"),k=0,m="";h=l;q.forEach(function(t){var u=t.split("=")[0];if(u=="N"){m=t}else{if(u!=="No"&&u!=="Nr"&&u!=="Nrpp"&&u!=="pageNum"){k++;if(k>1){h+="&"}h+=t}}});if(m!==""){if(window.location.href.indexOf("?")!==-1){h+="&"+m}else{h+="?"+m}}}else{h=r}if(a=="departmentLTD"||a=="departmentLS"){var n="",o=0;$("#"+a+" a.active").each(function(){if(o>0){n+=":"}n+=($(this).text().split("(")[0].trim().replace(/ /g,"-"));o++});fireTealiumEvent({refine_catalog_dept:n})}window.location.href=h;return false})}}}}else{if(b==1){var e=a.data("remove-url");$(".refine-results + hr").removeClass("hidden");$("#refineResultsList").append('<li class="button tiny radius secondary selected-refinement"><a class="reset-refinements" href="'+e+'">Reset Refinements</a></li>')}}}var cp=$("#totalSelectedRefinements").val(),bn=0;if($("#selectedRefinement-0").length==0){bn=1;cp++}var bN="";var bE=0;for(bn;bn<cp;bn++){var bi=$("#selectedRefinement-"+bn),cm=bi.data("dimension-name"),be=bi.data("display-name"),bI="",bY=be.split("."),bR=MAIN_CONSTANTS[bY[0]],a2=bi.data("label"),a7=bi.data("remove-url"),cq=a7.split("N-")[1],bZ=bi.data("product-count"),a5=$("ul#"+cm+" #refineLIs");if(be=="departmentLTD"||be=="departmentLS"){bI="department"}for(var bo=1;bo<bY.length;bo++){bR=bR[bY[bo]]}if(a5.length==0&&cm!="pageNumberSlider"){var by=$("#"+bR+"1").find("img")[0];if(typeof(by)!="undefined"){$("ul#"+bR).append('<li><a class="refine-check active" data-remove-action="'+a7+'"> <input type="checkbox" CHECKED="CHECKED" class="checked"> '+a2+' <span class="productCount">('+bZ+")</span></a></li>");a5=$("ul#"+cm+" #refineLIs");$("#"+bR).addClass("in");var bj=$("#"+bR+"1").find("img")[0];bj.src="/images/minus-icon.png";$("#drop1-a").text("Edit Refinements")}else{$("#verticalbar").append(bR+'<span><span id="'+bR+'count"></span><a id="'+bR+'1" class="togglerefinement" data-target="#'+bR+'" style="float:right;" data-toggle="collapse"><img class="img-swap" src="/images/minus-icon.png"></a></span><ul id="'+bR+'"class="collapse in '+bI+'"><span id="refineLIs"></span><li><a class="refine-check active" data-remove-action="'+a7+'"> <input type="checkbox" CHECKED="CHECKED" class="checked"> '+a2+' <span class="productCount">('+bZ+')</span></a></li></ul><hr class="refinement-divider">');$("#drop1-a").removeClass("hidden");$("#drop1-a").text("Edit Refinements")}if(bn==0){bN=bR}if(bN!=bR){if(typeof($("#totalAvailableRefinements"+bN)).val()=="undefined"){var a9=parseInt(bE);$("#"+bN+"count").html(" ("+a9+")")}else{var a9=parseInt(bE)+parseInt($("#totalAvailableRefinements"+bN).val());$("#"+bN+"count").html(" ("+a9+")")}bE=1;bN=bR}else{bE++}if(bn==(cp-1)){if(typeof($("#totalAvailableRefinements"+bR)).val()=="undefined"){var a9=parseInt(bE)}else{var a9=parseInt(bE)+parseInt($("#totalAvailableRefinements"+bR).val())}$("#"+bR+"count").html(" ("+a9+")")}}if(cm!="pageNumberSlider"){a5.append('<li><a class="refine-check active" data-remove-action="'+a7+'"><input type="checkbox" CHECKED class=">'+a2+' <span class="productCount">('+bZ+")</span></a></li>")}var bK=window.location.search.substring(1,window.location.search.length);var bx=bK.split("&");var b5="";for(var bT=0;bT<bx.length;bT++){if(bx[bT].indexOf("categoryId")>=0||bx[bT].indexOf("bookId")>=0){if(a7.indexOf(bx[bT])==-1){if(a7.indexOf("?")!=-1){b5="&"+bx[bT]}else{b5="?"+bx[bT]}}}}$("#refineResultsList").append('<li class="button tiny radius secondary selected-refinement"><a href="'+a7+b5+'">'+a2+"<span>X</span></a></li>")}$("body").on("click",".togglerefinement",function(){var a=$(this).find("img")[0];if(a.src.indexOf("plus-icon.png")>=0){a.src="/images/minus-icon.png"}else{a.src="/images/plus-icon.png"}});$("body").on("click",".refine-check",function(){var b=$(this);var a=b.children("input:checkbox");b.toggleClass("active");a.toggleClass("checked");if(a.hasClass("checked")){a.attr("CHECKED","CHECKED")}else{a.attr("CHECKED",false).removeAttr("CHECKED")}});var b8=[],b6=false,ce="+",bk=$(".refinement-dropdown");if(window.location.href.search("/_/N-")!==-1){b6=true;ce="Z"}else{if($(".refine-check").data("add-action")!==null&&$(".refine-check").data("add-action")!==undefined){if($(".refine-check").data("add-action").search("/_/N-")!==-1){b6=true;ce="Z"}}}if(bH(window.location.href)!==""){b8=bH(window.location.href).split(ce)}for(var bn=0;bn<bk.length;bn++){a4(bk[bn].id)}if(cp==1){var bi=$("#selectedRefinement-0"),cm=bi.data("dimension-name");if(cm=="pageNumberSlider"){a4(bi)}}var cn=$(".reset-refinements"),bl=cn.length,bP="";if(bl>0){bP=cn[0].href}if(bl>1){for(var bn=1;bn<bl;bn++){bP=bb(bP,cn[bn].href)}bP=bP.replace("_/N-?","?");cn.parents("li").remove();$("#refineResultsList").append('<li class="button tiny radius secondary selected-refinement"><a class="reset-refinements" href="'+bP+'">Reset Refinements</a></li>')}}var cd=$("#bookPageMaxLimit").val();if(""==cd||0==cd||undefined==cd){cd=500}var b7=1,cj=cd,bh=$(location).attr("href"),b2=window.location.search.indexOf("Nf"),j=0,D=cd,bJ=$("#pageNumber").val();if(b2>=0){if(bh.indexOf("&Nf")>=0){var bx=bh.split("&");bh=bx[0];for(var bn=1;bn<bx.length;bn++){if(bx[bn].indexOf("Nf")<0){bh+="&"+bx[bn]}}}else{if(bh.indexOf("?Nf")>=0){bh=bh.substring(0,bh.indexOf("?"));if(bh.indexOf("&")!=-1){bh=bh+"?"+bh.substring(bh.indexOf("&")+1,bh.length)}}}var bf=$("#pageRangeSelected").val();bf=bf.substring(bf.indexOf("BTWN"));var ci=bf.split(" ");j=parseInt(ci[1]);D=parseInt(ci[2])}$(function(){if($("#slider-range").val()!=undefined){$("#slider-range").slider({range:true,min:b7,max:cj,values:[j,D],slide:function(b,a){$("#pageRange").val(a.values[0]+" - "+a.values[1])}});$("#pageRange").val($("#slider-range").slider("values",0)+" - "+$("#slider-range").slider("values",1))}});$("#submitCoupon").on("submit",function(){var a=$("#applyCouponInput").val();fireTealiumEvent({coupon_id:a})});$("#coupon").on("submit",function(){var a=$("#applyCouponInput").val();fireTealiumEvent({coupon_id:a})});$(".browse-history .prod-item a").click(function(a){fireTealiumEvent({e_browse_history:"t"})});$("#reviews").click(function(a){fireTealiumEvent({e_customer_reviews:"t"})});var ck=window.location.search.substring(1).split("&");ck.forEach(function(a){var b=a.split("=");if(b[0]=="writeReview"&&b[1]=="t"){if(typeof submitReview=="function"){submitReview()}}else{if(b[0]=="showReviews"&&b[1]=="t"){$("#reviews").trigger("click");$("html, body").delay(2000).animate({scrollTop:$("#reviews").offset().top},1500)}}});setTimeout(function(){$(document).foundation();$(document).foundation("interchange","reflow")},1500)});$(window).load(function(){$(".exit-off-canvas").css("height",$(document).height());$(".exit-off-canvas").css("width",$(document).width());var b=window.setTimeout(genAlt,480);setAcs_skip()});