<section class="row">
    <div class="columns small-12">
        <p class="caption--p__roboto text-center">Pattern: Input Type Sandbox</p>
        <hr>
    </div>
</section>
<section class="row">
    <div class="columns small-12 medium-12 large-4">
        <p class="caption--p__roboto text-center">Problem</p>
        <hr>
        <p class="article--p__roboto text-center">As the use of smartphones (and their onscreen keyboards) has flourished, the input type has taken on a new and incredibly important role in how people interact with the web.</p>
    </div>
    <div class="columns small-12 medium-6 large-4">
        <p class="caption--p__roboto text-center">Solution</p>
        <hr>
        <p class="article--p__roboto text-center">What we needed was a way to test the near-infinite combination of input types, validation patterns and attributes across any device, OS or browser, to see how onscreen keyboards and HTML5 validation behaviors would react.</p>
    </div>
    <div class="columns small-12 medium-6 large-4">
        <p class="caption--p__roboto text-center">Reference</p>
        <hr>
        <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input" target="_blank"
        class="button extended hollow">HTML5 INPUT</a>
        <a href="http://alistapart.com/article/forward-thinking-form-validation" target="_blank"
        class="button extended hollow">Form Validation</a>
    </div>
</section>

<section class="row">
    <br>
    <div class="columns small-12 medium-12">
        <p class="caption--p__roboto text-center">Generate INPUT TYPE syntax</p>
    </div>
    <hr>
</section>
<section class="row">
    <article class="columns small-12 medium-4">

        <input id="js--input__url" class ="js--input"
        type="url" placeholder="Web Address">
        <hr>
        <input id="js--input__password" class ="js--input"
        type="password" placeholder="Password">

    </article>
    <article class="columns small-12 medium-4">

        <input id="js--input__number" class ="js--input"
        type="TEXT" placeholder="Number">
        <hr>
        <input id="js--input__email" class ="js--input"
        type="email" placeholder="Email Address">
        
    </article>
    <article class="columns small-12 medium-4">

        <input id="js--input__search" class ="js--input"
        type="search" placeholder="Search">
        <hr>
        <input id="js--input__date" class ="js--input"
        type="date" placeholder="Date">

    </article>
</section>

<section class="row">
	<aside class="columns small-12">
<pre>
<code class="language-html">&lt;div class="small-3 columns ensemble-quantity"&gt;
&lt;c:choose&gt;
    &lt;c:when
        test="${availability != null && SKUsoldOut == 'false'}"&gt;
        &lt;dsp:input
            bean="CartModifierFormHandler.items[param:skuIndex].quantity"
            maxlength="3" type="tel"
            value="${defaultQuantityValue}"
            onfocus="clearQuantityInput($(this));"
            id="quantity_${skuId}"
            onblur="cleanQuantityInput($(this), '${defaultQuantityValue}')"
            onkeydown="return killEnter(event);"
            onkeypress="return isNumeric(event);"
            iclass="PinNumber${currentPin} qtyFld radius" /&gt;
    &lt;/c:when&gt;
    &lt;c:otherwise&gt;
        &lt;dsp:input
            bean="CartModifierFormHandler.items[param:skuIndex].quantity"
            maxlength="3" type="tel" id="quantity_${skuId}"
            value="0"
            iclass="PinNumber${currentPin} qtyFld radius"
            disabled="true" /&gt;
    &lt;/c:otherwise&gt;
&lt;/c:choose&gt;
&lt;input type="hidden" name="skuNumFld"
    value="&lt;c:out value='${skuId}'/&gt;" /&gt;
&lt;/div&gt;</code>
</pre>
	</aside>

<template id="js-script">
function generatePassword( nLen ) {
     $('#js--input__url').val(extractDomain(  $('#js--input__url').val() ));
    var sDh = $('#js--input__url').val() + "|" + $('#js--input__password').val();
    sDh = hashThis( sDh.toLowerCase() );
    return sDh.substr(sDh.length - nLen);
}

$("#js--input__password").on("blur", function(){
	var nLen = 12;
	if( $("#js--input__number").val() !== "" ){
		nLen = $("#js--input__number").val();
	}
    $("#js--input__search").val( generatePassword( nLen ) );
    var eSyntax = document.querySelector("#js--input__search");  
    eSyntax.select();
    console.log("clip copy | " + document.execCommand('copy') );
    $("#js--input__search").val("");
    //var eSyntax = document.querySelector("#js--input__number");  
    //eSyntax.select();
});
function hashThis( sIn ){
	var shaObj = new jsSHA("SHA-256", "TEXT");
	shaObj.setHMACKey("eplsg", "TEXT");
	shaObj.update( sIn );
	return shaObj.getHMAC("HEX");
}
function extractDomain(url) {
    var domain;
    url = String(url).toLowerCase();
    if (url.indexOf("://") > -1) {
        domain = url.split('/')[2];
    }
    else {
        domain = url.split('/')[0];
    }
    domain = domain.split(':')[0];
    return domain;
}
</template>
</section>
